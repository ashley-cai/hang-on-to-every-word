var Xi=e=>{throw TypeError(e)};var Zi=(e,t,r)=>t.has(e)||Xi("Cannot "+r);var Ze=(e,t,r)=>(Zi(e,t,"read from private field"),r?r.call(e):t.get(e)),mn=(e,t,r)=>t.has(e)?Xi("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Gr=(e,t,r,o)=>(Zi(e,t,"write to private field"),o?o.call(e,r):t.set(e,r),r);import{t as De,a as pe,c as qt,n as Hn}from"../chunks/BCttikzZ.js";import{i as St}from"../chunks/CUXu99IV.js";import{l as nt,x as rs,i as is,g as x,Q as gt,y as as,z as qi,A as Ur,B as zr,m as pn,ag as os,C as Ka,j as Ja,D as ss,ak as Qa,ab as eo,J as G,aq as fr,ar as Vr,a5 as dr,as as Si,at as Ki,au as ls,aj as cs,av as us,k as fs,aw as Ei,ax as ds,ad as hs,a3 as vs,a2 as gs,ay as to,I as no,az as ms,F as Wt,b as ro,G as _i,e as hr,a1 as ps,aA as ys,aB as xs,aC as ws,aD as Ts,aE as Ss,E as Es,aF as _s,aG as bs,aH as As,aI as Cs,n as yn,a8 as Ji,a9 as Qi,aa as Ds,o as Ue,w as ae,t as Oe,aJ as Ms,M as P,p as Et,aK as Z,ao as Dn,s as q,v as Y,aL as st,q as _t,aM as ft,aN as Wn,aO as ea}from"../chunks/D52ReNKL.js";import{a as Os,w as Is,b as Ps,s as je,e as be}from"../chunks/C_sgatNZ.js";import{p as me,b as Yt,i as Le,s as Rs,a as jn,c as Ns,d as ta}from"../chunks/jfF-Z37O.js";import{o as Pt,a as bi,w as Yn,g as jr}from"../chunks/DtM1MIE2.js";let na=!1;function Ls(){na||(na=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}let rr=null;function Dt(e,t){return t}function ks(e,t,r,o){for(var a=[],n=t.length,s=0;s<n;s++)ls(t[s].e,a,!0);var c=n>0&&a.length===0&&r!==null;if(c){var u=r.parentNode;cs(u),u.append(r),o.clear(),Lt(e,t[0].prev,t[n-1].next)}us(a,()=>{for(var d=0;d<n;d++){var l=t[d];c||(o.delete(l.k),Lt(e,l.prev,l.next)),fs(l.e,!c)}})}function Je(e,t,r,o,a,n=null){var s=e,c={flags:t,items:new Map,first:null},u=(t&to)!==0;if(u){var d=e;s=nt?Ur(vs(d)):d.appendChild(gs())}nt&&rs();var l=null,v=!1,f=gt(()=>{var i=r();return eo(i)?i:i==null?[]:Qa(i)});is(()=>{var i=x(f),h=i.length;if(v&&h===0)return;v=h===0;let g=!1;if(nt){var m=s.data===as;m!==(h===0)&&(s=qi(),Ur(s),zr(!1),g=!0)}if(nt){for(var w=null,_,b=0;b<h;b++){if(pn.nodeType===8&&pn.data===os){s=pn,g=!0,zr(!1);break}var T=i[b],p=o(T,b);_=io(pn,c,w,null,T,p,b,a,t,r),c.items.set(p,_),w=_}h>0&&Ur(qi())}nt||Bs(i,c,s,a,t,o,r),n!==null&&(h===0?l?Ka(l):l=Ja(()=>n(s)):l!==null&&ss(l,()=>{l=null})),g&&zr(!0),x(f)}),nt&&(s=pn)}function Bs(e,t,r,o,a,n,s){var R,N,F,I;var c=(a&ms)!==0,u=(a&(Ei|Si))!==0,d=e.length,l=t.items,v=t.first,f=v,i,h=null,g,m=[],w=[],_,b,T,p;if(c)for(p=0;p<d;p+=1)_=e[p],b=n(_,p),T=l.get(b),T!==void 0&&((R=T.a)==null||R.measure(),(g??(g=new Set)).add(T));for(p=0;p<d;p+=1){if(_=e[p],b=n(_,p),T=l.get(b),T===void 0){var y=f?f.e.nodes_start:r;h=io(y,t,h,h===null?t.first:h.next,_,b,p,o,a,s),l.set(b,h),m=[],w=[],f=h.next;continue}if(u&&Fs(T,_,p,a),(T.e.f&Vr)!==0&&(Ka(T.e),c&&((N=T.a)==null||N.unfix(),(g??(g=new Set)).delete(T))),T!==f){if(i!==void 0&&i.has(T)){if(m.length<w.length){var E=w[0],S;h=E.prev;var D=m[0],A=m[m.length-1];for(S=0;S<m.length;S+=1)ra(m[S],E,r);for(S=0;S<w.length;S+=1)i.delete(w[S]);Lt(t,D.prev,A.next),Lt(t,h,D),Lt(t,A,E),f=E,h=A,p-=1,m=[],w=[]}else i.delete(T),ra(T,f,r),Lt(t,T.prev,T.next),Lt(t,T,h===null?t.first:h.next),Lt(t,h,T),h=T;continue}for(m=[],w=[];f!==null&&f.k!==b;)(f.e.f&Vr)===0&&(i??(i=new Set)).add(f),w.push(f),f=f.next;if(f===null)continue;T=f}m.push(T),h=T,f=T.next}if(f!==null||i!==void 0){for(var C=i===void 0?[]:Qa(i);f!==null;)(f.e.f&Vr)===0&&C.push(f),f=f.next;var M=C.length;if(M>0){var O=(a&to)!==0&&d===0?r:null;if(c){for(p=0;p<M;p+=1)(F=C[p].a)==null||F.measure();for(p=0;p<M;p+=1)(I=C[p].a)==null||I.fix()}ks(t,C,O,l)}}c&&no(()=>{var H;if(g!==void 0)for(T of g)(H=T.a)==null||H.apply()}),dr.first=t.first&&t.first.e,dr.last=h&&h.e}function Fs(e,t,r,o){(o&Ei)!==0&&Ki(e.v,t),(o&Si)!==0?Ki(e.i,r):e.i=r}function io(e,t,r,o,a,n,s,c,u,d){var l=rr,v=(u&Ei)!==0,f=(u&ds)===0,i=v?f?G(a):fr(a):a,h=(u&Si)===0?s:fr(s),g={i:h,v:i,k:n,a:null,e:null,prev:r,next:o};rr=g;try{return g.e=Ja(()=>c(e,i,h,d),nt),g.e.prev=r&&r.e,g.e.next=o&&o.e,r===null?t.first=g:(r.next=g,r.e.next=g.e),o!==null&&(o.prev=g,o.e.prev=g.e),g}finally{rr=l}}function ra(e,t,r){for(var o=e.next?e.next.e.nodes_start:r,a=t?t.e.nodes_start:r,n=e.e.nodes_start;n!==o;){var s=hs(n);a.before(n),n=s}}function Lt(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Ai(e,t,r){Wt(()=>{var o=ro(()=>t(e,r==null?void 0:r())||{});if(r&&(o!=null&&o.update)){var a=!1,n={};_i(()=>{var s=r();hr(s),a&&ps(n,s)&&(n=s,o.update(s))}),a=!0}if(o!=null&&o.destroy)return()=>o.destroy()})}const ia=[...` 	
\r\fÂ \v\uFEFF`];function Hs(e,t,r){var o=e==null?"":""+e;if(t&&(o=o?o+" "+t:t),r){for(var a in r)if(r[a])o=o?o+" "+a:a;else if(o.length)for(var n=a.length,s=0;(s=o.indexOf(a,s))>=0;){var c=s+n;(s===0||ia.includes(o[s-1]))&&(c===o.length||ia.includes(o[c]))?o=(s===0?"":o.substring(0,s))+o.substring(c+1):s=c}}return o===""?null:o}function Ws(e,t){return e==null?null:String(e)}function Ot(e,t,r,o,a,n){var s=e.__className;if(nt||s!==r||s===void 0){var c=Hs(r,o,n);(!nt||c!==e.getAttribute("class"))&&(c==null?e.removeAttribute("class"):t?e.className=c:e.setAttribute("class",c)),e.__className=r}else if(n&&a!==n)for(var u in n){var d=!!n[u];(a==null||d!==!!a[u])&&e.classList.toggle(u,d)}return n}function he(e,t,r,o){var a=e.__style;if(nt||a!==t){var n=Ws(t);(!nt||n!==e.getAttribute("style"))&&(n==null?e.removeAttribute("style"):e.style.cssText=n),e.__style=t}return o}const $s=Symbol("is custom element"),Gs=Symbol("is html");function Us(e){if(nt){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var o=e.value;Te(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var a=e.checked;Te(e,"checked",null),e.checked=a}}};e.__on_r=r,Ss(r),Ls()}}function zs(e,t){var r=ao(e);r.checked!==(r.checked=t??void 0)&&(e.checked=t)}function Te(e,t,r,o){var a=ao(e);nt&&(a[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||a[t]!==(a[t]=r)&&(t==="loading"&&(e[ys]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Vs(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function ao(e){return e.__attributes??(e.__attributes={[$s]:e.nodeName.includes("-"),[Gs]:e.namespaceURI===xs})}var aa=new Map;function Vs(e){var t=aa.get(e.nodeName);if(t)return t;aa.set(e.nodeName,t=[]);for(var r,o=e,a=Element.prototype;a!==o;){r=Ts(o);for(var n in r)r[n].set&&t.push(n);o=ws(o)}return t}const js=()=>performance.now(),yt={tick:e=>requestAnimationFrame(e),now:()=>js(),tasks:new Set};function oo(){const e=yt.now();yt.tasks.forEach(t=>{t.c(e)||(yt.tasks.delete(t),t.f())}),yt.tasks.size!==0&&yt.tick(oo)}function so(e){let t;return yt.tasks.size===0&&yt.tick(oo),{promise:new Promise(r=>{yt.tasks.add(t={c:e,f:r})}),abort(){yt.tasks.delete(t)}}}function Xn(e,t){Is(()=>{e.dispatchEvent(new CustomEvent(t))})}function Ys(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function oa(e){const t={},r=e.split(";");for(const o of r){const[a,n]=o.split(":");if(!a||n===void 0)break;const s=Ys(a.trim());t[s]=n.trim()}return t}const Xs=e=>e;function Zs(e,t,r){var o=rr,a,n,s,c=null;o.a??(o.a={element:e,measure(){a=this.element.getBoundingClientRect()},apply(){if(s==null||s.abort(),n=this.element.getBoundingClientRect(),a.left!==n.left||a.right!==n.right||a.top!==n.top||a.bottom!==n.bottom){const u=t()(this.element,{from:a,to:n},r==null?void 0:r());s=vr(this.element,u,void 0,1,()=>{s==null||s.abort(),s=void 0})}},fix(){if(!e.getAnimations().length){var{position:u,width:d,height:l}=getComputedStyle(e);if(u!=="absolute"&&u!=="fixed"){var v=e.style;c={position:v.position,width:v.width,height:v.height,transform:v.transform},v.position="absolute",v.width=d,v.height=l;var f=e.getBoundingClientRect();if(a.left!==f.left||a.top!==f.top){var i=`translate(${a.left-f.left}px, ${a.top-f.top}px)`;v.transform=v.transform?`${v.transform} ${i}`:i}}}},unfix(){if(c){var u=e.style;u.position=c.position,u.width=c.width,u.height=c.height,u.transform=c.transform}}}),o.a.element=e}function Ci(e,t,r,o){var a=(e&As)!==0,n="both",s,c=t.inert,u=t.style.overflow,d,l;function v(){var m=Ds,w=dr;Ji(null),Qi(null);try{return s??(s=r()(t,(o==null?void 0:o())??{},{direction:n}))}finally{Ji(m),Qi(w)}}var f={is_global:a,in(){t.inert=c,Xn(t,"introstart"),d=vr(t,v(),l,1,()=>{Xn(t,"introend"),d==null||d.abort(),d=s=void 0,t.style.overflow=u})},out(m){t.inert=!0,Xn(t,"outrostart"),l=vr(t,v(),d,0,()=>{Xn(t,"outroend"),m==null||m()})},stop:()=>{d==null||d.abort(),l==null||l.abort()}},i=dr;if((i.transitions??(i.transitions=[])).push(f),Os){var h=a;if(!h){for(var g=i.parent;g&&(g.f&Es)!==0;)for(;(g=g.parent)&&(g.f&_s)===0;);h=!g||(g.f&bs)!==0}h&&Wt(()=>{ro(()=>f.in())})}}function vr(e,t,r,o,a){var n=o===1;if(Cs(t)){var s,c=!1;return no(()=>{if(!c){var m=t({direction:n?"in":"out"});s=vr(e,m,r,o,a)}}),{abort:()=>{c=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return a(),{abort:yn,deactivate:yn,reset:yn,t:()=>o};const{delay:u=0,css:d,tick:l,easing:v=Xs}=t;var f=[];if(n&&r===void 0&&(l&&l(0,1),d)){var i=oa(d(0,1));f.push(i,i)}var h=()=>1-o,g=e.animate(f,{duration:u});return g.onfinish=()=>{var m=(r==null?void 0:r.t())??1-o;r==null||r.abort();var w=o-m,_=t.duration*Math.abs(w),b=[];if(_>0){var T=!1;if(d)for(var p=Math.ceil(_/16.666666666666668),y=0;y<=p;y+=1){var E=m+w*v(y/p),S=oa(d(E,1-E));b.push(S),T||(T=S.overflow==="hidden")}T&&(e.style.overflow="hidden"),h=()=>{var D=g.currentTime;return m+w*v(D/_)},l&&so(()=>{if(g.playState!=="running")return!1;var D=h();return l(D,1-D),!0})}g=e.animate(b,{duration:_,fill:"forwards"}),g.onfinish=()=>{h=()=>o,l==null||l(o,1-o),a()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=yn)},deactivate:()=>{a=yn},reset:()=>{o===0&&(l==null||l(1,0))},t:()=>h()}}function Zn(e,t,r,o=r){t.addEventListener("input",()=>{o(t[e])}),_i(()=>{var a=r();if(t[e]!==a)if(a==null){var n=t[e];o(n)}else t[e]=a+""})}function sa(e){return function(...t){var r=t[0];return r.stopPropagation(),e==null?void 0:e.apply(this,t)}}function la(e,t){var n;var r=(n=e.$$events)==null?void 0:n[t.type],o=eo(r)?r.slice():r==null?[]:[r];for(var a of o)a.call(this,t)}var qs=De('<link rel="preload" as="font" type="font/woff2">'),Ks=De('<meta name="description"> <meta name="author" content="The Pudding"> <meta name="news_keywords"> <meta property="og:title"> <meta property="og:site_name" content="Ashley Cai"> <meta property="og:url"> <meta property="og:description"> <meta property="og:type" content="article"> <meta property="og:locale" content="en_US"> <meta property="og:image"> <meta property="og:image:type" content="image/jpeg"> <meta property="og:image:width" content="1200"> <meta property="og:image:height" content="600"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site"> <meta name="twitter:creator" content="@afishley_png"> <meta name="twitter:title"> <meta name="twitter:description"> <meta name="twitter:image:src"> <meta name="robots" content="max-image-preview:large"> <link rel="canonical"> <!>',1);function Js(e,t){let r=me(t,"title",8,"Hang On To Every Word"),o=me(t,"description",8,"Ashley Cai RISD Degree Project"),a=me(t,"url",8,"https://hangontoeveryword.com"),n=me(t,"keywords",8,""),s=me(t,"preloadFont",24,()=>[]);Ps(c=>{var u=Ks(),d=Ue(u),l=ae(d,4),v=ae(l,2),f=ae(v,4),i=ae(f,2),h=ae(i,6),g=ae(h,10),m=ae(g,4),w=ae(m,2),_=ae(w,2),b=ae(_,4),T=ae(b,2);Je(T,1,s,Dt,(p,y)=>{var E=qs();Oe(()=>Te(E,"href",x(y))),pe(p,E)}),Oe(()=>{Ms.title=r(),Te(d,"content",o()),Te(l,"content",n()),Te(v,"content",r()),Te(f,"content",a()),Te(i,"content",o()),Te(h,"content",`${a()??""}/assets/social-facebook.jpg`),Te(g,"content",a()),Te(m,"content",r()),Te(w,"content",o()),Te(_,"content",`${a()??""}/assets/social-twitter.jpg`),Te(b,"href",`${a()??""}/`)}),pe(c,u)})}function ir(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qs(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lo(e){let t,r,o;e.length!==2?(t=ir,r=(c,u)=>ir(e(c),u),o=(c,u)=>e(c)-u):(t=e===ir||e===Qs?e:el,r=e,o=e);function a(c,u,d=0,l=c.length){if(d<l){if(t(u,u)!==0)return l;do{const v=d+l>>>1;r(c[v],u)<0?d=v+1:l=v}while(d<l)}return d}function n(c,u,d=0,l=c.length){if(d<l){if(t(u,u)!==0)return l;do{const v=d+l>>>1;r(c[v],u)<=0?d=v+1:l=v}while(d<l)}return d}function s(c,u,d=0,l=c.length){const v=a(c,u,d,l-1);return v>d&&o(c[v-1],u)>-o(c[v],u)?v-1:v}return{left:a,center:s,right:n}}function el(){return 0}function tl(e){return e===null?NaN:+e}const nl=lo(ir),rl=nl.right;lo(tl).center;const il=Math.sqrt(50),al=Math.sqrt(10),ol=Math.sqrt(2);function gr(e,t,r){const o=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(o)),n=o/Math.pow(10,a),s=n>=il?10:n>=al?5:n>=ol?2:1;let c,u,d;return a<0?(d=Math.pow(10,-a)/s,c=Math.round(e*d),u=Math.round(t*d),c/d<e&&++c,u/d>t&&--u,d=-d):(d=Math.pow(10,a)*s,c=Math.round(e/d),u=Math.round(t/d),c*d<e&&++c,u*d>t&&--u),u<c&&.5<=r&&r<2?gr(e,t,r*2):[c,u,d]}function sl(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const o=t<e,[a,n,s]=o?gr(t,e,r):gr(e,t,r);if(!(n>=a))return[];const c=n-a+1,u=new Array(c);if(o)if(s<0)for(let d=0;d<c;++d)u[d]=(n-d)/-s;else for(let d=0;d<c;++d)u[d]=(n-d)*s;else if(s<0)for(let d=0;d<c;++d)u[d]=(a+d)/-s;else for(let d=0;d<c;++d)u[d]=(a+d)*s;return u}function ni(e,t,r){return t=+t,e=+e,r=+r,gr(e,t,r)[2]}function ll(e,t,r){t=+t,e=+e,r=+r;const o=t<e,a=o?ni(t,e,r):ni(e,t,r);return(o?-1:1)*(a<0?1/-a:a)}function cl(e){return e}var Yr=1,Xr=2,ri=3,En=4,ca=1e-6;function ul(e){return"translate("+e+",0)"}function fl(e){return"translate(0,"+e+")"}function dl(e){return t=>+e(t)}function hl(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function vl(){return!this.__axis}function co(e,t){var r=[],o=null,a=null,n=6,s=6,c=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,d=e===Yr||e===En?-1:1,l=e===En||e===Xr?"x":"y",v=e===Yr||e===ri?ul:fl;function f(i){var h=o??(t.ticks?t.ticks.apply(t,r):t.domain()),g=a??(t.tickFormat?t.tickFormat.apply(t,r):cl),m=Math.max(n,0)+c,w=t.range(),_=+w[0]+u,b=+w[w.length-1]+u,T=(t.bandwidth?hl:dl)(t.copy(),u),p=i.selection?i.selection():i,y=p.selectAll(".domain").data([null]),E=p.selectAll(".tick").data(h,t).order(),S=E.exit(),D=E.enter().append("g").attr("class","tick"),A=E.select("line"),C=E.select("text");y=y.merge(y.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(D),A=A.merge(D.append("line").attr("stroke","currentColor").attr(l+"2",d*n)),C=C.merge(D.append("text").attr("fill","currentColor").attr(l,d*m).attr("dy",e===Yr?"0em":e===ri?"0.71em":"0.32em")),i!==p&&(y=y.transition(i),E=E.transition(i),A=A.transition(i),C=C.transition(i),S=S.transition(i).attr("opacity",ca).attr("transform",function(M){return isFinite(M=T(M))?v(M+u):this.getAttribute("transform")}),D.attr("opacity",ca).attr("transform",function(M){var O=this.parentNode.__axis;return v((O&&isFinite(O=O(M))?O:T(M))+u)})),S.remove(),y.attr("d",e===En||e===Xr?s?"M"+d*s+","+_+"H"+u+"V"+b+"H"+d*s:"M"+u+","+_+"V"+b:s?"M"+_+","+d*s+"V"+u+"H"+b+"V"+d*s:"M"+_+","+u+"H"+b),E.attr("opacity",1).attr("transform",function(M){return v(T(M)+u)}),A.attr(l+"2",d*n),C.attr(l,d*m).text(g),p.filter(vl).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Xr?"start":e===En?"end":"middle"),p.each(function(){this.__axis=T})}return f.scale=function(i){return arguments.length?(t=i,f):t},f.ticks=function(){return r=Array.from(arguments),f},f.tickArguments=function(i){return arguments.length?(r=i==null?[]:Array.from(i),f):r.slice()},f.tickValues=function(i){return arguments.length?(o=i==null?null:Array.from(i),f):o&&o.slice()},f.tickFormat=function(i){return arguments.length?(a=i,f):a},f.tickSize=function(i){return arguments.length?(n=s=+i,f):n},f.tickSizeInner=function(i){return arguments.length?(n=+i,f):n},f.tickSizeOuter=function(i){return arguments.length?(s=+i,f):s},f.tickPadding=function(i){return arguments.length?(c=+i,f):c},f.offset=function(i){return arguments.length?(u=+i,f):u},f}function gl(e){return co(ri,e)}function ml(e){return co(En,e)}var pl={value:()=>{}};function Di(){for(var e=0,t=arguments.length,r={},o;e<t;++e){if(!(o=arguments[e]+"")||o in r||/[\s.]/.test(o))throw new Error("illegal type: "+o);r[o]=[]}return new ar(r)}function ar(e){this._=e}function yl(e,t){return e.trim().split(/^|\s+/).map(function(r){var o="",a=r.indexOf(".");if(a>=0&&(o=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:o}})}ar.prototype=Di.prototype={constructor:ar,on:function(e,t){var r=this._,o=yl(e+"",r),a,n=-1,s=o.length;if(arguments.length<2){for(;++n<s;)if((a=(e=o[n]).type)&&(a=xl(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++n<s;)if(a=(e=o[n]).type)r[a]=ua(r[a],e.name,t);else if(t==null)for(a in r)r[a]=ua(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new ar(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),o=0,a,n;o<a;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(n=this._[e],o=0,a=n.length;o<a;++o)n[o].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],a=0,n=o.length;a<n;++a)o[a].value.apply(t,r)}};function xl(e,t){for(var r=0,o=e.length,a;r<o;++r)if((a=e[r]).name===t)return a.value}function ua(e,t,r){for(var o=0,a=e.length;o<a;++o)if(e[o].name===t){e[o]=pl,e=e.slice(0,o).concat(e.slice(o+1));break}return r!=null&&e.push({name:t,value:r}),e}var ii="http://www.w3.org/1999/xhtml";const fa={svg:"http://www.w3.org/2000/svg",xhtml:ii,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Pr(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),fa.hasOwnProperty(t)?{space:fa[t],local:e}:e}function wl(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===ii&&t.documentElement.namespaceURI===ii?t.createElement(e):t.createElementNS(r,e)}}function Tl(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function uo(e){var t=Pr(e);return(t.local?Tl:wl)(t)}function Sl(){}function Mi(e){return e==null?Sl:function(){return this.querySelector(e)}}function El(e){typeof e!="function"&&(e=Mi(e));for(var t=this._groups,r=t.length,o=new Array(r),a=0;a<r;++a)for(var n=t[a],s=n.length,c=o[a]=new Array(s),u,d,l=0;l<s;++l)(u=n[l])&&(d=e.call(u,u.__data__,l,n))&&("__data__"in u&&(d.__data__=u.__data__),c[l]=d);return new Xe(o,this._parents)}function fo(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function _l(){return[]}function ho(e){return e==null?_l:function(){return this.querySelectorAll(e)}}function bl(e){return function(){return fo(e.apply(this,arguments))}}function Al(e){typeof e=="function"?e=bl(e):e=ho(e);for(var t=this._groups,r=t.length,o=[],a=[],n=0;n<r;++n)for(var s=t[n],c=s.length,u,d=0;d<c;++d)(u=s[d])&&(o.push(e.call(u,u.__data__,d,s)),a.push(u));return new Xe(o,a)}function vo(e){return function(){return this.matches(e)}}function go(e){return function(t){return t.matches(e)}}var Cl=Array.prototype.find;function Dl(e){return function(){return Cl.call(this.children,e)}}function Ml(){return this.firstElementChild}function Ol(e){return this.select(e==null?Ml:Dl(typeof e=="function"?e:go(e)))}var Il=Array.prototype.filter;function Pl(){return Array.from(this.children)}function Rl(e){return function(){return Il.call(this.children,e)}}function Nl(e){return this.selectAll(e==null?Pl:Rl(typeof e=="function"?e:go(e)))}function Ll(e){typeof e!="function"&&(e=vo(e));for(var t=this._groups,r=t.length,o=new Array(r),a=0;a<r;++a)for(var n=t[a],s=n.length,c=o[a]=[],u,d=0;d<s;++d)(u=n[d])&&e.call(u,u.__data__,d,n)&&c.push(u);return new Xe(o,this._parents)}function mo(e){return new Array(e.length)}function kl(){return new Xe(this._enter||this._groups.map(mo),this._parents)}function mr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}mr.prototype={constructor:mr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Bl(e){return function(){return e}}function Fl(e,t,r,o,a,n){for(var s=0,c,u=t.length,d=n.length;s<d;++s)(c=t[s])?(c.__data__=n[s],o[s]=c):r[s]=new mr(e,n[s]);for(;s<u;++s)(c=t[s])&&(a[s]=c)}function Hl(e,t,r,o,a,n,s){var c,u,d=new Map,l=t.length,v=n.length,f=new Array(l),i;for(c=0;c<l;++c)(u=t[c])&&(f[c]=i=s.call(u,u.__data__,c,t)+"",d.has(i)?a[c]=u:d.set(i,u));for(c=0;c<v;++c)i=s.call(e,n[c],c,n)+"",(u=d.get(i))?(o[c]=u,u.__data__=n[c],d.delete(i)):r[c]=new mr(e,n[c]);for(c=0;c<l;++c)(u=t[c])&&d.get(f[c])===u&&(a[c]=u)}function Wl(e){return e.__data__}function $l(e,t){if(!arguments.length)return Array.from(this,Wl);var r=t?Hl:Fl,o=this._parents,a=this._groups;typeof e!="function"&&(e=Bl(e));for(var n=a.length,s=new Array(n),c=new Array(n),u=new Array(n),d=0;d<n;++d){var l=o[d],v=a[d],f=v.length,i=Gl(e.call(l,l&&l.__data__,d,o)),h=i.length,g=c[d]=new Array(h),m=s[d]=new Array(h),w=u[d]=new Array(f);r(l,v,g,m,w,i,t);for(var _=0,b=0,T,p;_<h;++_)if(T=g[_]){for(_>=b&&(b=_+1);!(p=m[b])&&++b<h;);T._next=p||null}}return s=new Xe(s,o),s._enter=c,s._exit=u,s}function Gl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ul(){return new Xe(this._exit||this._groups.map(mo),this._parents)}function zl(e,t,r){var o=this.enter(),a=this,n=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?n.remove():r(n),o&&a?o.merge(a).order():a}function Vl(e){for(var t=e.selection?e.selection():e,r=this._groups,o=t._groups,a=r.length,n=o.length,s=Math.min(a,n),c=new Array(a),u=0;u<s;++u)for(var d=r[u],l=o[u],v=d.length,f=c[u]=new Array(v),i,h=0;h<v;++h)(i=d[h]||l[h])&&(f[h]=i);for(;u<a;++u)c[u]=r[u];return new Xe(c,this._parents)}function jl(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var o=e[t],a=o.length-1,n=o[a],s;--a>=0;)(s=o[a])&&(n&&s.compareDocumentPosition(n)^4&&n.parentNode.insertBefore(s,n),n=s);return this}function Yl(e){e||(e=Xl);function t(v,f){return v&&f?e(v.__data__,f.__data__):!v-!f}for(var r=this._groups,o=r.length,a=new Array(o),n=0;n<o;++n){for(var s=r[n],c=s.length,u=a[n]=new Array(c),d,l=0;l<c;++l)(d=s[l])&&(u[l]=d);u.sort(t)}return new Xe(a,this._parents).order()}function Xl(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Zl(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ql(){return Array.from(this)}function Kl(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var o=e[t],a=0,n=o.length;a<n;++a){var s=o[a];if(s)return s}return null}function Jl(){let e=0;for(const t of this)++e;return e}function Ql(){return!this.node()}function ec(e){for(var t=this._groups,r=0,o=t.length;r<o;++r)for(var a=t[r],n=0,s=a.length,c;n<s;++n)(c=a[n])&&e.call(c,c.__data__,n,a);return this}function tc(e){return function(){this.removeAttribute(e)}}function nc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rc(e,t){return function(){this.setAttribute(e,t)}}function ic(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ac(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function oc(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function sc(e,t){var r=Pr(e);if(arguments.length<2){var o=this.node();return r.local?o.getAttributeNS(r.space,r.local):o.getAttribute(r)}return this.each((t==null?r.local?nc:tc:typeof t=="function"?r.local?oc:ac:r.local?ic:rc)(r,t))}function po(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function lc(e){return function(){this.style.removeProperty(e)}}function cc(e,t,r){return function(){this.style.setProperty(e,t,r)}}function uc(e,t,r){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,r)}}function fc(e,t,r){return arguments.length>1?this.each((t==null?lc:typeof t=="function"?uc:cc)(e,t,r??"")):sn(this.node(),e)}function sn(e,t){return e.style.getPropertyValue(t)||po(e).getComputedStyle(e,null).getPropertyValue(t)}function dc(e){return function(){delete this[e]}}function hc(e,t){return function(){this[e]=t}}function vc(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function gc(e,t){return arguments.length>1?this.each((t==null?dc:typeof t=="function"?vc:hc)(e,t)):this.node()[e]}function yo(e){return e.trim().split(/^|\s+/)}function Oi(e){return e.classList||new xo(e)}function xo(e){this._node=e,this._names=yo(e.getAttribute("class")||"")}xo.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function wo(e,t){for(var r=Oi(e),o=-1,a=t.length;++o<a;)r.add(t[o])}function To(e,t){for(var r=Oi(e),o=-1,a=t.length;++o<a;)r.remove(t[o])}function mc(e){return function(){wo(this,e)}}function pc(e){return function(){To(this,e)}}function yc(e,t){return function(){(t.apply(this,arguments)?wo:To)(this,e)}}function xc(e,t){var r=yo(e+"");if(arguments.length<2){for(var o=Oi(this.node()),a=-1,n=r.length;++a<n;)if(!o.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?yc:t?mc:pc)(r,t))}function wc(){this.textContent=""}function Tc(e){return function(){this.textContent=e}}function Sc(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Ec(e){return arguments.length?this.each(e==null?wc:(typeof e=="function"?Sc:Tc)(e)):this.node().textContent}function _c(){this.innerHTML=""}function bc(e){return function(){this.innerHTML=e}}function Ac(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Cc(e){return arguments.length?this.each(e==null?_c:(typeof e=="function"?Ac:bc)(e)):this.node().innerHTML}function Dc(){this.nextSibling&&this.parentNode.appendChild(this)}function Mc(){return this.each(Dc)}function Oc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ic(){return this.each(Oc)}function Pc(e){var t=typeof e=="function"?e:uo(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Rc(){return null}function Nc(e,t){var r=typeof e=="function"?e:uo(e),o=t==null?Rc:typeof t=="function"?t:Mi(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)})}function Lc(){var e=this.parentNode;e&&e.removeChild(this)}function kc(){return this.each(Lc)}function Bc(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Fc(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Hc(e){return this.select(e?Fc:Bc)}function Wc(e){return arguments.length?this.property("__data__",e):this.node().__data__}function $c(e){return function(t){e.call(this,t,this.__data__)}}function Gc(e){return e.trim().split(/^|\s+/).map(function(t){var r="",o=t.indexOf(".");return o>=0&&(r=t.slice(o+1),t=t.slice(0,o)),{type:t,name:r}})}function Uc(e){return function(){var t=this.__on;if(t){for(var r=0,o=-1,a=t.length,n;r<a;++r)n=t[r],(!e.type||n.type===e.type)&&n.name===e.name?this.removeEventListener(n.type,n.listener,n.options):t[++o]=n;++o?t.length=o:delete this.__on}}}function zc(e,t,r){return function(){var o=this.__on,a,n=$c(t);if(o){for(var s=0,c=o.length;s<c;++s)if((a=o[s]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=n,a.options=r),a.value=t;return}}this.addEventListener(e.type,n,r),a={type:e.type,name:e.name,value:t,listener:n,options:r},o?o.push(a):this.__on=[a]}}function Vc(e,t,r){var o=Gc(e+""),a,n=o.length,s;if(arguments.length<2){var c=this.node().__on;if(c){for(var u=0,d=c.length,l;u<d;++u)for(a=0,l=c[u];a<n;++a)if((s=o[a]).type===l.type&&s.name===l.name)return l.value}return}for(c=t?zc:Uc,a=0;a<n;++a)this.each(c(o[a],t,r));return this}function So(e,t,r){var o=po(e),a=o.CustomEvent;typeof a=="function"?a=new a(t,r):(a=o.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function jc(e,t){return function(){return So(this,e,t)}}function Yc(e,t){return function(){return So(this,e,t.apply(this,arguments))}}function Xc(e,t){return this.each((typeof t=="function"?Yc:jc)(e,t))}function*Zc(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var o=e[t],a=0,n=o.length,s;a<n;++a)(s=o[a])&&(yield s)}var Ii=[null];function Xe(e,t){this._groups=e,this._parents=t}function $n(){return new Xe([[document.documentElement]],Ii)}function qc(){return this}Xe.prototype=$n.prototype={constructor:Xe,select:El,selectAll:Al,selectChild:Ol,selectChildren:Nl,filter:Ll,data:$l,enter:kl,exit:Ul,join:zl,merge:Vl,selection:qc,order:jl,sort:Yl,call:Zl,nodes:ql,node:Kl,size:Jl,empty:Ql,each:ec,attr:sc,style:fc,property:gc,classed:xc,text:Ec,html:Cc,raise:Mc,lower:Ic,append:Pc,insert:Nc,remove:kc,clone:Hc,datum:Wc,on:Vc,dispatch:Xc,[Symbol.iterator]:Zc};function ct(e){return typeof e=="string"?new Xe([[document.querySelector(e)]],[document.documentElement]):new Xe([[e]],Ii)}function Kc(e){let t;for(;t=e.sourceEvent;)e=t;return e}function da(e,t){if(e=Kc(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var o=r.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}function ha(e){return typeof e=="string"?new Xe([document.querySelectorAll(e)],[document.documentElement]):new Xe([fo(e)],Ii)}const Jc={passive:!1},In={capture:!0,passive:!1};function Zr(e){e.stopImmediatePropagation()}function tn(e){e.preventDefault(),e.stopImmediatePropagation()}function Qc(e){var t=e.document.documentElement,r=ct(e).on("dragstart.drag",tn,In);"onselectstart"in t?r.on("selectstart.drag",tn,In):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function eu(e,t){var r=e.document.documentElement,o=ct(e).on("dragstart.drag",null);t&&(o.on("click.drag",tn,In),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in r?o.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const qn=e=>()=>e;function ai(e,{sourceEvent:t,subject:r,target:o,identifier:a,active:n,x:s,y:c,dx:u,dy:d,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:n,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:l}})}ai.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function tu(e){return!e.ctrlKey&&!e.button}function nu(){return this.parentNode}function ru(e,t){return t??{x:e.x,y:e.y}}function iu(){return navigator.maxTouchPoints||"ontouchstart"in this}function au(){var e=tu,t=nu,r=ru,o=iu,a={},n=Di("start","drag","end"),s=0,c,u,d,l,v=0;function f(T){T.on("mousedown.drag",i).filter(o).on("touchstart.drag",m).on("touchmove.drag",w,Jc).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function i(T,p){if(!(l||!e.call(this,T,p))){var y=b(this,t.call(this,T,p),T,p,"mouse");y&&(ct(T.view).on("mousemove.drag",h,In).on("mouseup.drag",g,In),Qc(T.view),Zr(T),d=!1,c=T.clientX,u=T.clientY,y("start",T))}}function h(T){if(tn(T),!d){var p=T.clientX-c,y=T.clientY-u;d=p*p+y*y>v}a.mouse("drag",T)}function g(T){ct(T.view).on("mousemove.drag mouseup.drag",null),eu(T.view,d),tn(T),a.mouse("end",T)}function m(T,p){if(e.call(this,T,p)){var y=T.changedTouches,E=t.call(this,T,p),S=y.length,D,A;for(D=0;D<S;++D)(A=b(this,E,T,p,y[D].identifier,y[D]))&&(Zr(T),A("start",T,y[D]))}}function w(T){var p=T.changedTouches,y=p.length,E,S;for(E=0;E<y;++E)(S=a[p[E].identifier])&&(tn(T),S("drag",T,p[E]))}function _(T){var p=T.changedTouches,y=p.length,E,S;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),E=0;E<y;++E)(S=a[p[E].identifier])&&(Zr(T),S("end",T,p[E]))}function b(T,p,y,E,S,D){var A=n.copy(),C=da(D||y,p),M,O,R;if((R=r.call(T,new ai("beforestart",{sourceEvent:y,target:f,identifier:S,active:s,x:C[0],y:C[1],dx:0,dy:0,dispatch:A}),E))!=null)return M=R.x-C[0]||0,O=R.y-C[1]||0,function N(F,I,H){var U=C,Q;switch(F){case"start":a[S]=N,Q=s++;break;case"end":delete a[S],--s;case"drag":C=da(H||I,p),Q=s;break}A.call(F,T,new ai(F,{sourceEvent:I,subject:R,target:f,identifier:S,active:Q,x:C[0]+M,y:C[1]+O,dx:C[0]-U[0],dy:C[1]-U[1],dispatch:A}),E)}}return f.filter=function(T){return arguments.length?(e=typeof T=="function"?T:qn(!!T),f):e},f.container=function(T){return arguments.length?(t=typeof T=="function"?T:qn(T),f):t},f.subject=function(T){return arguments.length?(r=typeof T=="function"?T:qn(T),f):r},f.touchable=function(T){return arguments.length?(o=typeof T=="function"?T:qn(!!T),f):o},f.on=function(){var T=n.on.apply(n,arguments);return T===n?f:T},f.clickDistance=function(T){return arguments.length?(v=(T=+T)*T,f):Math.sqrt(v)},f}function Pi(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Eo(e,t){var r=Object.create(e.prototype);for(var o in t)r[o]=t[o];return r}function Gn(){}var Pn=.7,pr=1/Pn,nn="\\s*([+-]?\\d+)\\s*",Rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ou=/^#([0-9a-f]{3,8})$/,su=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),lu=new RegExp(`^rgb\\(${Tt},${Tt},${Tt}\\)$`),cu=new RegExp(`^rgba\\(${nn},${nn},${nn},${Rn}\\)$`),uu=new RegExp(`^rgba\\(${Tt},${Tt},${Tt},${Rn}\\)$`),fu=new RegExp(`^hsl\\(${Rn},${Tt},${Tt}\\)$`),du=new RegExp(`^hsla\\(${Rn},${Tt},${Tt},${Rn}\\)$`),va={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pi(Gn,Kt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ga,formatHex:ga,formatHex8:hu,formatHsl:vu,formatRgb:ma,toString:ma});function ga(){return this.rgb().formatHex()}function hu(){return this.rgb().formatHex8()}function vu(){return _o(this).formatHsl()}function ma(){return this.rgb().formatRgb()}function Kt(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ou.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?pa(t):r===3?new Qe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Kn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Kn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=su.exec(e))?new Qe(t[1],t[2],t[3],1):(t=lu.exec(e))?new Qe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cu.exec(e))?Kn(t[1],t[2],t[3],t[4]):(t=uu.exec(e))?Kn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fu.exec(e))?wa(t[1],t[2]/100,t[3]/100,1):(t=du.exec(e))?wa(t[1],t[2]/100,t[3]/100,t[4]):va.hasOwnProperty(e)?pa(va[e]):e==="transparent"?new Qe(NaN,NaN,NaN,0):null}function pa(e){return new Qe(e>>16&255,e>>8&255,e&255,1)}function Kn(e,t,r,o){return o<=0&&(e=t=r=NaN),new Qe(e,t,r,o)}function gu(e){return e instanceof Gn||(e=Kt(e)),e?(e=e.rgb(),new Qe(e.r,e.g,e.b,e.opacity)):new Qe}function oi(e,t,r,o){return arguments.length===1?gu(e):new Qe(e,t,r,o??1)}function Qe(e,t,r,o){this.r=+e,this.g=+t,this.b=+r,this.opacity=+o}Pi(Qe,oi,Eo(Gn,{brighter(e){return e=e==null?pr:Math.pow(pr,e),new Qe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pn:Math.pow(Pn,e),new Qe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qe(Xt(this.r),Xt(this.g),Xt(this.b),yr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ya,formatHex:ya,formatHex8:mu,formatRgb:xa,toString:xa}));function ya(){return`#${Vt(this.r)}${Vt(this.g)}${Vt(this.b)}`}function mu(){return`#${Vt(this.r)}${Vt(this.g)}${Vt(this.b)}${Vt((isNaN(this.opacity)?1:this.opacity)*255)}`}function xa(){const e=yr(this.opacity);return`${e===1?"rgb(":"rgba("}${Xt(this.r)}, ${Xt(this.g)}, ${Xt(this.b)}${e===1?")":`, ${e})`}`}function yr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vt(e){return e=Xt(e),(e<16?"0":"")+e.toString(16)}function wa(e,t,r,o){return o<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new dt(e,t,r,o)}function _o(e){if(e instanceof dt)return new dt(e.h,e.s,e.l,e.opacity);if(e instanceof Gn||(e=Kt(e)),!e)return new dt;if(e instanceof dt)return e;e=e.rgb();var t=e.r/255,r=e.g/255,o=e.b/255,a=Math.min(t,r,o),n=Math.max(t,r,o),s=NaN,c=n-a,u=(n+a)/2;return c?(t===n?s=(r-o)/c+(r<o)*6:r===n?s=(o-t)/c+2:s=(t-r)/c+4,c/=u<.5?n+a:2-n-a,s*=60):c=u>0&&u<1?0:s,new dt(s,c,u,e.opacity)}function pu(e,t,r,o){return arguments.length===1?_o(e):new dt(e,t,r,o??1)}function dt(e,t,r,o){this.h=+e,this.s=+t,this.l=+r,this.opacity=+o}Pi(dt,pu,Eo(Gn,{brighter(e){return e=e==null?pr:Math.pow(pr,e),new dt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pn:Math.pow(Pn,e),new dt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*t,a=2*r-o;return new Qe(qr(e>=240?e-240:e+120,a,o),qr(e,a,o),qr(e<120?e+240:e-120,a,o),this.opacity)},clamp(){return new dt(Ta(this.h),Jn(this.s),Jn(this.l),yr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yr(this.opacity);return`${e===1?"hsl(":"hsla("}${Ta(this.h)}, ${Jn(this.s)*100}%, ${Jn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ta(e){return e=(e||0)%360,e<0?e+360:e}function Jn(e){return Math.max(0,Math.min(1,e||0))}function qr(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ri=e=>()=>e;function yu(e,t){return function(r){return e+r*t}}function xu(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(o){return Math.pow(e+o*t,r)}}function wu(e){return(e=+e)==1?bo:function(t,r){return r-t?xu(t,r,e):Ri(isNaN(t)?r:t)}}function bo(e,t){var r=t-e;return r?yu(e,r):Ri(isNaN(e)?t:e)}const xr=function e(t){var r=wu(t);function o(a,n){var s=r((a=oi(a)).r,(n=oi(n)).r),c=r(a.g,n.g),u=r(a.b,n.b),d=bo(a.opacity,n.opacity);return function(l){return a.r=s(l),a.g=c(l),a.b=u(l),a.opacity=d(l),a+""}}return o.gamma=e,o}(1);function Tu(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,o=t.slice(),a;return function(n){for(a=0;a<r;++a)o[a]=e[a]*(1-n)+t[a]*n;return o}}function Su(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Eu(e,t){var r=t?t.length:0,o=e?Math.min(r,e.length):0,a=new Array(o),n=new Array(r),s;for(s=0;s<o;++s)a[s]=Ni(e[s],t[s]);for(;s<r;++s)n[s]=t[s];return function(c){for(s=0;s<o;++s)n[s]=a[s](c);return n}}function _u(e,t){var r=new Date;return e=+e,t=+t,function(o){return r.setTime(e*(1-o)+t*o),r}}function ut(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function bu(e,t){var r={},o={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ni(e[a],t[a]):o[a]=t[a];return function(n){for(a in r)o[a]=r[a](n);return o}}var si=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kr=new RegExp(si.source,"g");function Au(e){return function(){return e}}function Cu(e){return function(t){return e(t)+""}}function Ao(e,t){var r=si.lastIndex=Kr.lastIndex=0,o,a,n,s=-1,c=[],u=[];for(e=e+"",t=t+"";(o=si.exec(e))&&(a=Kr.exec(t));)(n=a.index)>r&&(n=t.slice(r,n),c[s]?c[s]+=n:c[++s]=n),(o=o[0])===(a=a[0])?c[s]?c[s]+=a:c[++s]=a:(c[++s]=null,u.push({i:s,x:ut(o,a)})),r=Kr.lastIndex;return r<t.length&&(n=t.slice(r),c[s]?c[s]+=n:c[++s]=n),c.length<2?u[0]?Cu(u[0].x):Au(t):(t=u.length,function(d){for(var l=0,v;l<t;++l)c[(v=u[l]).i]=v.x(d);return c.join("")})}function Ni(e,t){var r=typeof t,o;return t==null||r==="boolean"?Ri(t):(r==="number"?ut:r==="string"?(o=Kt(t))?(t=o,xr):Ao:t instanceof Kt?xr:t instanceof Date?_u:Su(t)?Tu:Array.isArray(t)?Eu:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bu:ut)(e,t)}function Du(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Sa=180/Math.PI,li={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Co(e,t,r,o,a,n){var s,c,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*r+t*o)&&(r-=e*u,o-=t*u),(c=Math.sqrt(r*r+o*o))&&(r/=c,o/=c,u/=c),e*o<t*r&&(e=-e,t=-t,u=-u,s=-s),{translateX:a,translateY:n,rotate:Math.atan2(t,e)*Sa,skewX:Math.atan(u)*Sa,scaleX:s,scaleY:c}}var Qn;function Mu(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?li:Co(t.a,t.b,t.c,t.d,t.e,t.f)}function Ou(e){return e==null||(Qn||(Qn=document.createElementNS("http://www.w3.org/2000/svg","g")),Qn.setAttribute("transform",e),!(e=Qn.transform.baseVal.consolidate()))?li:(e=e.matrix,Co(e.a,e.b,e.c,e.d,e.e,e.f))}function Do(e,t,r,o){function a(d){return d.length?d.pop()+" ":""}function n(d,l,v,f,i,h){if(d!==v||l!==f){var g=i.push("translate(",null,t,null,r);h.push({i:g-4,x:ut(d,v)},{i:g-2,x:ut(l,f)})}else(v||f)&&i.push("translate("+v+t+f+r)}function s(d,l,v,f){d!==l?(d-l>180?l+=360:l-d>180&&(d+=360),f.push({i:v.push(a(v)+"rotate(",null,o)-2,x:ut(d,l)})):l&&v.push(a(v)+"rotate("+l+o)}function c(d,l,v,f){d!==l?f.push({i:v.push(a(v)+"skewX(",null,o)-2,x:ut(d,l)}):l&&v.push(a(v)+"skewX("+l+o)}function u(d,l,v,f,i,h){if(d!==v||l!==f){var g=i.push(a(i)+"scale(",null,",",null,")");h.push({i:g-4,x:ut(d,v)},{i:g-2,x:ut(l,f)})}else(v!==1||f!==1)&&i.push(a(i)+"scale("+v+","+f+")")}return function(d,l){var v=[],f=[];return d=e(d),l=e(l),n(d.translateX,d.translateY,l.translateX,l.translateY,v,f),s(d.rotate,l.rotate,v,f),c(d.skewX,l.skewX,v,f),u(d.scaleX,d.scaleY,l.scaleX,l.scaleY,v,f),d=l=null,function(i){for(var h=-1,g=f.length,m;++h<g;)v[(m=f[h]).i]=m.x(i);return v.join("")}}}var Iu=Do(Mu,"px, ","px)","deg)"),Pu=Do(Ou,", ",")",")"),ln=0,_n=0,xn=0,Mo=1e3,wr,bn,Tr=0,Jt=0,Rr=0,Nn=typeof performance=="object"&&performance.now?performance:Date,Oo=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Li(){return Jt||(Oo(Ru),Jt=Nn.now()+Rr)}function Ru(){Jt=0}function Sr(){this._call=this._time=this._next=null}Sr.prototype=Io.prototype={constructor:Sr,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Li():+r)+(t==null?0:+t),!this._next&&bn!==this&&(bn?bn._next=this:wr=this,bn=this),this._call=e,this._time=r,ci()},stop:function(){this._call&&(this._call=null,this._time=1/0,ci())}};function Io(e,t,r){var o=new Sr;return o.restart(e,t,r),o}function Nu(){Li(),++ln;for(var e=wr,t;e;)(t=Jt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ln}function Ea(){Jt=(Tr=Nn.now())+Rr,ln=_n=0;try{Nu()}finally{ln=0,ku(),Jt=0}}function Lu(){var e=Nn.now(),t=e-Tr;t>Mo&&(Rr-=t,Tr=e)}function ku(){for(var e,t=wr,r,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:wr=r);bn=e,ci(o)}function ci(e){if(!ln){_n&&(_n=clearTimeout(_n));var t=e-Jt;t>24?(e<1/0&&(_n=setTimeout(Ea,e-Nn.now()-Rr)),xn&&(xn=clearInterval(xn))):(xn||(Tr=Nn.now(),xn=setInterval(Lu,Mo)),ln=1,Oo(Ea))}}function _a(e,t,r){var o=new Sr;return t=t==null?0:+t,o.restart(a=>{o.stop(),e(a+t)},t,r),o}var Bu=Di("start","end","cancel","interrupt"),Fu=[],Po=0,ba=1,ui=2,or=3,Aa=4,fi=5,sr=6;function Nr(e,t,r,o,a,n){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;Hu(e,r,{name:t,index:o,group:a,on:Bu,tween:Fu,time:n.time,delay:n.delay,duration:n.duration,ease:n.ease,timer:null,state:Po})}function ki(e,t){var r=mt(e,t);if(r.state>Po)throw new Error("too late; already scheduled");return r}function bt(e,t){var r=mt(e,t);if(r.state>or)throw new Error("too late; already running");return r}function mt(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function Hu(e,t,r){var o=e.__transition,a;o[t]=r,r.timer=Io(n,0,r.time);function n(d){r.state=ba,r.timer.restart(s,r.delay,r.time),r.delay<=d&&s(d-r.delay)}function s(d){var l,v,f,i;if(r.state!==ba)return u();for(l in o)if(i=o[l],i.name===r.name){if(i.state===or)return _a(s);i.state===Aa?(i.state=sr,i.timer.stop(),i.on.call("interrupt",e,e.__data__,i.index,i.group),delete o[l]):+l<t&&(i.state=sr,i.timer.stop(),i.on.call("cancel",e,e.__data__,i.index,i.group),delete o[l])}if(_a(function(){r.state===or&&(r.state=Aa,r.timer.restart(c,r.delay,r.time),c(d))}),r.state=ui,r.on.call("start",e,e.__data__,r.index,r.group),r.state===ui){for(r.state=or,a=new Array(f=r.tween.length),l=0,v=-1;l<f;++l)(i=r.tween[l].value.call(e,e.__data__,r.index,r.group))&&(a[++v]=i);a.length=v+1}}function c(d){for(var l=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(u),r.state=fi,1),v=-1,f=a.length;++v<f;)a[v].call(e,l);r.state===fi&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=sr,r.timer.stop(),delete o[t];for(var d in o)return;delete e.__transition}}function Wu(e,t){var r=e.__transition,o,a,n=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((o=r[s]).name!==t){n=!1;continue}a=o.state>ui&&o.state<fi,o.state=sr,o.timer.stop(),o.on.call(a?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete r[s]}n&&delete e.__transition}}function $u(e){return this.each(function(){Wu(this,e)})}function Gu(e,t){var r,o;return function(){var a=bt(this,e),n=a.tween;if(n!==r){o=r=n;for(var s=0,c=o.length;s<c;++s)if(o[s].name===t){o=o.slice(),o.splice(s,1);break}}a.tween=o}}function Uu(e,t,r){var o,a;if(typeof r!="function")throw new Error;return function(){var n=bt(this,e),s=n.tween;if(s!==o){a=(o=s).slice();for(var c={name:t,value:r},u=0,d=a.length;u<d;++u)if(a[u].name===t){a[u]=c;break}u===d&&a.push(c)}n.tween=a}}function zu(e,t){var r=this._id;if(e+="",arguments.length<2){for(var o=mt(this.node(),r).tween,a=0,n=o.length,s;a<n;++a)if((s=o[a]).name===e)return s.value;return null}return this.each((t==null?Gu:Uu)(r,e,t))}function Bi(e,t,r){var o=e._id;return e.each(function(){var a=bt(this,o);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return mt(a,o).value[t]}}function Ro(e,t){var r;return(typeof t=="number"?ut:t instanceof Kt?xr:(r=Kt(t))?(t=r,xr):Ao)(e,t)}function Vu(e){return function(){this.removeAttribute(e)}}function ju(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Yu(e,t,r){var o,a=r+"",n;return function(){var s=this.getAttribute(e);return s===a?null:s===o?n:n=t(o=s,r)}}function Xu(e,t,r){var o,a=r+"",n;return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===o?n:n=t(o=s,r)}}function Zu(e,t,r){var o,a,n;return function(){var s,c=r(this),u;return c==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=c+"",s===u?null:s===o&&u===a?n:(a=u,n=t(o=s,c)))}}function qu(e,t,r){var o,a,n;return function(){var s,c=r(this),u;return c==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=c+"",s===u?null:s===o&&u===a?n:(a=u,n=t(o=s,c)))}}function Ku(e,t){var r=Pr(e),o=r==="transform"?Pu:Ro;return this.attrTween(e,typeof t=="function"?(r.local?qu:Zu)(r,o,Bi(this,"attr."+e,t)):t==null?(r.local?ju:Vu)(r):(r.local?Xu:Yu)(r,o,t))}function Ju(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Qu(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function ef(e,t){var r,o;function a(){var n=t.apply(this,arguments);return n!==o&&(r=(o=n)&&Qu(e,n)),r}return a._value=t,a}function tf(e,t){var r,o;function a(){var n=t.apply(this,arguments);return n!==o&&(r=(o=n)&&Ju(e,n)),r}return a._value=t,a}function nf(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var o=Pr(e);return this.tween(r,(o.local?ef:tf)(o,t))}function rf(e,t){return function(){ki(this,e).delay=+t.apply(this,arguments)}}function af(e,t){return t=+t,function(){ki(this,e).delay=t}}function of(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?rf:af)(t,e)):mt(this.node(),t).delay}function sf(e,t){return function(){bt(this,e).duration=+t.apply(this,arguments)}}function lf(e,t){return t=+t,function(){bt(this,e).duration=t}}function cf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?sf:lf)(t,e)):mt(this.node(),t).duration}function uf(e,t){if(typeof t!="function")throw new Error;return function(){bt(this,e).ease=t}}function ff(e){var t=this._id;return arguments.length?this.each(uf(t,e)):mt(this.node(),t).ease}function df(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;bt(this,e).ease=r}}function hf(e){if(typeof e!="function")throw new Error;return this.each(df(this._id,e))}function vf(e){typeof e!="function"&&(e=vo(e));for(var t=this._groups,r=t.length,o=new Array(r),a=0;a<r;++a)for(var n=t[a],s=n.length,c=o[a]=[],u,d=0;d<s;++d)(u=n[d])&&e.call(u,u.__data__,d,n)&&c.push(u);return new It(o,this._parents,this._name,this._id)}function gf(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,o=t.length,a=r.length,n=Math.min(o,a),s=new Array(o),c=0;c<n;++c)for(var u=t[c],d=r[c],l=u.length,v=s[c]=new Array(l),f,i=0;i<l;++i)(f=u[i]||d[i])&&(v[i]=f);for(;c<o;++c)s[c]=t[c];return new It(s,this._parents,this._name,this._id)}function mf(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function pf(e,t,r){var o,a,n=mf(t)?ki:bt;return function(){var s=n(this,e),c=s.on;c!==o&&(a=(o=c).copy()).on(t,r),s.on=a}}function yf(e,t){var r=this._id;return arguments.length<2?mt(this.node(),r).on.on(e):this.each(pf(r,e,t))}function xf(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function wf(){return this.on("end.remove",xf(this._id))}function Tf(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Mi(e));for(var o=this._groups,a=o.length,n=new Array(a),s=0;s<a;++s)for(var c=o[s],u=c.length,d=n[s]=new Array(u),l,v,f=0;f<u;++f)(l=c[f])&&(v=e.call(l,l.__data__,f,c))&&("__data__"in l&&(v.__data__=l.__data__),d[f]=v,Nr(d[f],t,r,f,d,mt(l,r)));return new It(n,this._parents,t,r)}function Sf(e){var t=this._name,r=this._id;typeof e!="function"&&(e=ho(e));for(var o=this._groups,a=o.length,n=[],s=[],c=0;c<a;++c)for(var u=o[c],d=u.length,l,v=0;v<d;++v)if(l=u[v]){for(var f=e.call(l,l.__data__,v,u),i,h=mt(l,r),g=0,m=f.length;g<m;++g)(i=f[g])&&Nr(i,t,r,g,f,h);n.push(f),s.push(l)}return new It(n,s,t,r)}var Ef=$n.prototype.constructor;function _f(){return new Ef(this._groups,this._parents)}function bf(e,t){var r,o,a;return function(){var n=sn(this,e),s=(this.style.removeProperty(e),sn(this,e));return n===s?null:n===r&&s===o?a:a=t(r=n,o=s)}}function No(e){return function(){this.style.removeProperty(e)}}function Af(e,t,r){var o,a=r+"",n;return function(){var s=sn(this,e);return s===a?null:s===o?n:n=t(o=s,r)}}function Cf(e,t,r){var o,a,n;return function(){var s=sn(this,e),c=r(this),u=c+"";return c==null&&(u=c=(this.style.removeProperty(e),sn(this,e))),s===u?null:s===o&&u===a?n:(a=u,n=t(o=s,c))}}function Df(e,t){var r,o,a,n="style."+t,s="end."+n,c;return function(){var u=bt(this,e),d=u.on,l=u.value[n]==null?c||(c=No(t)):void 0;(d!==r||a!==l)&&(o=(r=d).copy()).on(s,a=l),u.on=o}}function Mf(e,t,r){var o=(e+="")=="transform"?Iu:Ro;return t==null?this.styleTween(e,bf(e,o)).on("end.style."+e,No(e)):typeof t=="function"?this.styleTween(e,Cf(e,o,Bi(this,"style."+e,t))).each(Df(this._id,e)):this.styleTween(e,Af(e,o,t),r).on("end.style."+e,null)}function Of(e,t,r){return function(o){this.style.setProperty(e,t.call(this,o),r)}}function If(e,t,r){var o,a;function n(){var s=t.apply(this,arguments);return s!==a&&(o=(a=s)&&Of(e,s,r)),o}return n._value=t,n}function Pf(e,t,r){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,If(e,t,r??""))}function Rf(e){return function(){this.textContent=e}}function Nf(e){return function(){var t=e(this);this.textContent=t??""}}function Lf(e){return this.tween("text",typeof e=="function"?Nf(Bi(this,"text",e)):Rf(e==null?"":e+""))}function kf(e){return function(t){this.textContent=e.call(this,t)}}function Bf(e){var t,r;function o(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&kf(a)),t}return o._value=e,o}function Ff(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Bf(e))}function Hf(){for(var e=this._name,t=this._id,r=Lo(),o=this._groups,a=o.length,n=0;n<a;++n)for(var s=o[n],c=s.length,u,d=0;d<c;++d)if(u=s[d]){var l=mt(u,t);Nr(u,e,r,d,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new It(o,this._parents,e,r)}function Wf(){var e,t,r=this,o=r._id,a=r.size();return new Promise(function(n,s){var c={value:s},u={value:function(){--a===0&&n()}};r.each(function(){var d=bt(this,o),l=d.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(u)),d.on=t}),a===0&&n()})}var $f=0;function It(e,t,r,o){this._groups=e,this._parents=t,this._name=r,this._id=o}function Lo(){return++$f}var At=$n.prototype;It.prototype={constructor:It,select:Tf,selectAll:Sf,selectChild:At.selectChild,selectChildren:At.selectChildren,filter:vf,merge:gf,selection:_f,transition:Hf,call:At.call,nodes:At.nodes,node:At.node,size:At.size,empty:At.empty,each:At.each,on:yf,attr:Ku,attrTween:nf,style:Mf,styleTween:Pf,text:Lf,textTween:Ff,remove:wf,tween:zu,delay:of,duration:cf,ease:ff,easeVarying:hf,end:Wf,[Symbol.iterator]:At[Symbol.iterator]};function wn(e){return--e*e*e+1}function Gf(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Uf={time:null,delay:0,duration:250,ease:Gf};function zf(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function Vf(e){var t,r;e instanceof It?(t=e._id,e=e._name):(t=Lo(),(r=Uf).time=Li(),e=e==null?null:e+"");for(var o=this._groups,a=o.length,n=0;n<a;++n)for(var s=o[n],c=s.length,u,d=0;d<c;++d)(u=s[d])&&Nr(u,e,t,d,s,r||zf(u,t));return new It(o,this._parents,e,t)}$n.prototype.interrupt=$u;$n.prototype.transition=Vf;var Ca={},Jr={},Qr=34,Tn=10,ei=13;function ko(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function jf(e,t){var r=ko(e);return function(o,a){return t(r(o),a,e)}}function Da(e){var t=Object.create(null),r=[];return e.forEach(function(o){for(var a in o)a in t||r.push(t[a]=a)}),r}function qe(e,t){var r=e+"",o=r.length;return o<t?new Array(t-o+1).join(0)+r:r}function Yf(e){return e<0?"-"+qe(-e,6):e>9999?"+"+qe(e,6):qe(e,4)}function Xf(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),o=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Yf(e.getUTCFullYear())+"-"+qe(e.getUTCMonth()+1,2)+"-"+qe(e.getUTCDate(),2)+(a?"T"+qe(t,2)+":"+qe(r,2)+":"+qe(o,2)+"."+qe(a,3)+"Z":o?"T"+qe(t,2)+":"+qe(r,2)+":"+qe(o,2)+"Z":r||t?"T"+qe(t,2)+":"+qe(r,2)+"Z":"")}function Zf(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function o(v,f){var i,h,g=a(v,function(m,w){if(i)return i(m,w-1);h=m,i=f?jf(m,f):ko(m)});return g.columns=h||[],g}function a(v,f){var i=[],h=v.length,g=0,m=0,w,_=h<=0,b=!1;v.charCodeAt(h-1)===Tn&&--h,v.charCodeAt(h-1)===ei&&--h;function T(){if(_)return Jr;if(b)return b=!1,Ca;var y,E=g,S;if(v.charCodeAt(E)===Qr){for(;g++<h&&v.charCodeAt(g)!==Qr||v.charCodeAt(++g)===Qr;);return(y=g)>=h?_=!0:(S=v.charCodeAt(g++))===Tn?b=!0:S===ei&&(b=!0,v.charCodeAt(g)===Tn&&++g),v.slice(E+1,y-1).replace(/""/g,'"')}for(;g<h;){if((S=v.charCodeAt(y=g++))===Tn)b=!0;else if(S===ei)b=!0,v.charCodeAt(g)===Tn&&++g;else if(S!==r)continue;return v.slice(E,y)}return _=!0,v.slice(E,h)}for(;(w=T())!==Jr;){for(var p=[];w!==Ca&&w!==Jr;)p.push(w),w=T();f&&(p=f(p,m++))==null||i.push(p)}return i}function n(v,f){return v.map(function(i){return f.map(function(h){return l(i[h])}).join(e)})}function s(v,f){return f==null&&(f=Da(v)),[f.map(l).join(e)].concat(n(v,f)).join(`
`)}function c(v,f){return f==null&&(f=Da(v)),n(v,f).join(`
`)}function u(v){return v.map(d).join(`
`)}function d(v){return v.map(l).join(e)}function l(v){return v==null?"":v instanceof Date?Xf(v):t.test(v+="")?'"'+v.replace(/"/g,'""')+'"':v}return{parse:o,parseRows:a,format:s,formatBody:c,formatRows:u,formatRow:d,formatValue:l}}var qf=Zf(","),Kf=qf.parse;function Jf(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Qf(e,t){return fetch(e,t).then(Jf)}function ed(e){return function(t,r,o){return arguments.length===2&&typeof r=="function"&&(o=r,r=void 0),Qf(t,r).then(function(a){return e(a,o)})}}var Fi=ed(Kf);function td(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Er(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,o=e.slice(0,r);return[o.length>1?o[0]+o.slice(2):o,+e.slice(r+1)]}function cn(e){return e=Er(Math.abs(e)),e?e[1]:NaN}function nd(e,t){return function(r,o){for(var a=r.length,n=[],s=0,c=e[0],u=0;a>0&&c>0&&(u+c+1>o&&(c=Math.max(1,o-u)),n.push(r.substring(a-=c,a+c)),!((u+=c+1)>o));)c=e[s=(s+1)%e.length];return n.reverse().join(t)}}function rd(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var id=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _r(e){if(!(t=id.exec(e)))throw new Error("invalid format: "+e);var t;return new Hi({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_r.prototype=Hi.prototype;function Hi(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Hi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ad(e){e:for(var t=e.length,r=1,o=-1,a;r<t;++r)switch(e[r]){case".":o=a=r;break;case"0":o===0&&(o=r),a=r;break;default:if(!+e[r])break e;o>0&&(o=0);break}return o>0?e.slice(0,o)+e.slice(a+1):e}var Bo;function od(e,t){var r=Er(e,t);if(!r)return e+"";var o=r[0],a=r[1],n=a-(Bo=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=o.length;return n===s?o:n>s?o+new Array(n-s+1).join("0"):n>0?o.slice(0,n)+"."+o.slice(n):"0."+new Array(1-n).join("0")+Er(e,Math.max(0,t+n-1))[0]}function Ma(e,t){var r=Er(e,t);if(!r)return e+"";var o=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+o:o.length>a+1?o.slice(0,a+1)+"."+o.slice(a+1):o+new Array(a-o.length+2).join("0")}const Oa={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:td,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ma(e*100,t),r:Ma,s:od,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ia(e){return e}var Pa=Array.prototype.map,Ra=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function sd(e){var t=e.grouping===void 0||e.thousands===void 0?Ia:nd(Pa.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",o=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",n=e.numerals===void 0?Ia:rd(Pa.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"â":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(v){v=_r(v);var f=v.fill,i=v.align,h=v.sign,g=v.symbol,m=v.zero,w=v.width,_=v.comma,b=v.precision,T=v.trim,p=v.type;p==="n"?(_=!0,p="g"):Oa[p]||(b===void 0&&(b=12),T=!0,p="g"),(m||f==="0"&&i==="=")&&(m=!0,f="0",i="=");var y=g==="$"?r:g==="#"&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",E=g==="$"?o:/[%p]/.test(p)?s:"",S=Oa[p],D=/[defgprs%]/.test(p);b=b===void 0?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(C){var M=y,O=E,R,N,F;if(p==="c")O=S(C)+O,C="";else{C=+C;var I=C<0||1/C<0;if(C=isNaN(C)?u:S(Math.abs(C),b),T&&(C=ad(C)),I&&+C==0&&h!=="+"&&(I=!1),M=(I?h==="("?h:c:h==="-"||h==="("?"":h)+M,O=(p==="s"?Ra[8+Bo/3]:"")+O+(I&&h==="("?")":""),D){for(R=-1,N=C.length;++R<N;)if(F=C.charCodeAt(R),48>F||F>57){O=(F===46?a+C.slice(R+1):C.slice(R))+O,C=C.slice(0,R);break}}}_&&!m&&(C=t(C,1/0));var H=M.length+C.length+O.length,U=H<w?new Array(w-H+1).join(f):"";switch(_&&m&&(C=t(U+C,U.length?w-O.length:1/0),U=""),i){case"<":C=M+C+O+U;break;case"=":C=M+U+C+O;break;case"^":C=U.slice(0,H=U.length>>1)+M+C+O+U.slice(H);break;default:C=U+M+C+O;break}return n(C)}return A.toString=function(){return v+""},A}function l(v,f){var i=d((v=_r(v),v.type="f",v)),h=Math.max(-8,Math.min(8,Math.floor(cn(f)/3)))*3,g=Math.pow(10,-h),m=Ra[8+h/3];return function(w){return i(g*w)+m}}return{format:d,formatPrefix:l}}var er,Fo,Ho;ld({thousands:",",grouping:[3],currency:["$",""]});function ld(e){return er=sd(e),Fo=er.format,Ho=er.formatPrefix,er}function cd(e){return Math.max(0,-cn(Math.abs(e)))}function ud(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cn(t)/3)))*3-cn(Math.abs(e)))}function fd(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cn(t)-cn(e))+1}function dd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function hd(e){return function(){return e}}function vd(e){return+e}var Na=[0,1];function en(e){return e}function di(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:hd(isNaN(t)?NaN:.5)}function gd(e,t){var r;return e>t&&(r=e,e=t,t=r),function(o){return Math.max(e,Math.min(t,o))}}function md(e,t,r){var o=e[0],a=e[1],n=t[0],s=t[1];return a<o?(o=di(a,o),n=r(s,n)):(o=di(o,a),n=r(n,s)),function(c){return n(o(c))}}function pd(e,t,r){var o=Math.min(e.length,t.length)-1,a=new Array(o),n=new Array(o),s=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<o;)a[s]=di(e[s],e[s+1]),n[s]=r(t[s],t[s+1]);return function(c){var u=rl(e,c,1,o)-1;return n[u](a[u](c))}}function yd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xd(){var e=Na,t=Na,r=Ni,o,a,n,s=en,c,u,d;function l(){var f=Math.min(e.length,t.length);return s!==en&&(s=gd(e[0],e[f-1])),c=f>2?pd:md,u=d=null,v}function v(f){return f==null||isNaN(f=+f)?n:(u||(u=c(e.map(o),t,r)))(o(s(f)))}return v.invert=function(f){return s(a((d||(d=c(t,e.map(o),ut)))(f)))},v.domain=function(f){return arguments.length?(e=Array.from(f,vd),l()):e.slice()},v.range=function(f){return arguments.length?(t=Array.from(f),l()):t.slice()},v.rangeRound=function(f){return t=Array.from(f),r=Du,l()},v.clamp=function(f){return arguments.length?(s=f?!0:en,l()):s!==en},v.interpolate=function(f){return arguments.length?(r=f,l()):r},v.unknown=function(f){return arguments.length?(n=f,v):n},function(f,i){return o=f,a=i,l()}}function wd(){return xd()(en,en)}function Td(e,t,r,o){var a=ll(e,t,r),n;switch(o=_r(o??",f"),o.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return o.precision==null&&!isNaN(n=ud(a,s))&&(o.precision=n),Ho(o,s)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(n=fd(a,Math.max(Math.abs(e),Math.abs(t))))&&(o.precision=n-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(n=cd(a))&&(o.precision=n-(o.type==="%")*2);break}}return Fo(o)}function Sd(e){var t=e.domain;return e.ticks=function(r){var o=t();return sl(o[0],o[o.length-1],r??10)},e.tickFormat=function(r,o){var a=t();return Td(a[0],a[a.length-1],r??10,o)},e.nice=function(r){r==null&&(r=10);var o=t(),a=0,n=o.length-1,s=o[a],c=o[n],u,d,l=10;for(c<s&&(d=s,s=c,c=d,d=a,a=n,n=d);l-- >0;){if(d=ni(s,c,r),d===u)return o[a]=s,o[n]=c,t(o);if(d>0)s=Math.floor(s/d)*d,c=Math.ceil(c/d)*d;else if(d<0)s=Math.ceil(s*d)/d,c=Math.floor(c*d)/d;else break;u=d}return e},e}function An(){var e=wd();return e.copy=function(){return yd(e,An())},dd.apply(e,arguments),Sd(e)}function Cn(e,t,r){this.k=e,this.x=t,this.y=r}Cn.prototype={constructor:Cn,scale:function(e){return e===1?this:new Cn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Cn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Cn.prototype;function La(e){return Object.prototype.toString.call(e)==="[object Date]"}function Ed(e){return e}function wt(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function ze(e){const t=e-1;return t*t*t+1}function hi(e,t){if(e===t||e!==e)return()=>e;const r=typeof e;if(r!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const o=t.map((a,n)=>hi(e[n],a));return a=>o.map(n=>n(a))}if(r==="object"){if(!e||!t)throw new Error("Object cannot be null");if(La(e)&&La(t)){const n=e.getTime(),c=t.getTime()-n;return u=>new Date(n+u*c)}const o=Object.keys(t),a={};return o.forEach(n=>{a[n]=hi(e[n],t[n])}),n=>{const s={};return o.forEach(c=>{s[c]=a[c](n)}),s}}if(r==="number"){const o=t-e;return a=>e+a*o}return()=>t}var Ct,on,Fn,jt;const Yi=class Yi{constructor(t,r={}){mn(this,Ct,fr(void 0));mn(this,on,fr(void 0));mn(this,Fn);mn(this,jt,null);Ze(this,Ct).v=Ze(this,on).v=t,Gr(this,Fn,r)}static of(t,r){const o=new Yi(t(),r);return _i(()=>{o.set(t())}),o}set(t,r){var v;P(Ze(this,on),t);let{delay:o=0,duration:a=400,easing:n=Ed,interpolate:s=hi}={...Ze(this,Fn),...r};if(a===0)return(v=Ze(this,jt))==null||v.abort(),P(Ze(this,Ct),t),Promise.resolve();const c=yt.now()+o;let u,d=!1,l=Ze(this,jt);return Gr(this,jt,so(f=>{if(f<c)return!0;if(!d){d=!0;const h=Ze(this,Ct).v;u=s(h,t),typeof a=="function"&&(a=a(h,t)),l==null||l.abort()}const i=f-c;return i>a?(P(Ze(this,Ct),t),!1):(P(Ze(this,Ct),u(n(i/a))),!0)})),Ze(this,jt).promise}get current(){return x(Ze(this,Ct))}get target(){return x(Ze(this,on))}set target(t){this.set(t)}};Ct=new WeakMap,on=new WeakMap,Fn=new WeakMap,jt=new WeakMap;let Me=Yi;var _d=De('<div class="page-container-2 svelte-1w3espm"><div class="game-container svelte-1w3espm"><div class="instructions-container svelte-1w3espm"><div id="game-title" class="svelte-1w3espm"></div> <div id="instructions" class="svelte-1w3espm"></div> <div class="tooltip-container svelte-1w3espm"><div class="hint-button svelte-1w3espm"><span class="svelte-1w3espm">(?)</span> <span style="font-size:10px;" class="svelte-1w3espm"> </span></div> <span class="tooltip-text svelte-1w3espm">USE A HINT! I WONT JUDGE YOU...</span></div></div> <div class="game-contents svelte-1w3espm"><div class="scatterplot-container"><svg overflow="visible" style="touch-action: none;"></svg></div></div></div></div> <div id="title" class="svelte-1w3espm"></div>',1);function bd(e,t){Et(t,!1);let r="#1c1c1c",o="#e6e6e6",a="#880000",n="#E8FFB7",s=me(t,"gameCounter",12),c=me(t,"transitionHeight",12),u=me(t,"transitionWidth",12),d=0,l=G("");const v=G(new Me(0,{duration:1e3,easing:ze}));let f=G(2),i=G(0),h=G();const g=G(new Me(c(),{duration:500,easing:ze})),m=G(new Me(u(),{delay:500,duration:500,easing:ze}));let w=G(),_=G(500),b=G(500);const T={top:40,right:40,bottom:40,left:40};function p(H){H>=1200?(Z(g,x(g).target=650),Z(m,x(m).target=700)):H>=900?(Z(g,x(g).target=700),Z(m,x(m).target=800)):H>=480?(Z(g,x(g).target=700),Z(m,x(m).target=480),P(_,400)):(Z(g,x(g).target=600),Z(m,x(m).target=350),P(b,450),P(_,300))}function y(){d=window.innerWidth,p(d)}Pt(async()=>{s()==5&&(P(l,"display: flex;"),setTimeout(()=>{fe("title","SYNONYMS",70)},1e3),setTimeout(()=>{fe("title","",70)},2500),setTimeout(()=>{Z(v,x(v).target=1),fe("noun","NOUN"),fe("adjective","ADJECTIVE"),fe("short","SHORT"),fe("long","LONG")},3e3),setTimeout(()=>{fe("instructions","HEAT OVER MEDIUM. (4)"),fe("game-title","SYNONYMS")},4e3),setTimeout(()=>{P(i,1)},1e4)),typeof window<"u"&&(y(),await Dn(),window.addEventListener("resize",y));const H=T.left,U=x(_)-T.right,Q=x(b)-T.bottom,J=T.top,ee=An().domain([-10,10]).range([H,U]),re=An().domain([-10,10]).range([Q,J]);let V=["","","",""],$=["EXTRA","VIRGIN","OLIVE","OIL"],L=[["new","other","unused","additional","ancillary","supplemental"],["extra","further","added","special","extraneous","auxiliary"],["tip","more","surplus","optional","needless","supernumerary"],["perk","spare","leftover","adjunct","accessory","appendix"],["plus","reserve","excess","adornment","complement","extension"],["bonus","addition","affix","attachment","appendage","addendum"]],X=[["pure","fresh","clean","sexless","unsullied","stainless"],["first","chaste","vestal","heatless","undefiled","unspoiled"],["neat","single","prudish","wholesome","virtuous","continent"],["monk","lady","virgin","virgin","monastic","abstinence"],["monk","lady","ascetic","ascetic","celibate","abstinence"],["nun","nun","maiden","maiden","celibate","anchorite"]],z=[["green","tan","camo","military","blue-green","yellow-green"],["sea","sage","pine","tawny","viridian","chartreuse"],["pea","beryl","sage","kelly","emerald","peacock"],["moss","lime","olive","forest","vegetable","aquamarine"],["jade","drupe","drupe","snack","vegetable","stone fruit"],["fruit","fruit","Olea","Olea","pickle","appetizer"]],j=[["Wet","slimy","glossy","shiny","slippery","lustrous"],["Slick","smooth","Greasy","Polished","fatty","adipose"],["Art","balm","Butter","Spread","sleek","anointed"],["Wax","rich","tallow","Lotion","Lubricant","Shortening"],["Oil","Ghee","petrol","Fresco","Canvas","Margarine"],["Lard","Lube","Picture","Painting","Pomade","butyraceous"]];const se=An().domain([H,U]).range([0,L.length-1]),B=An().domain([Q,J]).range([L.length-1,0]);let k=[{id:1,x:3,y:4,cx:-10,cy:5},{id:2,x:-4,y:-7,cx:-3,cy:-1},{id:3,x:-10,y:9,cx:-1,cy:-3},{id:4,x:7,y:9,cx:-10,cy:-6}];function W(le){var de="0123456789abcdef",we=parseInt(le);return we==0||isNaN(le)?"00":(we=Math.round(Math.min(Math.max(0,we),255)),de.charAt((we-we%16)/16)+de.charAt(we%16))}function ne(le){return W(le[0])+W(le[1])+W(le[2])}function oe(le){return le.charAt(0)=="#"?le.substring(1,7):le}function ce(le){var de=[];return de[0]=parseInt(oe(le).substring(0,2),16),de[1]=parseInt(oe(le).substring(2,4),16),de[2]=parseInt(oe(le).substring(4,6),16),de}function fe(le,de,we=100){let Ve=document.getElementById(le);return new Promise(rt=>{let Nt=Ve.innerHTML,it=Nt.length,Qt=0;function Gt(){it>0?(Ve.innerHTML=Nt.substring(0,it-1),it--,setTimeout(Gt,we)):gn()}function gn(){Qt<de.length?(Ve.innerHTML+=de.charAt(Qt),Qt++,setTimeout(gn,we)):rt()}Gt()})}function ge(le,de,we){var Ve=ce(le),rt=ce(de),Nt=we,it=0,Qt=[];for(let gn=0;gn<Nt;gn++){var Gt=[];it+=1/Nt,Gt[0]=Ve[0]*it+(1-it)*rt[0],Gt[1]=Ve[1]*it+(1-it)*rt[1],Gt[2]=Ve[2]*it+(1-it)*rt[2],Qt.push(ne(Gt))}return Qt}let ve=ge(a,o,30),ie=!1;const ue=ct(x(w));ue.append("defs").html(`
  <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
    <feGaussianBlur stdDeviation="3" result="blur" />
    <feMerge>
      <feMergeNode in="blur" />
      <feMergeNode in="SourceGraphic" />
    </feMerge>
  </filter>
`);const ye=gl(ee).ticks(5).tickValues([]).tickSize(0),Ae=ml(re).ticks(5).tickValues([]).tickSize(0);ue.append("g").attr("transform",`translate(0, ${re(0)})`).call(ye).selectAll("path").each(function(){const le=ct(this),de=this.getTotalLength();le.attr("stroke",r).attr("stroke-width",1).attr("fill","none").attr("stroke-dasharray",de).attr("stroke-dashoffset",de).transition().delay(3500).duration(1e3).ease(wn).attr("stroke-dashoffset",0)}),ue.append("g").attr("transform",`translate(${ee(0)}, 0)`).call(Ae).selectAll("path").each(function(){const le=ct(this),de=this.getTotalLength();le.attr("stroke",r).attr("stroke-width",1).attr("fill","none").attr("stroke-dasharray",de).attr("stroke-dashoffset",de).transition().delay(3e3).duration(1e3).ease(wn).attr("stroke-dashoffset",0)}),ue.append("text").attr("x",x(_)/2-14).attr("y",x(b)-22).attr("class","axis-label").attr("fill",r).attr("font-size",10).attr("font-family","ROMMONO").attr("letter-spacing",1).attr("id","noun"),ue.append("text").attr("x",x(_)/2-30).attr("y",30).attr("class","axis-label").attr("fill",r).attr("font-size",10).attr("font-family","ROMMONO").attr("letter-spacing",1).attr("id","adjective"),ue.append("text").attr("x",-4).attr("y",x(b)/2+4).attr("class","axis-label").attr("fill",r).attr("font-size",10).attr("font-family","ROMMONO").attr("letter-spacing",1).attr("id","short"),ue.append("text").attr("x",x(_)-30).attr("y",x(b)/2+4).attr("class","axis-label").attr("fill",r).attr("font-family","ROMMONO").attr("font-size",10).attr("letter-spacing",1).attr("id","long");let K={x:0,y:0};const te=au().on("start",function(le,de){const[we,Ve]=ct(this).attr("transform").match(/translate\(([^,]+),([^)]+)\)/).slice(1,3).map(Number);K.x=le.x-we,K.y=le.y-Ve}).on("drag",function(le,de){const we=le.x-K.x,Ve=le.y-K.y;if(de.x=Math.max(-10,Math.min(10,ee.invert(we))),de.y=Math.max(-10,Math.min(10,re.invert(Ve))),ct(this).attr("transform",`translate(${ee(de.x)},${re(de.y)})`),ct(this).select("text").text(Se(de.x,de.y,de.id).toUpperCase()),ie){const rt=xe(de.x,de.y,de.id,de.cx,de.cy);ct(this).select("circle").attr("fill",rt).attr("filter","url(#glow)")}vn(V,$)&&(ha(".label-text").transition().delay(500).duration(1e3).attr("fill",n),ha(".scatter-point").transition().delay(500).duration(1e3).attr("fill",n),setTimeout(()=>{Z(v,x(v).target=0)},2e3),setTimeout(()=>{c(x(g).target),u(x(m).target),s(6)},3e3))});function Se(le,de,we){return we==1?(V[we-1]=L[Math.round(B(re(de)))][Math.round(se(ee(le)))],V[we-1]):we==2?(V[we-1]=X[Math.round(B(re(de)))][Math.round(se(ee(le)))],V[we-1]):we==3?(V[we-1]=z[Math.round(B(re(de)))][Math.round(se(ee(le)))],V[we-1]):(V[we-1]=j[Math.round(B(re(de)))][Math.round(se(ee(le)))],V[we-1])}function xe(le,de,we,Ve,rt){return"#"+ve[Math.round(Ee(le,de,Ve,rt))]}function Ee(le,de,we,Ve){const rt=we-le,Nt=Ve-de;return Math.sqrt(rt*rt+Nt*Nt)}var ke=ue.selectAll("circle").data(k),Pe=ke.enter().append("g").attr("transform",function(le){return`translate(${ee(le.x)},${re(le.y)})`}).call(te),pt=Pe.append("circle").attr("class","scatter-point").attr("r",0).attr("stroke","transparent").attr("fill",o).attr("stroke-width",50).attr("filter","url(#glow)").transition().delay((le,de)=>3e3+de*100).duration(300).ease(wn).attr("r",7).transition().duration(200).ease(wn).attr("r",5);Pe.append("text").attr("class","label-text").attr("dy",-16).attr("text-anchor","middle").attr("fill",o).attr("filter","url(#glow)").style("opacity",0).text(le=>Se(le.x,le.y,le.id).toUpperCase()).transition().delay((le,de)=>3e3+de*100).duration(600).ease(wn).style("opacity",1);let Rt=0;P(h,function(){if(Rt==0)pt.transition().duration(2e3).attr("r",10),Pe.append("text").attr("dy",function(le){return 4}).attr("text-anchor","middle").attr("font-size",".7em").attr("font-weight","bold").attr("class","circle-numbers").attr("fill",r).text(function(le){return le.id}).attr("opacity",0).transition().duration(2e3).attr("opacity",1),Rt++,P(f,1);else if(Rt==1){let le="";pt.transition().duration(2e3).attr("fill",function(de){return le=xe(de.x,de.y,de.id,de.cx,de.cy),le}).attr("filter","url(#glow)"),ie=!0,P(f,0)}});function vn(le,de){if(le.length!==de.length)return!1;for(let we=0;we<le.length;we++)if(le[we].toUpperCase()!==de[we])return!1;return!0}}),St();var E=_d(),S=Ue(E),D=q(S),A=q(D),C=ae(q(A),4),M=q(C),O=ae(q(M),2),R=q(O,!0);Y(O),Y(M),st(2),Y(C),Y(A);var N=ae(A,2),F=q(N),I=q(F);Yt(I,H=>P(w,H),()=>x(w)),Y(F),Y(N),Y(D),Y(S),st(2),Oe(()=>{he(S,x(l)),he(D,`--dark-gray: #1c1c1c; --mid-gray: #8e8d8c; --light-gray: #e6e6e6; width:${x(m).current+"px"}; height:${x(g).current+"px"};`),he(C,`opacity: ${x(i)??""}`),je(R,x(f)),he(N,`opacity: ${x(v).current??""}`),Te(I,"width",x(_)),Te(I,"height",x(b))}),be("click",M,function(...H){var U;(U=x(h))==null||U.apply(this,H)}),pe(e,E),_t()}function ka(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,o)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ka(Object(r),!0).forEach(function(o){un(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ka(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Mn(e){"@babel/helpers - typeof";return Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(e)}function un(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ad(e,t){if(e==null)return{};var r={},o=Object.keys(e),a,n;for(n=0;n<o.length;n++)a=o[n],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Cd(e,t){if(e==null)return{};var r=Ad(e,t),o,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Dd(e,t){return Od(e)||Pd(e,t)||Wi(e,t)||Nd()}function ot(e){return Md(e)||Id(e)||Wi(e)||Rd()}function Md(e){if(Array.isArray(e))return vi(e)}function Od(e){if(Array.isArray(e))return e}function Id(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pd(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o=[],a=!0,n=!1,s,c;try{for(r=r.call(e);!(a=(s=r.next()).done)&&(o.push(s.value),!(t&&o.length===t));a=!0);}catch(u){n=!0,c=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(n)throw c}}return o}}function Wi(e,t){if(e){if(typeof e=="string")return vi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vi(e,t)}}function vi(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function Rd(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nd(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Un(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Wi(e))||t){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,s=!1,c;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return n=u.done,u},e:function(u){s=!0,c=u},f:function(){try{!n&&r.return!=null&&r.return()}finally{if(s)throw c}}}}var Ld="finalize",kd="consider";function fn(e,t,r){e.dispatchEvent(new CustomEvent(Ld,{detail:{items:t,info:r}}))}function $t(e,t,r){e.dispatchEvent(new CustomEvent(kd,{detail:{items:t,info:r}}))}var Lr="draggedEntered",zn="draggedLeft",kr="draggedOverIndex",$i="draggedLeftDocument",Ar={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Bd(e,t,r){e.dispatchEvent(new CustomEvent(Lr,{detail:{indexObj:t,draggedEl:r}}))}function Fd(e,t,r){e.dispatchEvent(new CustomEvent(zn,{detail:{draggedEl:t,type:Ar.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function Hd(e,t){e.dispatchEvent(new CustomEvent(zn,{detail:{draggedEl:t,type:Ar.OUTSIDE_OF_ANY}}))}function Wd(e,t,r){e.dispatchEvent(new CustomEvent(kr,{detail:{indexObj:t,draggedEl:r}}))}function $d(e){window.dispatchEvent(new CustomEvent($i,{detail:{draggedEl:e}}))}var Ye={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Lr,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:kr,DRAGGED_LEFT:zn,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},et={POINTER:"pointer",KEYBOARD:"keyboard"},hn="isDndShadowItem",Br="data-is-dnd-shadow-item-internal",Gd="data-is-dnd-shadow-item-hint",Ud="id:dnd-shadow-placeholder-0000",zd="dnd-action-dragged-el",Fe="id",gi=0;function Wo(){gi++}function $o(){if(gi===0)throw new Error("Bug! trying to decrement when there are no dropzones");gi--}var Gi=typeof window>"u";function mi(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,o=t?Xd(e):e.getBoundingClientRect(),a=getComputedStyle(e),n=a.transform;if(n){var s,c,u,d;if(n.startsWith("matrix3d("))r=n.slice(9,-1).split(/, /),s=+r[0],c=+r[5],u=+r[12],d=+r[13];else if(n.startsWith("matrix("))r=n.slice(7,-1).split(/, /),s=+r[0],c=+r[3],u=+r[4],d=+r[5];else return o;var l=a.transformOrigin,v=o.x-u-(1-s)*parseFloat(l),f=o.y-d-(1-c)*parseFloat(l.slice(l.indexOf(" ")+1)),i=s?o.width/s:e.offsetWidth,h=c?o.height/c:e.offsetHeight;return{x:v,y:f,width:i,height:h,top:f,right:v+i,bottom:f+h,left:v}}else return o}function Go(e){var t=mi(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Uo(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function zo(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Vd(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Fr(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Ln(e){return zo(Uo(e))}function Ba(e,t){var r=Ln(e),o=Go(t);return Fr(r,o)}function jd(e,t){var r=Ln(e),o=Ln(t);return Vd(r,o)}function Yd(e){var t=Uo(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function Xd(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},o=e.parentElement;o&&o!==document.body;){var a=o.getBoundingClientRect(),n=window.getComputedStyle(o).overflowY,s=window.getComputedStyle(o).overflowX,c=n==="scroll"||n==="auto",u=s==="scroll"||s==="auto";c&&(r.top=Math.max(r.top,a.top),r.bottom=Math.min(r.bottom,a.bottom)),u&&(r.left=Math.max(r.left,a.left),r.right=Math.min(r.right,a.right)),o=o.parentElement}return r.top=Math.max(r.top,0),r.bottom=Math.min(r.bottom,window.innerHeight),r.left=Math.max(r.left,0),r.right=Math.min(r.right,window.innerWidth),{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}}var rn;function Ui(){rn=new Map}Ui();function Zd(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(Br)});if(t>=0)return rn.has(e)||rn.set(e,new Map),rn.get(e).set(t,Go(e.children[t])),t}function qd(e,t){if(!Ba(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var o=Zd(t),a=0;a<r.length;a++)if(Ba(e,r[a])){var n=rn.has(t)&&rn.get(t).get(a);return n&&!Fr(Ln(e),n)?{index:o,isProximityBased:!1}:{index:a,isProximityBased:!1}}for(var s=Number.MAX_VALUE,c=void 0,u=0;u<r.length;u++){var d=jd(e,r[u]);d<s&&(s=d,c=u)}return{index:c,isProximityBased:!0}}function tr(e){return JSON.stringify(e,null,2)}function Cr(e){if(!e)throw new Error("cannot get depth of a falsy node");return Vo(e,0)}function Vo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?Vo(e.parentElement,t+1):t-1}function Kd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function Jd(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var Qd=200,Fa=10,pi;function eh(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qd,o=arguments.length>3?arguments[3]:void 0,a,n,s=!1,c,u=Array.from(t).sort(function(l,v){return Cr(v)-Cr(l)});function d(){var l=Ln(e),v=o.multiScrollIfNeeded();if(!v&&c&&Math.abs(c.x-l.x)<Fa&&Math.abs(c.y-l.y)<Fa){pi=window.setTimeout(d,r);return}if(Yd(e)){$d(e);return}c=l;var f=!1,i=Un(u),h;try{for(i.s();!(h=i.n()).done;){var g=h.value;v&&Ui();var m=qd(e,g);if(m!==null){var w=m.index;f=!0,g!==a?(a&&Fd(a,e,g),Bd(g,m,e),a=g):w!==n&&(Wd(g,m,e),n=w);break}}}catch(_){i.e(_)}finally{i.f()}!f&&s&&a?(Hd(a,e),a=void 0,n=void 0,s=!1):s=!0,pi=window.setTimeout(d,r)}d()}function th(){clearTimeout(pi),Ui()}var Sn=30;function nh(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(n){var s=e,c=s.directionObj,u=s.stepPx;c&&(n.scrollBy(c.x*u,c.y*u),window.requestAnimationFrame(function(){return r(n)}))}function o(n){return Sn-n}function a(n,s){if(!s)return!1;var c=rh(n,s),u=!!e.directionObj;if(c===null)return u&&t(),!1;var d=!1,l=!1;return s.scrollHeight>s.clientHeight&&(c.bottom<Sn?(d=!0,e.directionObj={x:0,y:1},e.stepPx=o(c.bottom)):c.top<Sn&&(d=!0,e.directionObj={x:0,y:-1},e.stepPx=o(c.top)),!u&&d)||s.scrollWidth>s.clientWidth&&(c.right<Sn?(l=!0,e.directionObj={x:1,y:0},e.stepPx=o(c.right)):c.left<Sn&&(l=!0,e.directionObj={x:-1,y:0},e.stepPx=o(c.left)),!u&&l)?(r(s),!0):(t(),!1)}return{scrollIfNeeded:a,resetScrolling:t}}function rh(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return Fr(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function ih(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=oh(e),o=Array.from(r).sort(function(u,d){return Cr(d)-Cr(u)}),a=nh(),n=a.scrollIfNeeded,s=a.resetScrolling;function c(){var u=t();if(!u||!o)return!1;for(var d=o.filter(function(f){return Fr(u,f.getBoundingClientRect())||f===document.scrollingElement}),l=0;l<d.length;l++){var v=n(u,d[l]);if(v)return!0}return!1}return{multiScrollIfNeeded:r.size>0?c:function(){return!1},destroy:function(){return s()}}}function ah(e){if(!e)return[];for(var t=[],r=e;r;){var o=window.getComputedStyle(r),a=o.overflow;a.split(" ").some(function(n){return n.includes("auto")||n.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function oh(e){var t=new Set,r=Un(e),o;try{for(r.s();!(o=r.n()).done;){var a=o.value;ah(a).forEach(function(n){return t.add(n)})}}catch(n){r.e(n)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function sh(e){var t=e.cloneNode(!0),r=[],o=e.tagName==="SELECT",a=o?[e]:ot(e.querySelectorAll("select")),n=Un(a),s;try{for(n.s();!(s=n.n()).done;){var c=s.value;r.push(c.value)}}catch(b){n.e(b)}finally{n.f()}if(a.length>0)for(var u=o?[t]:ot(t.querySelectorAll("select")),d=0;d<u.length;d++){var l=u[d],v=r[d],f=l.querySelector('option[value="'.concat(v,'"'));f&&f.setAttribute("selected",!0)}var i=e.tagName==="CANVAS",h=i?[e]:ot(e.querySelectorAll("canvas"));if(h.length>0)for(var g=i?[t]:ot(t.querySelectorAll("canvas")),m=0;m<g.length;m++){var w=h[m],_=g[m];_.width=w.width,_.height=w.height,w.width>0&&w.height>0&&_.getContext("2d").drawImage(w,0,0)}return t}var kn=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),lh=un({},kn.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function jo(e){if(!kn[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(kn)));return lh[e]}var ch=.2;function Ut(e){return"".concat(e," ").concat(ch,"s ease")}function uh(e,t){var r=e.getBoundingClientRect(),o=sh(e);Yo(e,o),o.id=zd,o.style.position="fixed";var a=r.top,n=r.left;if(o.style.top="".concat(a,"px"),o.style.left="".concat(n,"px"),t){var s=zo(r);a-=s.y-t.y,n-=s.x-t.x,window.setTimeout(function(){o.style.top="".concat(a,"px"),o.style.left="".concat(n,"px")},0)}return o.style.margin="0",o.style.boxSizing="border-box",o.style.height="".concat(r.height,"px"),o.style.width="".concat(r.width,"px"),o.style.transition="".concat(Ut("top"),", ").concat(Ut("left"),", ").concat(Ut("background-color"),", ").concat(Ut("opacity"),", ").concat(Ut("color")," "),window.setTimeout(function(){return o.style.transition+=", ".concat(Ut("width"),", ").concat(Ut("height"))},0),o.style.zIndex="9999",o.style.cursor="grabbing",o}function fh(e){e.style.cursor="grab"}function dh(e,t,r,o){Yo(t,e);var a=t.getBoundingClientRect(),n=e.getBoundingClientRect(),s=a.width-n.width,c=a.height-n.height;if(s||c){var u={left:(r-n.left)/n.width,top:(o-n.top)/n.height};jo(kn.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(a.height,"px"),e.style.width="".concat(a.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-u.left*s,"px"),e.style.top="".concat(parseFloat(e.style.top)-u.top*c,"px")}}function Yo(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(o){return o.startsWith("background")||o.startsWith("padding")||o.startsWith("font")||o.startsWith("text")||o.startsWith("align")||o.startsWith("justify")||o.startsWith("display")||o.startsWith("flex")||o.startsWith("border")||o==="opacity"||o==="color"||o==="list-style-type"||jo(kn.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(o==="width"||o==="height")}).forEach(function(o){return t.style.setProperty(o,r.getPropertyValue(o),r.getPropertyPriority(o))})}function hh(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function Xo(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function vh(e){e.style.visibility="hidden",e.setAttribute(Br,"true")}function gh(e){e.style.visibility="",e.removeAttribute(Br)}function lr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(o){var a=t(o);Object.keys(a).forEach(function(n){o.style[n]=a[n]}),r(o).forEach(function(n){return o.classList.add(n)})})}function Dr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(o){var a=t(o);Object.keys(a).forEach(function(n){o.style[n]=""}),r(o).forEach(function(n){return o.classList.contains(n)&&o.classList.remove(n)})})}function mh(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var ph="--any--",yh=100,xh=20,Ha=3,Wa={outline:"rgba(255, 255, 102, 0.7) solid 2px"},$a="data-is-dnd-original-dragged-item",lt,$e,Ke,Hr,Ie,Wr,Ht,We,Bt,tt,kt=!1,zi=!1,Vi,Vn=!1,cr=[],On,vt=new Map,Ne=new Map,ti=new WeakMap;function wh(e,t){vt.has(t)||vt.set(t,new Set),vt.get(t).has(e)||(vt.get(t).add(e),Wo())}function Ga(e,t){vt.get(t).delete(e),$o(),vt.get(t).size===0&&vt.delete(t)}function Th(){var e=vt.get(Hr),t=Un(e),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;o.addEventListener(Lr,Zo),o.addEventListener(zn,qo),o.addEventListener(kr,Ko)}}catch(s){t.e(s)}finally{t.f()}window.addEventListener($i,dn);var a=Math.max.apply(Math,ot(Array.from(e.keys()).map(function(s){return Ne.get(s).dropAnimationDurationMs}))),n=a===0?xh:Math.max(a,yh);On=ih(e,function(){return tt}),eh($e,e,n*1.07,On)}function Sh(){var e=vt.get(Hr),t=Un(e),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;o.removeEventListener(Lr,Zo),o.removeEventListener(zn,qo),o.removeEventListener(kr,Ko)}}catch(a){t.e(a)}finally{t.f()}window.removeEventListener($i,dn),On&&(On.destroy(),On=void 0),th()}function $r(e){return e.findIndex(function(t){return!!t[hn]})}function Eh(e){var t;return br(br({},e),{},(t={},un(t,hn,!0),un(t,Fe,Ud),t))}function Zo(e){var t=Ne.get(e.currentTarget),r=t.items,o=t.dropFromOthersDisabled;if(!(o&&e.currentTarget!==Ie)){if(Vn=!1,r=r.filter(function(l){return l[Fe]!==Ht[Fe]}),Ie!==e.currentTarget){var a=Ne.get(Ie).items,n=a.filter(function(l){return!l[hn]});$t(Ie,n,{trigger:Ye.DRAGGED_ENTERED_ANOTHER,id:Ke[Fe],source:et.POINTER})}var s=e.detail.indexObj,c=s.index,u=s.isProximityBased,d=u&&c===e.currentTarget.children.length-1?c+1:c;We=e.currentTarget,r.splice(d,0,Ht),$t(e.currentTarget,r,{trigger:Ye.DRAGGED_ENTERED,id:Ke[Fe],source:et.POINTER})}}function qo(e){if(kt){var t=Ne.get(e.currentTarget),r=t.items,o=t.dropFromOthersDisabled;if(!(o&&e.currentTarget!==Ie&&e.currentTarget!==We)){var a=ot(r),n=$r(a);n!==-1&&a.splice(n,1);var s=We;We=void 0;var c=e.detail,u=c.type,d=c.theOtherDz;if(u===Ar.OUTSIDE_OF_ANY||u===Ar.LEFT_FOR_ANOTHER&&d!==Ie&&Ne.get(d).dropFromOthersDisabled){Vn=!0,We=Ie;var l=s===Ie?a:ot(Ne.get(Ie).items);l.splice(Wr,0,Ht),$t(Ie,l,{trigger:Ye.DRAGGED_LEFT_ALL,id:Ke[Fe],source:et.POINTER})}$t(e.currentTarget,a,{trigger:Ye.DRAGGED_LEFT,id:Ke[Fe],source:et.POINTER})}}}function Ko(e){var t=Ne.get(e.currentTarget),r=t.items,o=t.dropFromOthersDisabled;if(!(o&&e.currentTarget!==Ie)){var a=ot(r);Vn=!1;var n=e.detail.indexObj.index,s=$r(a);s!==-1&&a.splice(s,1),a.splice(n,0,Ht),$t(e.currentTarget,a,{trigger:Ye.DRAGGED_OVER_INDEX,id:Ke[Fe],source:et.POINTER})}}function Mr(e){e.preventDefault();var t=e.touches?e.touches[0]:e;tt={x:t.clientX,y:t.clientY},$e.style.transform="translate3d(".concat(tt.x-Bt.x,"px, ").concat(tt.y-Bt.y,"px, 0)")}function dn(){zi=!0,window.removeEventListener("mousemove",Mr),window.removeEventListener("touchmove",Mr),window.removeEventListener("mouseup",dn),window.removeEventListener("touchend",dn),Sh(),fh($e),We||(We=Ie);var e=Ne.get(We),t=e.items,r=e.type;Dr(vt.get(r),function(n){return Ne.get(n).dropTargetStyle},function(n){return Ne.get(n).dropTargetClasses});var o=$r(t);o===-1&&We===Ie&&(o=Wr),t=t.map(function(n){return n[hn]?Ke:n});function a(){Vi(),fn(We,t,{trigger:Vn?Ye.DROPPED_OUTSIDE_OF_ANY:Ye.DROPPED_INTO_ZONE,id:Ke[Fe],source:et.POINTER}),We!==Ie&&fn(Ie,Ne.get(Ie).items,{trigger:Ye.DROPPED_INTO_ANOTHER,id:Ke[Fe],source:et.POINTER});var n=Array.from(We.children).find(function(s){return s.getAttribute(Br)});n&&gh(n),Ah()}Ne.get(We).dropAnimationDisabled?a():_h(o,a)}function _h(e,t){var r=e>-1?mi(We.children[e],!1):mi(We,!1),o={x:r.left-parseFloat($e.style.left),y:r.top-parseFloat($e.style.top)},a=Ne.get(We),n=a.dropAnimationDurationMs,s="transform ".concat(n,"ms ease");$e.style.transition=$e.style.transition?$e.style.transition+","+s:s,$e.style.transform="translate3d(".concat(o.x,"px, ").concat(o.y,"px, 0)"),window.setTimeout(t,n)}function bh(e,t){cr.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){Xo(e),document.body.appendChild(e)})}function Ah(){$e.remove(),lt.remove(),cr.length&&(cr.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),cr=[]),$e=void 0,lt=void 0,Ke=void 0,Hr=void 0,Ie=void 0,Wr=void 0,Ht=void 0,We=void 0,Bt=void 0,tt=void 0,kt=!1,zi=!1,Vi=void 0,Vn=!1}function Ch(e,t){var r=!1,o={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Wa,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1},a=new Map;function n(){window.addEventListener("mousemove",u,{passive:!1}),window.addEventListener("touchmove",u,{passive:!1,capture:!1}),window.addEventListener("mouseup",c,{passive:!1}),window.addEventListener("touchend",c,{passive:!1})}function s(){window.removeEventListener("mousemove",u),window.removeEventListener("touchmove",u),window.removeEventListener("mouseup",c),window.removeEventListener("touchend",c)}function c(f){if(s(),lt=void 0,Bt=void 0,tt=void 0,f.type==="touchend"){var i=new Event("click",{bubbles:!0,cancelable:!0});f.target.dispatchEvent(i)}}function u(f){f.preventDefault();var i=f.touches?f.touches[0]:f;tt={x:i.clientX,y:i.clientY},(Math.abs(tt.x-Bt.x)>=Ha||Math.abs(tt.y-Bt.y)>=Ha)&&(s(),l())}function d(f){if(!(f.target!==f.currentTarget&&(f.target.value!==void 0||f.target.isContentEditable))&&!f.button&&!kt){f.preventDefault(),f.stopPropagation();var i=f.touches?f.touches[0]:f;Bt={x:i.clientX,y:i.clientY},tt=br({},Bt),lt=f.currentTarget,n()}}function l(){kt=!0;var f=a.get(lt);Wr=f,Ie=lt.parentElement;var i=Ie.closest("dialog")||Ie.closest("[popover]")||Ie.getRootNode(),h=i.body||i,g=o.items,m=o.type,w=o.centreDraggedOnCursor,_=ot(g);Ke=_[f],Hr=m,Ht=Eh(Ke),$e=uh(lt,w&&tt),h.appendChild($e);function b(){lt.parentElement?window.requestAnimationFrame(b):(lt.setAttribute($a,!0),h.appendChild(lt),Th(),Xo(lt),Ht[Fe]=Ke[Fe],$e.focus())}window.requestAnimationFrame(b),lr(Array.from(vt.get(o.type)).filter(function(T){return T===Ie||!Ne.get(T).dropFromOthersDisabled}),function(T){return Ne.get(T).dropTargetStyle},function(T){return Ne.get(T).dropTargetClasses}),_.splice(f,1,Ht),Vi=mh(Ie),$t(Ie,_,{trigger:Ye.DRAG_STARTED,id:Ke[Fe],source:et.POINTER}),window.addEventListener("mousemove",Mr,{passive:!1}),window.addEventListener("touchmove",Mr,{passive:!1,capture:!1}),window.addEventListener("mouseup",dn,{passive:!1}),window.addEventListener("touchend",dn,{passive:!1})}function v(f){var i=f.items,h=i===void 0?void 0:i,g=f.flipDurationMs,m=g===void 0?0:g,w=f.type,_=w===void 0?ph:w,b=f.dragDisabled,T=b===void 0?!1:b,p=f.morphDisabled,y=p===void 0?!1:p,E=f.dropFromOthersDisabled,S=E===void 0?!1:E,D=f.dropTargetStyle,A=D===void 0?Wa:D,C=f.dropTargetClasses,M=C===void 0?[]:C,O=f.transformDraggedElement,R=O===void 0?function(){}:O,N=f.centreDraggedOnCursor,F=N===void 0?!1:N,I=f.dropAnimationDisabled,H=I===void 0?!1:I;o.dropAnimationDurationMs=m,o.type&&_!==o.type&&Ga(e,o.type),o.type=_,o.items=ot(h),o.dragDisabled=T,o.morphDisabled=y,o.transformDraggedElement=R,o.centreDraggedOnCursor=F,o.dropAnimationDisabled=H,r&&kt&&!zi&&(!Kd(A,o.dropTargetStyle)||!Jd(M,o.dropTargetClasses))&&(Dr([e],function(){return o.dropTargetStyle},function(){return M}),lr([e],function(){return A},function(){return M})),o.dropTargetStyle=A,o.dropTargetClasses=ot(M);function U(re,V){return Ne.get(re)?Ne.get(re)[V]:o[V]}r&&kt&&o.dropFromOthersDisabled!==S&&(S?Dr([e],function(re){return U(re,"dropTargetStyle")},function(re){return U(re,"dropTargetClasses")}):lr([e],function(re){return U(re,"dropTargetStyle")},function(re){return U(re,"dropTargetClasses")})),o.dropFromOthersDisabled=S,Ne.set(e,o),wh(e,_);for(var Q=kt?$r(o.items):-1,J=0;J<e.children.length;J++){var ee=e.children[J];if(hh(ee,T),J===Q){y||dh($e,ee,tt.x,tt.y),o.transformDraggedElement($e,Ke,J),vh(ee);continue}ee.removeEventListener("mousedown",ti.get(ee)),ee.removeEventListener("touchstart",ti.get(ee)),T||(ee.addEventListener("mousedown",d),ee.addEventListener("touchstart",d),ti.set(ee,d)),a.set(ee,J),r||(r=!0)}}return v(t),{update:function(i){v(i)},destroy:function(){function i(){Ga(e,Ne.get(e).type),Ne.delete(e)}kt&&!e.closest("[".concat($a,"]"))?bh(e,i):i()}}}var nr,yi={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Jo=(nr={},un(nr,yi.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),un(nr,yi.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),nr),Dh="dnd-action-aria-alert",Be;function xi(){Be||(Be=document.createElement("div"),function(){Be.id=Dh,Be.style.position="fixed",Be.style.bottom="0",Be.style.left="0",Be.style.zIndex="-5",Be.style.opacity="0",Be.style.height="0",Be.style.width="0",Be.setAttribute("role","alert")}(),document.body.prepend(Be),Object.entries(Jo).forEach(function(e){var t=Dd(e,2),r=t[0],o=t[1];return document.body.prepend(Ih(r,o))}))}function Mh(){return Gi?null:(document.readyState==="complete"?xi():window.addEventListener("DOMContentLoaded",xi),br({},yi))}function Oh(){Gi||!Be||(Object.keys(Jo).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),Be.remove(),Be=void 0)}function Ih(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function an(e){if(!Gi){Be||xi(),Be.innerHTML="";var t=document.createTextNode(e);Be.appendChild(t),Be.style.display="none",Be.style.display="inline"}}var Ph="--any--",Ua={outline:"rgba(255, 255, 102, 0.7) solid 2px"},at=!1,wi,Ge,Zt="",zt,xt,Ft="",Or=new WeakSet,za=new WeakMap,Va=new WeakMap,Ti=new Map,He=new Map,ht=new Map,Ir;function Rh(e,t){ht.size===0&&(Ir=Mh(),window.addEventListener("keydown",Qo),window.addEventListener("click",es)),ht.has(t)||ht.set(t,new Set),ht.get(t).has(e)||(ht.get(t).add(e),Wo())}function ja(e,t){Ge===e&&Bn(),ht.get(t).delete(e),$o(),ht.get(t).size===0&&ht.delete(t),ht.size===0&&(window.removeEventListener("keydown",Qo),window.removeEventListener("click",es),Ir=void 0,Oh())}function Qo(e){if(at)switch(e.key){case"Escape":{Bn();break}}}function es(){at&&(Or.has(document.activeElement)||Bn())}function Nh(e){if(at){var t=e.currentTarget;if(t!==Ge){Zt=t.getAttribute("aria-label")||"";var r=He.get(Ge),o=r.items,a=o.find(function(v){return v[Fe]===xt}),n=o.indexOf(a),s=o.splice(n,1)[0],c=He.get(t),u=c.items,d=c.autoAriaDisabled;t.getBoundingClientRect().top<Ge.getBoundingClientRect().top||t.getBoundingClientRect().left<Ge.getBoundingClientRect().left?(u.push(s),d||an("Moved item ".concat(Ft," to the end of the list ").concat(Zt))):(u.unshift(s),d||an("Moved item ".concat(Ft," to the beginning of the list ").concat(Zt)));var l=Ge;fn(l,o,{trigger:Ye.DROPPED_INTO_ANOTHER,id:xt,source:et.KEYBOARD}),fn(t,u,{trigger:Ye.DROPPED_INTO_ZONE,id:xt,source:et.KEYBOARD}),Ge=t}}}function ts(){Ti.forEach(function(e,t){var r=e.update;return r(He.get(t))})}function Bn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;He.get(Ge).autoAriaDisabled||an("Stopped dragging item ".concat(Ft)),Or.has(document.activeElement)&&document.activeElement.blur(),e&&$t(Ge,He.get(Ge).items,{trigger:Ye.DRAG_STOPPED,id:xt,source:et.KEYBOARD}),Dr(ht.get(wi),function(t){return He.get(t).dropTargetStyle},function(t){return He.get(t).dropTargetClasses}),zt=null,xt=null,Ft="",wi=null,Ge=null,Zt="",at=!1,ts()}function Lh(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Ua,dropTargetClasses:[],autoAriaDisabled:!1};function o(l,v,f){l.length<=1||l.splice(f,1,l.splice(v,1,l[f])[0])}function a(l){switch(l.key){case"Enter":case" ":{if((l.target.disabled!==void 0||l.target.href||l.target.isContentEditable)&&!Or.has(l.target))return;l.preventDefault(),l.stopPropagation(),at?Bn():n(l);break}case"ArrowDown":case"ArrowRight":{if(!at)return;l.preventDefault(),l.stopPropagation();var v=He.get(e),f=v.items,i=Array.from(e.children),h=i.indexOf(l.currentTarget);h<i.length-1&&(r.autoAriaDisabled||an("Moved item ".concat(Ft," to position ").concat(h+2," in the list ").concat(Zt)),o(f,h,h+1),fn(e,f,{trigger:Ye.DROPPED_INTO_ZONE,id:xt,source:et.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!at)return;l.preventDefault(),l.stopPropagation();var g=He.get(e),m=g.items,w=Array.from(e.children),_=w.indexOf(l.currentTarget);_>0&&(r.autoAriaDisabled||an("Moved item ".concat(Ft," to position ").concat(_," in the list ").concat(Zt)),o(m,_,_-1),fn(e,m,{trigger:Ye.DROPPED_INTO_ZONE,id:xt,source:et.KEYBOARD}));break}}}function n(l){c(l.currentTarget),Ge=e,wi=r.type,at=!0;var v=Array.from(ht.get(r.type)).filter(function(i){return i===Ge||!He.get(i).dropFromOthersDisabled});if(lr(v,function(i){return He.get(i).dropTargetStyle},function(i){return He.get(i).dropTargetClasses}),!r.autoAriaDisabled){var f="Started dragging item ".concat(Ft,". Use the arrow keys to move it within its list ").concat(Zt);v.length>1&&(f+=", or tab to another list in order to move the item into it"),an(f)}$t(e,He.get(e).items,{trigger:Ye.DRAG_STARTED,id:xt,source:et.KEYBOARD}),ts()}function s(l){at&&l.currentTarget!==zt&&(l.stopPropagation(),Bn(!1),n(l))}function c(l){var v=He.get(e),f=v.items,i=Array.from(e.children),h=i.indexOf(l);zt=l,zt.tabIndex=r.zoneItemTabIndex,xt=f[h][Fe],Ft=i[h].getAttribute("aria-label")||""}function u(l){var v=l.items,f=v===void 0?[]:v,i=l.type,h=i===void 0?Ph:i,g=l.dragDisabled,m=g===void 0?!1:g,w=l.zoneTabIndex,_=w===void 0?0:w,b=l.zoneItemTabIndex,T=b===void 0?0:b,p=l.dropFromOthersDisabled,y=p===void 0?!1:p,E=l.dropTargetStyle,S=E===void 0?Ua:E,D=l.dropTargetClasses,A=D===void 0?[]:D,C=l.autoAriaDisabled,M=C===void 0?!1:C;r.items=ot(f),r.dragDisabled=m,r.dropFromOthersDisabled=y,r.zoneTabIndex=_,r.zoneItemTabIndex=T,r.dropTargetStyle=S,r.dropTargetClasses=A,r.autoAriaDisabled=M,r.type&&h!==r.type&&ja(e,r.type),r.type=h,Rh(e,h),M||(e.setAttribute("aria-disabled",m),e.setAttribute("role","list"),e.setAttribute("aria-describedby",m?Ir.DND_ZONE_DRAG_DISABLED:Ir.DND_ZONE_ACTIVE)),He.set(e,r),at?e.tabIndex=e===Ge||zt.contains(e)||r.dropFromOthersDisabled||Ge&&r.type!==He.get(Ge).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",Nh);for(var O=function(F){var I=e.children[F];Or.add(I),I.tabIndex=at?-1:r.zoneItemTabIndex,M||I.setAttribute("role","listitem"),I.removeEventListener("keydown",za.get(I)),I.removeEventListener("click",Va.get(I)),m||(I.addEventListener("keydown",a),za.set(I,a),I.addEventListener("click",s),Va.set(I,s)),at&&r.items[F][Fe]===xt&&(zt=I,zt.tabIndex=r.zoneItemTabIndex,I.focus())},R=0;R<e.children.length;R++)O(R)}u(t);var d={update:function(v){u(v)},destroy:function(){ja(e,r.type),He.delete(e),Ti.delete(e)}};return Ti.set(e,d),d}var kh=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","dropAnimationDisabled"];function Mt(e,t){if(Bh(e))return{update:function(){},destroy:function(){}};Ya(t);var r=Ch(e,t),o=Lh(e,t);return{update:function(n){Ya(n),r.update(n),o.update(n)},destroy:function(){r.destroy(),o.destroy()}}}function Bh(e){return!!e.closest("[".concat(Gd,'="true"]'))}function Ya(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,o=e.zoneItemTabIndex;e.dropTargetStyle;var a=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor,e.dropAnimationDisabled;var n=Cd(e,kh);if(Object.keys(n).length>0&&console.warn("dndzone will ignore unknown options",n),!t)throw new Error("no 'items' key provided to dndzone");var s=t.find(function(c){return!{}.hasOwnProperty.call(c,Fe)});if(s)throw new Error("missing '".concat(Fe,"' property for item ").concat(tr(s)));if(a&&!Array.isArray(a))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(Mn(a),", ").concat(tr(a)));if(r&&!Xa(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(Mn(r),", ").concat(tr(r)));if(o&&!Xa(o))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(Mn(o),", ").concat(tr(o)))}function Xa(e){return!isNaN(e)&&function(t){return(t|0)===t}(parseFloat(e))}function Fh(e,{from:t,to:r},o={}){var{delay:a=0,duration:n=y=>Math.sqrt(y)*120,easing:s=ze}=o,c=getComputedStyle(e),u=c.transform==="none"?"":c.transform,[d,l]=c.transformOrigin.split(" ").map(parseFloat);d/=e.clientWidth,l/=e.clientHeight;var v=Hh(e),f=e.clientWidth/r.width/v,i=e.clientHeight/r.height/v,h=t.left+t.width*d,g=t.top+t.height*l,m=r.left+r.width*d,w=r.top+r.height*l,_=(h-m)*f,b=(g-w)*i,T=t.width/r.width,p=t.height/r.height;return{delay:a,duration:typeof n=="function"?n(Math.sqrt(_*_+b*b)):n,easing:s,css:(y,E)=>{var S=E*_,D=E*b,A=y+E*T,C=y+E*p;return`transform: ${u} translate(${S}px, ${D}px) scale(${A}, ${C});`}}}function Hh(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}var Wh=De('<div><div class="letter no-select svelte-1kegrwl"> </div></div>');function ji(e,t){Et(t,!1);let r=me(t,"word",8),o=me(t,"correct",8,""),a=me(t,"shouldBounce",12,!1),n=me(t,"index",8,0),s=me(t,"hidden",8,!1),c=me(t,"bounceOut",8,!1),u=G(),d=G(!1),l=0;a()?P(u,0):P(u,1),Pt(()=>{a()&&(l=n()*100,setTimeout(()=>{P(d,!0),setTimeout(()=>{a(!1),P(d,!1),P(u,1)},600)},l))}),St();var v=Wh(),f=q(v),i=q(f,!0);Y(f),Y(v),Oe(h=>{Ot(v,1,`square ${o()??""} ${x(d)?"bounce-in":""} ${c()?"bounce-out":""}`,"svelte-1kegrwl"),he(v,`
    --dark-gray: #1c1c1c;
    --mid-gray: #8e8d8c;
    --light-gray: #e6e6e6;
    --correct-green: #E8FFB7;
    opacity: ${x(u)??""};
    visibility: ${s()?"hidden":"visible"};
  `),je(i,h)},[()=>r().toUpperCase()],gt),pe(e,v),_t()}var $h=De('<div class="square svelte-4b7z1d"></div>');function Gh(e,t){Et(t,!1);const r=G();let o=me(t,"items",28,()=>[]),a=me(t,"disableDrag",8,!1),n=me(t,"x",8,0),s=me(t,"y",8,0),c=me(t,"slot",12),u=me(t,"index",8,0),d=me(t,"bounceOut",8);function l(f){o(f.detail.items)}ft(()=>(hr(o()),hr(a())),()=>{P(r,{dropFromOthersDisabled:o().length,items:o(),dropTargetStyle:{},flipDurationMs:100,dropFromOthersDisabled:a()})}),Wn(),St();var v=$h();Je(v,5,o,f=>f.id,(f,i)=>{ji(f,{get word(){return x(i).word},shouldBounce:!0,get index(){return u()},get hidden(){return x(i)[hn]},get bounceOut(){return d()}})}),Y(v),Yt(v,f=>c(f),()=>c()),Ai(v,(f,i)=>Mt==null?void 0:Mt(f,i),()=>x(r)),Wt(()=>be("consider",v,l)),Wt(()=>be("finalize",v,l)),Oe(()=>he(v,`transform:translate(${n()??""}vw,${s()??""}vh)`)),pe(e,v),_t()}new TextEncoder;const Uh=e=>e;function ns(e,{delay:t=0,duration:r=400,easing:o=Uh}={}){const a=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:o,css:n=>`opacity: ${n*a}`}}var zh=De('<div class="slot-container svelte-q8ylpr"><!></div>'),Vh=De('<div class="tile-container svelte-q8ylpr"><div><!></div></div>'),jh=De(`<div class="game-container svelte-q8ylpr"><div class="instructions-container svelte-q8ylpr"><div></div> <div><div id="instructions" class="svelte-q8ylpr"></div> <div><div id="hint2" style="display:inline" class="svelte-q8ylpr"></div></div> <div id="instructions2" class="svelte-q8ylpr"></div></div> <div class="tooltip-container svelte-q8ylpr"><div class="hint-button svelte-q8ylpr"><span class="svelte-q8ylpr">(?)</span> <span class="svelte-q8ylpr"> </span></div> <span class="tooltip-text svelte-q8ylpr">Use a hint! I won't judge you...</span></div></div> <div id="hint"></div> <div class="grid svelte-q8ylpr"></div> <div class="rack svelte-q8ylpr"></div> <div class="level-complete"></div></div>`);function Yh(e,t){Et(t,!1);let r=me(t,"itemsStart",24,()=>[]),o=me(t,"gameNumber",12,0),a=me(t,"items1",28,()=>[]),n=G(!1);const s=G(new Me(500,{duration:500,easing:wt})),c=G(new Me(500,{duration:500,easing:wt}));let u=0;function d(I){console.log(I),I>=1200?(Z(s,x(s).target=500),Z(c,x(c).target=700)):I>=900?(Z(s,x(s).target=500),Z(c,x(c).target=550)):I>=480?(Z(s,x(s).target=500),Z(c,x(c).target=450)):(Z(s,x(s).target=500),Z(c,x(c).target=350))}function l(){u=window.innerWidth,d(u)}let v=G(!1),f=G(0),i=G(""),h=G(1),g=!1,m=G(!1),w=G(!1),_=!1;function b(I,H,U=100){let Q=document.getElementById(I),J=0;I==="hint"&&_===!1&&(setTimeout(()=>{P(m,!0)},10),J=1e3),setTimeout(()=>new Promise(ee=>{let re=Q.innerHTML,V=re.length,$=0;function L(){V>0?(Q.innerHTML=re.substring(0,V-1),V--,setTimeout(L,U)):X()}function X(){$<H.length?(Q.innerHTML+=H.charAt($),$++,setTimeout(X,U)):(g=!1,ee())}L()}),J)}let T=0,p=G(3),y=me(t,"glowCart",12,!1);function E(){o()==0?D(a(),r())&&(setTimeout(()=>{P(i,"correct"),P(h,0)},700),setTimeout(()=>{a([]),o(1),P(h,1),P(i,""),setTimeout(()=>{P(f,1)},1e4)},3e3)):o()==1?D(a(),r())?setTimeout(()=>{P(v,!0)},1e3):D(a(),A(r()))&&(setTimeout(()=>{P(i,"correct"),P(h,0),P(v,!1),P(f,0),_=!0,b("hint","",50),setTimeout(()=>{x(m)===!0&&P(w,!0),P(m,!1)},3e3),_=!1},700),setTimeout(()=>{a([]),o(2),P(h,1),P(i,""),P(p,4),setTimeout(()=>{P(f,1)},1e4)},3e3)):o()==2&&a().length==r().length&&setTimeout(()=>{P(v,!0)},1e3)}async function S(){if(x(f)>0){if(g)return;g=!0,o()==1?T==0?(b("hint","HAVE YOU TRIED DIFFERENT ORDERS?"),P(p,1),T++):T==1&&(b("hint","TRY A DIFFERENT ORDER, LIKE WORD LENGTH OR ALPHABETICAL..."),P(p,0),T=0):o()==2&&(T==0?(b("hint2","YOUR ORDER"),P(p,3),T++):T==1?(b("hint","WHAT ELSE CAN ORDER MEAN?"),P(p,2),T++):T==2?(b("hint","HAVE YOU TRIED LOOKING AROUND THE PAGE?"),P(p,1),T++):T==3&&(b("hint","REALLY LOOK!"),y(!0),P(p,0),T=1))}}function D(I,H){if(I.length!==H.length)return!1;for(let U=0;U<I.length;U++)if(I[U].word!==H[U].word)return!1;return!0}function A(I){return[...I].sort((H,U)=>H.word.localeCompare(U.word))}function C(I){a(I.detail.items)}const M=100;let O=I=>I.preventDefault();Pt(()=>(typeof window<"u"&&(l(),window.addEventListener("resize",l),P(n,!0)),setTimeout(()=>{b("instructions","PLACE THESE WORDS IN "),setTimeout(()=>{b("hint2","ORDER")},2e3),setTimeout(()=>{b("instructions2",".")},2500)},500),window.addEventListener("touchmove",O,{passive:!1}),window.addEventListener("mouseup",E),window.addEventListener("touchend",E),()=>{window.removeEventListener("mouseup",E),window.removeEventListener("touchend",E)})),St();var R=qt(),N=Ue(R);{var F=I=>{var H=jh();he(H,"--dark-gray: #1c1c1c; --mid-gray: #8e8d8c; --light-gray: #e6e6e6; --error-red: #880000;");var U=q(H),Q=ae(q(U),2),J=ae(q(Q),2);let ee;st(2),Y(Q);var re=ae(Q,2),V=q(re),$=ae(q(V),2),L=q($,!0);Y($),Y(V),st(2),Y(re),Y(U);var X=ae(U,2);let z;var j=ae(X,2);Je(j,5,r,Dt,(B,k,W)=>{var ne=zh(),oe=q(ne);const ce=gt(()=>[x(k)]);Gh(oe,{disableDrag:!0,get items(){return x(ce)},index:W,get bounceOut(){return x(k).bounceOut}}),Y(ne),Oe(()=>he(ne,`
			opacity: ${x(h)??""};
			position: absolute;
			left: ${x(c).target*x(k).x/100}px;
			top: ${x(s).target*x(k).y/100}px;
		  `)),pe(B,ne)}),Y(j);var se=ae(j,2);Je(se,15,a,B=>B.id,(B,k)=>{var W=Vh(),ne=q(W),oe=q(ne);ji(oe,{get correct(){return x(i)},get word(){return x(k).word},get bounceOut(){return x(k).bounceOut}}),Y(ne),Y(W),Oe(()=>he(ne,`z-index: 1; position: relative; opacity: ${x(k)[hn]?0:1};`)),Zs(W,()=>Fh,()=>({duration:M})),pe(B,W)}),Y(se),Ai(se,(B,k)=>Mt==null?void 0:Mt(B,k),()=>({items:a(),flipDurationMs:M,morphDisabled:!0,dropTargetStyle:{}})),Wt(()=>be("consider",se,C)),Wt(()=>be("finalize",se,C)),st(2),Y(H),Oe((B,k)=>{ee=Ot(J,1,"underline-animation svelte-q8ylpr",null,ee,B),he(re,`opacity: ${x(f)??""}`),he(V,x(f)?"cursor: pointer;":""),je(L,x(p)),z=Ot(X,1,"svelte-q8ylpr",null,z,k)},[()=>({underlined:x(v)}),()=>({"animate-hint":x(m),"animate-hint-out":x(w)})],gt),be("click",V,S),pe(I,H)};Le(N,I=>{x(n)&&I(F)})}pe(e,R),_t()}var Xh=De('<div class="overlay svelte-tjaigi"></div>'),Zh=De(`<div class="modal-backdrop svelte-tjaigi"><div class="modal-content svelte-tjaigi"><div class="svelte-tjaigi">Why don't you finish this game before trying out some
					others?</div></div></div>`),qh=De('<div class="modal-backdrop svelte-tjaigi"><div class="modal-content svelte-tjaigi"><div class="svelte-tjaigi">This is a game by Ashley Cai, Brown|RISD 2025.</div></div></div>'),Kh=De('<div class="page-container-1 svelte-tjaigi"><div class="cart svelte-tjaigi"><div class="cart-separator svelte-tjaigi"></div> <div class="cart-dropbox svelte-tjaigi"></div></div> <!> <div class="page-contents svelte-tjaigi"><div class="header-container svelte-tjaigi"><div class="logo svelte-tjaigi">*</div> <div class="buttons svelte-tjaigi"><div class="svelte-tjaigi">MORE GAMES</div> <div class="svelte-tjaigi">ABOUT</div> <div class="tooltip-container svelte-tjaigi"><div class="svelte-tjaigi"><svg viewBox="0 0 512 450" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15 15.5H102L116.263 77M164.5 285L116.263 77M116.263 77H492.5L437.5 285H165C147 285 133 298 133 317C133 336 151 345 167 345C183 345 349.333 345 437.5 345" stroke-width="30" stroke-linecap="round" class="svelte-tjaigi"></path><circle cx="194.5" cy="406.5" r="28.5" stroke-width="30" class="svelte-tjaigi"></circle><circle cx="405.5" cy="406.5" r="28.5" stroke-width="30" class="svelte-tjaigi"></circle></svg></div> <span class="tooltip-text svelte-tjaigi">Shhh... try again later</span></div></div></div> <div class="main-content svelte-tjaigi"><!></div> <div class="footer svelte-tjaigi"><div class="separator svelte-tjaigi"></div> <div class="footer-text svelte-tjaigi"><div class="svelte-tjaigi">Â© 2025 HANGONTOEVERYWORD.com.</div> <div>CHECK OUT</div></div></div></div> <!> <!></div>');function Jh(e,t){Et(t,!1);const r=G(),o=G(),a=G(),n=G();let s=G(""),c=me(t,"transitionHeight",12),u=me(t,"transitionWidth",12);const d=G(new Me(0,{duration:500,easing:ze})),l=G(new Me(0,{duration:500,easing:ze})),v=new Me(1,{duration:1e3,easing:ze});let f="#1c1c1c",i="#8e8d8c",h="#e6e6e6",g=me(t,"gameCounter",12,0),m=G(2),w=0;Pt(()=>{const K=()=>{const te=window.innerWidth,Se=window.innerHeight;Z(l,x(l).target=te),Z(d,x(d).target=Se)};K(),window.addEventListener("resize",K)});let _=G("-102vw"),b=G(""),T=G(i),p=G(.5),y=G(1),E=G([]),S=G(!1);function D(){if(x(m)==2){const K=x(a)?"-50vw":"-92vw",te="-102vw";if(x(_)===K)P(_,te),P(T,i),P(S,!1);else if(P(_,K),P(T,f),P(S,!0),x(M).length===0){const Se=new Set(x(E).map(Ee=>Ee.word));P(E,x(E).map(Ee=>({...Ee,bounceOut:!0})));const xe=x(C)[x(m)].map(Ee=>({...Ee,bounceOut:!Se.has(Ee.word)}));Z(C,x(C)[x(m)]=xe),setTimeout(()=>{const Ee=new Set;P(M,[...x(E),...x(C)[x(m)]].filter(ke=>Ee.has(ke.word)?!1:(Ee.add(ke.word),!0)).map(ke=>({...ke,bounceOut:!1,shouldBounce:!0}))),P(E,[]),Z(C,x(C)[x(m)]=[])},600)}}}let A=0,C=G([[{id:A++,word:"HANG",x:60,y:20},{id:A++,word:"ON",x:10,y:15},{id:A++,word:"TO",x:66,y:60},{id:A++,word:"EVERY",x:40,y:70},{id:A++,word:"WORD",x:24,y:54}],[{id:A++,word:"KEEP",x:10,y:67},{id:A++,word:"AN",x:65,y:27},{id:A++,word:"EYE",x:34,y:56},{id:A++,word:"OUT",x:24,y:15}],[{id:A++,word:"EASIER",x:45,y:17},{id:A++,word:"SAID",x:7,y:24},{id:A++,word:"THAN",x:14,y:63},{id:A++,word:"DONE",x:65,y:47}]]),M=G([]),O=G(!1);function R(){x(M).length==4&&(P(p,1),setTimeout(()=>{P(y,0)},500),setTimeout(()=>{P(_,"0")},1e3),setTimeout(()=>{P(b,"top: 0; left: 0; bottom: 0; right: 0;"),P(s,"display: none;"),c(x(d).target),u(x(l).target),g(1)},2e3))}function N(K){P(M,K.detail.items)}const F=100;let I=G(!1),H=G(!1);function U(){P(I,!x(I))}function Q(){P(H,!x(H))}function J(){P(I,!1),P(H,!1)}ft(()=>x(_),()=>{P(r,x(_)==="-92vw"?w*.06:w*.005)}),ft(()=>x(r),()=>{P(o,`${x(r)}px`)}),ft(()=>{},()=>{P(a,w<480)}),ft(()=>{},()=>{P(n,!1)}),ft(()=>x(M),()=>{P(O,x(M).length===4)}),Wn(),St();var ee=Kh(),re=q(ee),V=q(re),$=ae(V,2);Je($,5,()=>x(M),K=>K.id,(K,te)=>{ji(K,{get word(){return x(te).word},get shouldBounce(){return x(te).shouldBounce}})}),Y($),Ai($,(K,te)=>Mt==null?void 0:Mt(K,te),()=>({items:x(M),flipDurationMs:F,morphDisabled:!0,dropTargetStyle:{}})),Wt(()=>be("consider",$,N)),Wt(()=>be("finalize",$,N)),Y(re);var L=ae(re,2);{var X=K=>{var te=Xh();Oe(()=>he(te,`opacity: ${x(p)??""}`)),Ci(3,te,()=>fade,()=>({duration:300})),pe(K,te)};Le(L,K=>{x(S)&&K(X)})}var z=ae(L,2),j=q(z),se=ae(q(j),2),B=q(se),k=ae(B,2),W=ae(k,2),ne=q(W),oe=q(ne);Y(ne);var ce=ae(ne,2);Y(W),Y(se),Y(j);var fe=ae(j,2),ge=q(fe);Yh(ge,{get itemsStart(){return x(C)[x(m)]},get glowCart(){return x(n)},set glowCart(K){P(n,K)},get gameNumber(){return x(m)},set gameNumber(K){P(m,K)},get items1(){return x(E)},set items1(K){P(E,K)},$$legacy:!0}),Y(fe);var ve=ae(fe,2),ie=ae(q(ve),2),ue=ae(q(ie),2);Y(ie),Y(ve),Y(z);var ye=ae(z,2);{var Ae=K=>{var te=Zh(),Se=q(te);Y(te),be("click",Se,sa(function(xe){la.call(this,t,xe)})),be("click",te,J),pe(K,te)};Le(ye,K=>{x(I)&&K(Ae)})}var _e=ae(ye,2);{var Ce=K=>{var te=qh(),Se=q(te);Y(te),be("click",Se,sa(function(xe){la.call(this,t,xe)})),be("click",te,J),pe(K,te)};Le(_e,K=>{x(H)&&K(Ce)})}Y(ee),Oe(()=>{he(ee,`${x(s)??""} --dark-gray: #1c1c1c; --mid-gray: #8e8d8c; --light-gray: #e6e6e6`),he(re,`right: ${x(_)??""}; opacity:${v.current??""}; height: ${x(d).current+"px"}; width: ${x(l).current+"px"}; ${x(b)??""}`),he(V,`opacity: ${x(y)??""}`),he($,`opacity: ${x(y)??""}`),he(j,`opacity: ${x(y)??""}`),he(se,`margin-right:${x(o)??""}`),Ot(oe,0,`cart-button ${x(n)?"glow":""}`,"svelte-tjaigi"),he(oe,`stroke:${(x(n)?h:x(T))??""}`),he(ce,`opacity: ${x(m)===2?"0":"1"}`),he(ve,`opacity: ${x(y)??""}`),Ot(ue,1,`checkout ${x(O)?"glow":""}`,"svelte-tjaigi"),he(ue,`color:${x(T)??""}`)}),be("click",B,U),be("click",k,Q),be("click",ne,D),be("click",ue,R),pe(e,ee),_t()}var Qh=De('<div class="win-condition svelte-h3fp2w"></div>'),ev=De(`<div class="page-container-1 svelte-h3fp2w"><div class="game-words-container svelte-h3fp2w"><div class="svelte-h3fp2w"></div> <div class="game-container-1 svelte-h3fp2w"><div class="game-content-1 svelte-h3fp2w"><div class="header-container svelte-h3fp2w"><div id="game-title" class="svelte-h3fp2w"></div> <div class="counter svelte-h3fp2w"><span contenteditable="false" class="svelte-h3fp2w"></span>/<span contenteditable="false" class="svelte-h3fp2w"></span></div> <div class="tooltip-container svelte-h3fp2w"><div class="hint-button svelte-h3fp2w"><span class="svelte-h3fp2w">(?)</span> <span style="font-size:10px;" class="svelte-h3fp2w"> </span></div> <span class="tooltip-text svelte-h3fp2w">Use a hint! I won't judge you...</span></div></div> <div id="hint"></div> <div contenteditable="false" class="svelte-h3fp2w"><p id="highlighted-para" contenteditable="false" class="svelte-h3fp2w"></p></div></div></div> <div class="roots svelte-h3fp2w" contenteditable="false"></div></div></div> <div id="title" class="svelte-h3fp2w"></div> <!>`,1);function tv(e,t){Et(t,!1);let r=me(t,"transitionHeight",12),o=me(t,"transitionWidth",12),a="",n=G(""),s=G(0),c=G(0),u=new Set,d=G(0),l,v=me(t,"gameCounter",12),f=0;const i=G(new Me(0,{duration:1e3,easing:ze})),h=G(new Me(r(),{delay:500,duration:500,easing:wt})),g=G(new Me(o(),{duration:500,easing:wt})),m=G(new Me(0,{delay:1e3,duration:500,easing:wt})),w=G(new Me(0,{delay:0,duration:1e3,easing:wt}));function _(ie){ie>=1200?(Z(g,x(g).target=400),Z(h,x(h).target=525)):ie>=900?(Z(g,x(g).target=400),Z(h,x(h).target=525)):ie>=480?(Z(g,x(g).target=400),Z(h,x(h).target=525)):(Z(g,x(g).target=320),Z(h,x(h).target=475)),setTimeout(()=>{Z(w,x(w).target=100)},5e3),Z(m,x(m).target=10)}function b(){f=window.innerWidth,_(f)}function T(ie,ue,ye=5){const Ae=document.getElementById(ie),_e=ue.split(/(\s+)/);Ae.innerHTML="",_e.forEach((Ce,K)=>{const te=document.createElement("span");if(te.textContent=Ce,Ce.trim()===""){te.style.whiteSpace="pre",te.style.display="inline-block",Ae.appendChild(te);return}p&&(te.style.cursor="pointer",te.addEventListener("click",()=>{const Ee=te.textContent.replace(/[^\w]/g,"").toLowerCase();let ke=C(Ee);console.log(C(Ee)),u.has(ke[1])?u.delete(ke[1]):u.add(ke[1]),console.log([].concat(...u)),P(E,D([].concat(...u)))}));const Se=Math.floor(Math.random()*60-30),xe=Math.floor(Math.random()*60-30);te.style.opacity=0,te.style.display="inline-block",te.style.transition="opacity 0.4s ease, transform 0.4s ease",te.style.transform=`translate(${Se}px, ${xe}px)`,Ae.appendChild(te),setTimeout(()=>{te.style.opacity=1,te.style.transform="translate(0px, 0px)"},K*ye)})}let p=!1,y=0;Pt(()=>{y=window.innerWidth,p=y<480,v()==1&&(setTimeout(()=>{F("title","ETYMOLOGY")},1e3),setTimeout(()=>{F("title","")},2500),setTimeout(()=>{Z(i,x(i).target=1),setTimeout(()=>{T("highlighted-para","The gnome, capable and congenial, is alone in the immense hospice, impervious is the attenuation of agency. This innate fusion, this adult protagonist, added capacity. Essential is the essence of the command, the quintessential hospitality. There, this agnostic agent click, complete and agile, attended the hospitable agenda. The diagnosis is circumspect, the ignoble circumstance that demand attenuation. Capiche? The top gnome intend not abnegate the capacity of captivating, inciting hostility in the perfunctory agency of the industry. Circa the perennial diagnosis, the plebeian renegade performed the perfuse effusion of essence, the anagogical fusion of physiognomy and genealogy. The plebiscite inflict not confusion; the essence managed circumnavigating the perimeter of congenital antagonism. Adorned in the negligee of ignorance, the plebe manufactured the symmetry of the circumstance. Thereabout, that perfumed hostage diffused the hostility of effusive compliment. The perplexed gnome demanded cryogenic supply, piecemeal, capable of negotiating tender, refunds. The circumstance abated, agonized, confused the hospitality of the adult gnome, instantly. The protagonist atoned, permanently, presently. None ignored the circuit of the metronome, the circumference of isometric supply. Alone, not lonely, the left gnome is capable of the intrinsic introspect, that instant of perspective in the permanent interior. Invert the corner circumstance, yes, and the quintessential one of the introduction is increasingly impervious. Represent the gentile, the genteel, the gentry. Yes, the gnome is indigenous of the genre."),a="The gnome, capable and congenial, is alone in the immense hospice, impervious is the attenuation of agency. This innate fusion, this adult protagonist, added capacity. Essential is the essence of the command, the quintessential hospitality. There, this agnostic agent click, complete and agile, attended the hospitable agenda. The diagnosis is circumspect, the ignoble circumstance that demand attenuation. Capiche? The top gnome intend not abnegate the capacity of captivating, inciting hostility in the perfunctory agency of the industry. Circa the perennial diagnosis, the plebeian renegade performed the perfuse effusion of essence, the anagogical fusion of physiognomy and genealogy. The plebiscite inflict not confusion; the essence managed circumnavigating the perimeter of congenital antagonism. Adorned in the negligee of ignorance, the plebe manufactured the symmetry of the circumstance. Thereabout, that perfumed hostage diffused the hostility of effusive compliment. The perplexed gnome demanded cryogenic supply, piecemeal, capable of negotiating tender, refunds. The circumstance abated, agonized, confused the hospitality of the adult gnome, instantly. The protagonist atoned, permanently, presently. None ignored the circuit of the metronome, the circumference of isometric supply. Alone, not lonely, the left gnome is capable of the intrinsic introspect, that instant of perspective in the permanent interior. Invert the corner circumstance, yes, and the quintessential one of the introduction is increasingly impervious. Represent the gentile, the genteel, the gentryâyes, the gnome is indigenous of the genre."},200),setTimeout(()=>{F("game-title","ETYMOLOGY")},400)},3500),setTimeout(()=>{P(d,1)},2e4)),typeof window<"u"&&(b(),window.addEventListener("resize",b)),Fi("./cognates.csv").then(function(ie){let ue=Object.keys(ie[0]);l={definition:{},words:{}},ue.forEach(ye=>{let Ae=ie.map(_e=>_e[ye]);l.definition[ye]=Ae.shift(),l.words[ye]=Ae.filter(_e=>_e.trim().toLowerCase()!=="")}),P(c,Object.keys(l.definition).length)})});let E=G(a);function S(){const ie=window.getSelection();if(!ie.rangeCount)return;const ue=ie.getRangeAt(0);document.querySelector("#highlighted-para").contains(ue.commonAncestorContainer)||ie.removeAllRanges();let Ae=ie==null?void 0:ie.toString().replace(/[^\w\s]|_â/g,"").replace(/\s+/g," ").split(" ").map(_e=>_e.trim()).filter(Boolean);P(E,D(Ae))}function D(ie){let ue=[],ye=[];ie.forEach(K=>{let te=C(K);te.length>0&&(ue=ue.concat(te[1]),ye=ye.concat(te[0]))});let Ae=[...new Set(ye)],_e="";P(s,Ae.length),Ae.forEach(K=>{if(K!=""){let te=l.definition[K];_e=_e+`<div class="root-def"><span class='bold-root'>${K.toUpperCase()}</span><br><span class='root-def-text'>${te.toUpperCase()}</span></div>`}}),P(n,_e);const Ce=document.querySelectorAll("#highlighted-para span");ue.length===0&&Ce.forEach(K=>{K.classList.remove("highlighted")}),new RegExp(`\\b(${ue.join("|")})\\b`,"gi"),Ce.forEach(K=>{const te=K.textContent.replace(/[^\w]/g,"").toLowerCase();ue.includes(te)&&K.classList.add("highlighted")})}function A(){setTimeout(()=>{Z(i,x(i).target=0),Z(w,x(w).target=0)},0),setTimeout(()=>{r(x(h).target),o(x(g).target),v(2)},1e3)}function C(ie){for(let ue in l.words)if(l.words[ue].includes(ie.toLowerCase()))return[ue,l.words[ue]];return["",[ie]]}let M=!1,O=G(!1),R=!1,N=!1;function F(ie,ue,ye=100){let Ae=document.getElementById(ie),_e=0;ie==="hint"&&N===!1&&(setTimeout(()=>{P(O,!0)},10),_e=1e3),setTimeout(()=>new Promise(Ce=>{let K=Ae.innerHTML,te=K.length,Se=0;function xe(){te>0?(Ae.innerHTML=K.substring(0,te-1),te--,setTimeout(xe,ye)):Ee()}function Ee(){Se<ue.length?(Ae.innerHTML+=ue.charAt(Se),Se++,setTimeout(Ee,ye)):(M=!1,Ce())}xe()}),_e)}let I=0,H=G(2);async function U(){M||(M=!0,I==0?(F("hint","WHAT WORDS AREN'T BEING HIGHLIGHTED?"),P(H,1),I++):I==1&&(F("hint","READ THE UNHIGHLIGHTED WORDS."),P(H,0),I=0))}bi(()=>{typeof window<"u"&&window.removeEventListener("resize",b)}),St();var Q=ev(),J=Ue(Q),ee=q(J);he(ee,"--dark-gray: #1c1c1c; --mid-gray: #8e8d8c; --light-gray: #e6e6e6; --error-red: #880000");var re=ae(q(ee),2),V=q(re),$=q(V),L=ae(q($),2),X=q(L),z=ae(X,2);Y(L);var j=ae(L,2),se=q(j),B=ae(q(se),2),k=q(B,!0);Y(B),Y(se),st(2),Y(j),Y($);var W=ae($,2);let ne;var oe=ae(W,2),ce=q(oe);Y(oe),Y(V),Y(re);var fe=ae(re,2);Y(ee),Y(J);var ge=ae(J,4);{var ve=ie=>{var ue=Qh();be("click",ue,A),pe(ie,ue)};Le(ge,ie=>{v()===1&&ie(ve)})}Oe(ie=>{he(re,` height: ${x(h).current+"px"}; width: ${x(g).current+"px"};`),he(V,`opacity:${x(i).current??""}`),he(j,`opacity: ${x(d)??""}`),je(k,x(H)),ne=Ot(W,1,"svelte-h3fp2w",null,ne,ie),he(fe,`opacity:${x(i).current??""}; width: ${x(m).current??""}vw; height: ${x(w).current??""}px`)},[()=>({"animate-hint":x(O),"animate-hint-out":R})],gt),Zn("innerHTML",X,()=>x(s),ie=>P(s,ie)),Zn("innerHTML",z,()=>x(c),ie=>P(c,ie)),be("click",se,U),be("mouseup",ce,S),Zn("innerHTML",ce,()=>x(E),ie=>P(E,ie)),Zn("innerHTML",fe,()=>x(n),ie=>P(n,ie)),pe(e,Q),_t()}var nv=Hn('<g><circle class="circle svelte-10j6p8l"></circle><text class="venn-circle-label svelte-10j6p8l" text-anchor="middle"></text></g>'),rv=Hn('<text class="overlap-text svelte-10j6p8l" text-anchor="center" filter="url(#glow)"> </text>'),iv=De("<div> </div>"),av=De(`<div class="page-container-2 svelte-10j6p8l"><div class="game-container svelte-10j6p8l"><div class="game-contents svelte-10j6p8l"><div class="header-container svelte-10j6p8l"><div id="game-title" class="svelte-10j6p8l"></div> <div id="instructions" class="svelte-10j6p8l"></div> <div class="tooltip-container svelte-10j6p8l"><div class="hint-button svelte-10j6p8l"><span class="svelte-10j6p8l">(?)</span> <span style="font-size:10px;" class="svelte-10j6p8l"> </span></div> <span class="tooltip-text svelte-10j6p8l">Use a hint! I won't judge you...</span></div></div> <div id="hint" class="svelte-10j6p8l"></div> <svg class="svelte-10j6p8l"><defs><filter id="glow" x="-50%" y="-50%" width="200%" height="200%"><feGaussianBlur stdDeviation="4" result="blur"></feGaussianBlur><feMerge><feMergeNode in="blur"></feMergeNode><feMergeNode in="blur"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter></defs><!><!></svg> <div class="rack svelte-10j6p8l"></div></div></div></div> <div id="title" class="svelte-10j6p8l"></div>`,1);function ov(e,t){Et(t,!1);const[r,o]=Ns(),a=()=>jn(x(N),"$circlesData",r),n=()=>jn(M,"$rackWords",r),s=()=>jn(H,"$overlaps",r),c=()=>jn(C,"$greenWords",r);let u="#1c1c1c",d=me(t,"gameCounter",12),l=me(t,"transitionHeight",12),v=me(t,"transitionWidth",12),f=0,i=3,h=0,g=G(!1),m=G();const w=G(new Me(0,{duration:1e3,easing:ze})),_=G(new Me(l(),{duration:500,easing:ze})),b=G(new Me(v(),{delay:500,duration:500,easing:ze}));let T=0,p="",y=G(0),E=G(0);function S(B){console.log(B),x(y)>=1200?(Z(_,x(_).target=700),Z(b,x(b).target=1e3),h=100,P(y,1e3),P(E,500),T=210):B>=900?(Z(_,x(_).target=700),Z(b,x(b).target=800),h=100,P(y,800),P(E,P(E,500)),T=210):B>=480?(Z(_,x(_).target=600),Z(b,x(b).target=480),h=60,i=2,P(y,450),P(E,525),T=125):(Z(_,x(_).target=600),Z(b,x(b).target=350),h=55,i=2,P(y,340),P(E,400),T=125)}function D(){f=window.innerWidth,S(f)}let A={};const C=Yn([]);Pt(()=>{document.addEventListener("touchmove",B=>{B.cancelable&&B.preventDefault()},{passive:!1}),d()==4&&(setTimeout(()=>{V("title","JARGON")},1e3),setTimeout(()=>{V("title","")},2500),setTimeout(()=>{Z(w,x(w).target=1)},3500),setTimeout(()=>{V("game-title","JARGON"),V("instructions","EXTREMELY DARK. (2)"),Z(w,x(w).target=1)},4500)),typeof window<"u"&&(D(),window.addEventListener("resize",D)),console.log(i),P(g,!0),Fi("./jargon.csv").then(function(B){Object.keys(B[0]).forEach(W=>{let ne=B.map(oe=>oe[W]);ne=ne.map(oe=>oe.toUpperCase()),A[W]=ne.filter(oe=>oe.trim()!=="")})}),console.log(A),F()});const M=Yn([]);function O(B){M.update(k=>k.includes(B)||k.length>=4?k:[...k,B])}function R(B){M.update(k=>k.filter(W=>W!==B))}let N=G();function F(){Rs(P(N,Yn([{id:1,cx:150,cy:150,r:h,domain:"JOURNALISM",el:null},{id:2,cx:375,cy:150,r:h,domain:"MUSIC",el:null},{id:3,cx:600,cy:150,r:h,domain:"CHESS",el:null},{id:4,cx:825,cy:375,r:h,domain:"COOKING",el:null},{id:5,cx:150,cy:375,r:h,domain:"CODING",el:null},{id:6,cx:825,cy:375,r:h,domain:"MAGIC",el:null}])),"$circlesData",r);const B=x(y)/(i+1);x(N).update(k=>k.map((W,ne)=>{const oe=Math.floor(ne/i),ce=ne%i;return{...W,cx:(ce+1)*B,cy:(oe+1)*T-60,el:null}})),Dn().then(()=>{jr(x(N)).forEach((W,ne)=>{const oe=W.el;if(oe){const ce=2*Math.PI*W.r;oe.setAttribute("stroke-dasharray",ce),oe.setAttribute("stroke-dashoffset",ce),setTimeout(()=>{oe.animate([{strokeDashoffset:ce},{strokeDashoffset:0}],{duration:1e3,easing:"ease-out",fill:"forwards"})},3500+ne*300)}})}),Dn().then(()=>{jr(x(N)).forEach((W,ne)=>{const oe=W.textEl;oe&&(oe.textContent="",setTimeout(()=>{I(oe,W.domain,50)},3500+ne*300))})})}function I(B,k,W=50){let ne=0;function oe(){ne<k.length&&(B.textContent+=k[ne],ne++,setTimeout(oe,W))}oe()}const H=Yn([]);let U=null;function Q(B,k){U=k;const W=B.type.startsWith("touch"),ne=W?B.touches[0].clientX:B.clientX,oe=W?B.touches[0].clientY:B.clientY,ce=ne-k.cx,fe=oe-k.cy;function ge(ie){W&&ie.preventDefault();const ue=W?ie.touches[0].clientX:ie.clientX,ye=W?ie.touches[0].clientY:ie.clientY;U.cx=Math.max(U.r*1.5,Math.min(x(y)-U.r*1.5,ue-ce)),U.cy=Math.max(U.r,Math.min(x(E)-U.r,ye-fe)),x(N).set([...jr(x(N))]),ee()}function ve(){W?(window.removeEventListener("touchmove",ge),window.removeEventListener("touchend",ve)):(window.removeEventListener("mousemove",ge),window.removeEventListener("mouseup",ve))}W?(window.addEventListener("touchmove",ge),window.addEventListener("touchend",ve)):(window.addEventListener("mousemove",ge),window.addEventListener("mouseup",ve))}function J(B,k){return A[B].filter(ne=>A[k].includes(ne))}function ee(){const B=a(),k=[];for(let W=0;W<B.length;W++)for(let ne=W+1;ne<B.length;ne++){const oe=B[W],ce=B[ne],fe=oe.cx-ce.cx,ge=oe.cy-ce.cy;if(Math.sqrt(fe*fe+ge*ge)<oe.r+ce.r){const ie=(oe.cx+ce.cx)/2,ue=(oe.cy+ce.cy)/2,ye=J(oe.domain,ce.domain);k.push({cx:ie,cy:ue,text:ye})}}H.set(k)}let re=!1;function V(B,k,W=100){let ne=document.getElementById(B);return new Promise(oe=>{let ce=ne.innerHTML,fe=ce.length,ge=0;function ve(){fe>0?(ne.innerHTML=ce.substring(0,fe-1),fe--,setTimeout(ve,W)):ie()}function ie(){ge<k.length?(ne.innerHTML+=k.charAt(ge),ge++,setTimeout(ie,W)):(re=!1,oe())}ve()})}let $=0,L=G(2);async function X(){re||(re=!0,$==0?(V("hint","TRY EXPLORING THE INTERSECTIONS."),P(L,1),$++):$==1&&(V("hint","WHAT'S ANOTHER 2-WORD WAY TO SAY THIS?"),P(L,0),$=0))}ft(()=>(n(),x(b),x(_)),()=>{n()[0]=="PITCH"&&n()[1]=="BLACK"&&(async()=>(await Dn(),await new Promise(B=>setTimeout(B,500)),C.set(["PITCH","BLACK"]),setTimeout(()=>{Z(w,x(w).target=0)},1e3),setTimeout(()=>{v(x(b).target),l(x(_).target),d(5)},2e3)))()}),Wn(),St();var z=qt(),j=Ue(z);{var se=B=>{var k=av(),W=Ue(k),ne=q(W),oe=q(ne),ce=q(oe),fe=ae(q(ce),4);he(fe,"opacity: 1");var ge=q(fe),ve=ae(q(ge),2),ie=q(ve,!0);Y(ve),Y(ge),st(2),Y(fe),Y(ce);var ue=ae(ce,4),ye=ae(q(ue));Je(ye,1,a,K=>K.id,(K,te,Se)=>{var xe=nv(),Ee=q(xe);Yt(Ee,(Pe,pt)=>(pt.el=Pe,ea(()=>a()),ta(r,"$circlesData")),Pe=>Pe==null?void 0:Pe.el,()=>[x(te)]);var ke=ae(Ee);Te(ke,"fill",u),Yt(ke,(Pe,pt)=>(pt.textEl=Pe,ea(()=>a()),ta(r,"$circlesData")),Pe=>Pe==null?void 0:Pe.textEl,()=>[x(te)]),Y(xe),Oe(()=>{Te(xe,"transform",`translate(${x(te).cx??""},${x(te).cy??""})`),Te(Ee,"r",x(te).r)}),be("mousedown",xe,Pe=>Q(Pe,x(te))),be("touchstart",xe,Pe=>Q(Pe,x(te))),pe(K,xe)});var Ae=ae(ye);Je(Ae,1,s,Dt,(K,te)=>{let Se=()=>x(te).cx,xe=()=>x(te).cy,Ee=()=>x(te).text;var ke=qt(),Pe=Ue(ke);Je(Pe,1,Ee,Dt,(pt,Rt,vn)=>{var le=rv(),de=q(le,!0);Y(le),Oe(()=>{Te(le,"x",Se()),Te(le,"y",xe()+vn*20),je(de,x(Rt))}),be("click",le,()=>O(x(Rt))),pe(pt,le)}),pe(K,ke)}),Y(ue),Yt(ue,K=>P(m,K),()=>x(m));var _e=ae(ue,2);Je(_e,5,n,K=>K,(K,te)=>{var Se=iv();let xe;var Ee=q(Se,!0);Y(Se),Oe(ke=>{xe=Ot(Se,1,"rack-word svelte-10j6p8l",null,xe,ke),je(Ee,x(te))},[()=>({green:c().includes(x(te))})],gt),be("click",Se,()=>R(x(te))),Ci(3,Se,()=>ns),pe(K,Se)}),Y(_e),Y(oe),Y(ne),Y(W);var Ce=ae(W,2);he(Ce,p),Oe(()=>{he(ne,`--dark-gray: #1c1c1c; --mid-gray: #8e8d8c; --light-gray: #e6e6e6; --correct-green: #E8FFB7; --error-red: #880000; height: ${x(_).current+"px"}; width: ${x(b).current+"px"};`),he(oe,` opacity:${x(w).current??""};`),je(ie,x(L)),he(ue,`width: ${x(y)??""}px; height: ${x(E)??""}px`)}),be("click",ge,X),pe(B,k)};Le(j,B=>{x(g)&&B(se)})}pe(e,z),_t(),o()}var sv=Hn('<line stroke-width="1" class="svelte-1vj3i2z"></line>'),lv=Hn('<line stroke-width="1" stroke-dasharray="4" class="svelte-1vj3i2z"></line>'),cv=Hn("<!><!>",1),uv=De('<div class="dot-container svelte-1vj3i2z"><input type="checkbox"> <div class="label svelte-1vj3i2z"> </div></div>'),fv=De(`<div class="page-container svelte-1vj3i2z"><div class="game-board svelte-1vj3i2z"><div class="click-fade-zone svelte-1vj3i2z"></div> <div class="game-contents svelte-1vj3i2z"><div class="instructions-container svelte-1vj3i2z"><div id="game-title" class="svelte-1vj3i2z"></div> <div id="instructions" class="svelte-1vj3i2z"></div> <div class="tooltip-container svelte-1vj3i2z"><div class="hint-button svelte-1vj3i2z"><span class="svelte-1vj3i2z">(?)</span> <span style="font-size:10px;" class="svelte-1vj3i2z"> </span></div> <span class="tooltip-text svelte-1vj3i2z">USE A HINT! I WON'T JUDGE YOU...</span></div></div> <div id="hint" class="svelte-1vj3i2z"></div> <div class="connect-container svelte-1vj3i2z"><svg class="dotsSVG svelte-1vj3i2z"></svg> <!></div></div></div></div> <div id="title" class="svelte-1vj3i2z"></div>`,1);function dv(e,t){Et(t,!1);const r=G(),o=G(),a=G();let n="#e6e6e6",s="#E8FFB7",c=me(t,"gameCounter",12),u=me(t,"transitionHeight",12),d=me(t,"transitionWidth",12),l=G(""),v=0,f=G(0),i=G(null),h=G({setIndex:null,dotIndex:null}),g=G(0);const m=G(new Me(u(),{duration:500,easing:wt})),w=G(new Me(d(),{delay:500,duration:500,easing:wt})),_=G(new Me(1,{duration:500,easing:ze}));function b(V){V>=1200?(Z(m,x(m).target=700),Z(w,x(w).target=1e3)):V>=900?(Z(m,x(m).target=700),Z(w,x(w).target=800)):V>=480?(Z(m,x(m).target=600),Z(w,x(w).target=480)):(Z(m,x(m).target=600),Z(w,x(w).target=350))}function T(){v=window.innerWidth,b(v)}let p=new Set,y=G([{id:1,color:"#34CF49",dots:[{x:295,y:938,label:"UNDER"},{x:453,y:769,label:"YOUR"},{x:599,y:665,label:"THUMB"}],currentStep:0,lines:[]},{id:2,color:"#815322",dots:[{x:599,y:665,label:"THUMB"},{x:780,y:616,label:"HIS"},{x:780,y:817,label:"NOSE"},{x:1100,y:438,label:"AT"}],currentStep:0,lines:[]},{id:3,color:"#7323F4",dots:[{x:1100,y:438,label:"AT"},{x:780,y:77,label:"THE"},{x:780,y:297,label:"END"},{x:575,y:361,label:"OF"},{x:401,y:486,label:"MY"},{x:279,y:824,label:"ROPE"}],currentStep:0,lines:[]},{id:4,color:"#F0484E",dots:[{x:124,y:253,label:"ALL"},{x:227,y:168,label:"BENT"},{x:591,y:168,label:"OUT"},{x:643,y:206,label:"OF"},{x:591,y:239,label:"SHAPE"}],currentStep:0,lines:[]},{id:5,color:"#C948F0",dots:[{x:591,y:239,label:"SHAPE"},{x:260,y:239,label:"UP"},{x:141,y:369,label:"OR"},{x:141,y:915,label:"SHIP"},{x:279,y:1072,label:"OUT"}],currentStep:0,lines:[]},{id:7,color:"#71A388",dots:[{x:135,y:1064,label:"ONE"},{x:75,y:946,label:"SIZE"},{x:75,y:369,label:"FITS"},{x:124,y:253,label:"ALL"}],currentStep:0,lines:[]},{id:8,color:"#FFAE3E",dots:[{x:279,y:1072,label:"OUT"},{x:849,y:1072,label:"OF"},{x:991,y:942,label:"THE"},{x:991,y:739,label:"BLUE"}],currentStep:0,lines:[]},{id:9,color:"#3E4AFF",dots:[{x:991,y:739,label:"BLUE"},{x:1027,y:692,label:"IN"},{x:1064,y:739,label:"THE"},{x:1064,y:950,label:"FACE"}],currentStep:0,lines:[]},{id:10,color:"#FF3EC8",dots:[{x:871,y:1143,label:"PULL"},{x:386,y:1143,label:"A"},{x:253,y:1143,label:"FAST"},{x:135,y:1064,label:"ONE"}],currentStep:0,lines:[]}]);function E(V,$,L,X,z,j=!0,se=0){const B=X/$,k=z/L;let W=0,ne=0,oe=B,ce=k;if(j){const fe=Math.min(B,k);W=(X-$*fe)/2,ne=(z-L*fe)/2,oe=ce=fe}return ne+=se,V.map(fe=>({...fe,dots:fe.dots.map(ge=>({...ge,x:ge.x*oe+W,y:ge.y*ce+ne}))}))}let S=G({x:0,y:0}),D=G();function A(V,$){const L=x(y)[V];return p.has(L.id)?!1:L.currentStep>0&&L.currentStep<L.dots.length?$===L.currentStep:!x(y).some(z=>!p.has(z.id)&&z.currentStep>0&&z.currentStep<z.dots.length)&&$===0}function C(V,$){const L=x(y)[V];return $>L.currentStep?!0:x(y).some((z,j)=>j!==V&&!p.has(z.id)&&z.currentStep>0&&z.currentStep<z.dots.length)}function M(V,$){const L=x(y)[V];p.has(L.id)||x(y).some((z,j)=>j!==V&&!p.has(z.id)&&z.currentStep>0&&z.currentStep<z.dots.length)||$===L.currentStep&&(L.currentStep>0&&(L.lines=[...L.lines,{from:L.dots[L.currentStep-1],to:L.dots[L.currentStep]}]),L.currentStep+=1,L.currentStep===L.dots.length&&p.add(L.id),Z(y,x(y)[V]={...L}),P(y,[...x(y)]))}function O(V,$){const L=x(y)[V],X=!x(y).some(z=>!p.has(z.id)&&z.currentStep>0&&z.currentStep<z.dots.length);return!p.has(L.id)&&L.currentStep===0&&$===0&&X}function R(){x(r)&&(setTimeout(()=>{P(i,x(f));const V=setInterval(()=>{P(i,x(i)-1),x(i)<=0&&(I("instructions",""),clearInterval(V))},20)},500),setTimeout(()=>{Z(_,x(_).target=0)},1500),setTimeout(()=>{u(gameHeight.target),d(gameWidth.target)},2e3),setTimeout(()=>{c(4)},2500))}let N=G(!1);Pt(()=>{c()==3&&(P(l,"display: flex;"),setTimeout(()=>{I("title","CLICHÃ")},1e3),setTimeout(()=>{I("title","")},2500),setTimeout(()=>{I("instructions","SHARE YOUR THOUGHTS."),I("game-title","CLICHÃ")},4500),setTimeout(()=>{P(g,1)},1e4)),typeof window<"u"&&(T(),P(y,E(x(y),1300,1477,x(w).target,x(m).target-100,!0,0)),window.addEventListener("resize",T)),P(N,!0),setTimeout(()=>{const L=x(y).reduce((z,j)=>z+j.dots.length,0),X=setInterval(()=>{P(f,x(f)+1),x(f)>L+10&&clearInterval(X)},20)},3e3);function $(L){var z;const X=(z=x(D))==null?void 0:z.getBoundingClientRect();X&&(Z(S,x(S).x=L.clientX-X.left),Z(S,x(S).y=L.clientY-X.top-70))}return window.addEventListener("mousemove",$),()=>window.removeEventListener("mousemove",$)});let F=!1;function I(V,$,L=100){let X=document.getElementById(V);return new Promise(z=>{let j=X.innerHTML,se=j.length,B=0;function k(){se>0?(X.innerHTML=j.substring(0,se-1),se--,setTimeout(k,L)):W()}function W(){B<$.length?(X.innerHTML+=$.charAt(B),B++,setTimeout(W,L)):(F=!1,z())}k()})}let H=0,U=G(2);async function Q(){F||(F=!0,H==0?(I("hint","DON'T FORGET THE OVERLAPS."),P(U,1),H++):H==1&&(I("hint","FOLLOW THE ARROW..."),P(U,0),H=0))}ft(()=>x(y),()=>{P(r,x(y).every(V=>V.currentStep===V.dots.length))}),ft(()=>x(y),()=>{P(o,x(y).flatMap((V,$)=>V.dots.map((L,X)=>({setIndex:$,dotIndex:X,dot:L}))))}),ft(()=>x(y),()=>{P(a,(()=>{for(const V of x(y))for(const $ of V.dots)if($.label==="AT")return $;return null})())}),Wn(),St();var J=qt(),ee=Ue(J);{var re=V=>{var $=fv(),L=Ue($),X=q(L),z=q(X),j=ae(z,2),se=q(j),B=ae(q(se),4),k=q(B),W=ae(q(k),2),ne=q(W,!0);Y(W),Y(k),st(2),Y(B),Y(se);var oe=ae(se,4),ce=q(oe);Je(ce,5,()=>x(y),Dt,(ge,ve)=>{var ie=cv(),ue=Ue(ie);Je(ue,1,()=>x(ve).lines,Dt,(_e,Ce)=>{var K=sv();Oe(()=>{Te(K,"x1",x(Ce).from.x),Te(K,"y1",x(Ce).from.y),Te(K,"x2",x(Ce).to.x),Te(K,"y2",x(Ce).to.y),Te(K,"stroke",x(r)?s:n)}),pe(_e,K)});var ye=ae(ue);{var Ae=_e=>{var Ce=lv();Te(Ce,"stroke",n),Oe(()=>{Te(Ce,"x1",x(ve).dots[x(ve).currentStep-1].x),Te(Ce,"y1",x(ve).dots[x(ve).currentStep-1].y),Te(Ce,"x2",x(S).x),Te(Ce,"y2",x(S).y)}),pe(_e,Ce)};Le(ye,_e=>{x(ve).currentStep>0&&x(ve).currentStep<x(ve).dots.length&&_e(Ae)})}pe(ge,ie)}),Y(ce);var fe=ae(ce,2);Je(fe,1,()=>x(o),Dt,(ge,ve,ie)=>{let ue=()=>x(ve).setIndex,ye=()=>x(ve).dotIndex,Ae=()=>x(ve).dot;var _e=qt(),Ce=Ue(_e);{var K=te=>{var Se=uv(),xe=q(Se);Us(xe);var Ee=ae(xe,2),ke=q(Ee,!0);Y(Ee),Y(Se),Oe((Pe,pt,Rt,vn,le)=>{he(Se,`
                left: ${Ae().x??""}px;
                top: ${Ae().y??""}px;
                opacity: 1;
                transform: translate(-50%, -25%) scale(1);
                pointer-events: ${Pe??""};
                transition: opacity 0.4s ease, transform 0.4s ease;
              `),he(xe,`pointer-events: ${pt??""};`),Ot(xe,1,`dot-radio 
                ${Rt??""}
                ${vn??""}`,"svelte-1vj3i2z"),zs(xe,ye()<x(y)[ue()].currentStep),xe.disabled=le,je(ke,Ae().label)},[()=>A(ue(),ye())?"auto":"none",()=>A(ue(),ye())?"auto":"none",()=>O(ue(),ye())?"first-clickable":"",()=>A(ue(),ye())&&x(h).setIndex===ue()&&x(h).dotIndex===ye()?"pulse-on-hover":"",()=>C(ue(),ye())],gt),be("change",xe,()=>M(ue(),ye())),be("mouseenter",xe,()=>{P(h,{setIndex:ue(),dotIndex:ye()})}),be("mouseleave",xe,()=>{P(h,{setIndex:null,dotIndex:null})}),pe(te,Se)};Le(Ce,te=>{ie<x(f)&&(x(i)===null||ie<x(i))&&te(K)})}pe(ge,_e)}),Y(oe),Y(j),Y(X),Yt(X,ge=>P(D,ge),()=>x(D)),Y(L),st(2),Oe(()=>{he(L,x(l)),he(X,`${x(l)??""} --dark-gray: #1c1c1c; --mid-gray: #8e8d8c; --light-gray: #e6e6e6;  --error-red: #880000; width: ${x(w).current??""}px; height:${x(m).current??""}px;`),he(z,`
    left: ${x(a)?x(a).x+10:0}px;
  `),he(j,` opacity:${x(_).current??""};`),he(k,`opacity: ${x(g)??""}`),je(ne,x(U)),Te(ce,"width",x(w).target),Te(ce,"height",x(m).target-32)}),be("click",z,R),be("click",k,Q),pe(V,$)};Le(ee,V=>{x(N)&&V(re)})}pe(e,J),_t()}var hv=De('<div class="pegman-container svelte-1mgxtc4"><div class="label svelte-1mgxtc4"> </div> <div class="pegman svelte-1mgxtc4"></div> <div class="pegman-shadow svelte-1mgxtc4">IN</div></div>'),vv=De(`<div class="page-container svelte-1mgxtc4"><div class="game-container svelte-1mgxtc4"><div class="game-contents svelte-1mgxtc4"><div class="instructions-container svelte-1mgxtc4"><div id="game-title" class="svelte-1mgxtc4"></div> <div class="svelte-1mgxtc4"></div> <div class="tooltip-container svelte-1mgxtc4"><div class="hint-button svelte-1mgxtc4"><span class="svelte-1mgxtc4">(?)</span> <span style="font-size:10px;" class="svelte-1mgxtc4"> </span></div> <span class="tooltip-text svelte-1mgxtc4">USE A HINT! I WON'T JUDGE YOU...</span></div></div> <div id="hint"></div> <div id="map" class="svelte-1mgxtc4"><div class="circle-container svelte-1mgxtc4"><div class="drawn-circle svelte-1mgxtc4"></div></div> <div id="circle" class="svelte-1mgxtc4"></div> <!></div></div></div></div> <div id="title" class="svelte-1mgxtc4"></div>`,1);function gv(e,t){Et(t,!1);let r=me(t,"transitionHeight",12),o=me(t,"transitionWidth",12),a=me(t,"gameCounter",12),n=G(""),s=G(0),c=G(!1),u=0;const d=G(new Me(0,{duration:1e3,easing:ze}));let l=G(new Me(r(),{delay:500,duration:500,easing:wt})),v=G(new Me(o(),{duration:500,easing:wt}));function f(C){C>=1200?(Z(v,x(v).target=700),Z(l,x(l).target=700)):C>=900?(Z(v,x(v).target=700),Z(l,x(l).target=700)):C>=480?(Z(v,x(v).target=480),Z(l,x(l).target=500)):(Z(v,x(v).target=350),Z(l,x(l).target=600))}function i(){u=window.innerWidth,f(u)}let h=G([{name:"COMMON",x:0,y:0,landed:!1},{name:"CHARGE",x:0,y:0,landed:!1},{name:"FIND",x:0,y:0,landed:!1},{name:"SHOCK",x:0,y:0,landed:!1},{name:"FIGURE",x:0,y:0,landed:!1},{name:"FREAK",x:0,y:0,landed:!1},{name:"PROGRESS",x:0,y:0,landed:!1},{name:"CARRY",x:0,y:0,landed:!1},{name:"POINT",x:0,y:0,landed:!1},{name:"VAIN",x:0,y:0,landed:!1}]),g=["CHARGE","COMMON","PROGRESS","SHOCK","VAIN"];Pt(async()=>{a()==2&&(P(n,"display: flex;"),setTimeout(()=>{T("title","METAPHORS")},1e3),setTimeout(()=>{T("title","")},2500),setTimeout(()=>{Z(d,x(d).target=1)},3500),setTimeout(()=>{T("game-title","METAPHORS")},4500),setTimeout(()=>{P(s,1)},1e4)),typeof window<"u"&&(i(),await Dn(),window.addEventListener("resize",i),P(c,!0),requestAnimationFrame(()=>{const C=document.getElementById("map");C.style.width=x(v).target,C.style.height=x(l).target;const M=C.getBoundingClientRect();if(M.width===0||M.height===0){console.warn("Map dimensions not ready, retrying...");return}x(h).forEach(Q=>{Q.x=Math.random()*M.width,Q.y=Math.random()*(M.height-100)});const O=document.querySelectorAll(".pegman-container"),R=25,N=50,I=document.getElementById("circle").getBoundingClientRect();I.left+I.width/2,I.top+I.height/2,I.width/2;function H(){const Q=document.querySelectorAll(".pegman"),ee=document.getElementById("circle").getBoundingClientRect(),re={x:ee.left+ee.width/2,y:ee.top+ee.height/2},V=ee.width/2,$=[];return Q.forEach(L=>{const X=L.getBoundingClientRect(),z=X.left+X.width/2,j=X.top+X.height/2,se=z-re.x,B=j-re.y,k=Math.sqrt(se*se+B*B);let W=L.nextElementSibling;if(k<=V){const ne=L.previousElementSibling;ne&&$.push(ne.textContent.trim()),W.innerHTML="IN"}else W.innerHTML="OUT"}),$}function U(){setTimeout(()=>{document.querySelectorAll(".pegman").forEach(J=>{setTimeout(()=>{J.classList.add("correct-pegman")},0)})},0),setTimeout(()=>{Z(d,x(d).target=0)},3e3),setTimeout(()=>{r(x(l).target),o(x(v).target),a(3)},4e3)}O.forEach((Q,J)=>{let ee=!1,re=0,V=0,$,L=0,X=x(h)[J].x,z=x(h)[J].y;x(h)[J].landed===!1?Q.animate([{translate:`${x(h)[J].x}px -100px`,scale:"1 1",opacity:0,offset:0},{translate:`${x(h)[J].x}px ${x(h)[J].y-20}px`,scale:"0.8 1.2",opacity:1,offset:.7},{translate:`${x(h)[J].x}px ${x(h)[J].y+10}px`,scale:"1.3 0.7",offset:.85},{translate:`${x(h)[J].x}px ${x(h)[J].y}px`,scale:"1 1",offset:1}],{delay:3300,duration:100+J*100,easing:"ease-out",fill:"forwards"}):Q.animate({translate:`${x(h)[J].x}px ${x(h)[J].y}px`},{duration:.01,fill:"forwards"});const j=k=>{ee=!0,V=k.clientY-z,re=k.clientX-X,Q.animate({translate:`${x(h)[J].x}px ${x(h)[J].y}px `},{duration:.01,fill:"forwards"})},se=k=>{if(!ee)return;let W=k.clientX-re,ne=k.clientY-V;const oe=35,ce=50;W=Math.max(0,Math.min(W,M.width-oe)),ne=Math.max(0,Math.min(ne,M.height-50-ce)),X=W,z=ne,Z(h,x(h)[J].x=X),Z(h,x(h)[J].y=z),P(h,[...x(h)]);let fe=Math.max(-50,Math.min(N,X-L));Q.setAttribute("style",`--r: ${fe}deg`),Q.animate({translate:`${X}px ${z}px `},{duration:100,fill:"forwards"}),clearTimeout($),$=setTimeout(()=>{L=X,Q.setAttribute("style","--r: 0")},R)},B=()=>{ee=!1,Q.setAttribute("style","--r: 0"),$=setTimeout(()=>{L=0},R),H().sort().join(",")===g.join(",")&&U()};Q.addEventListener("mousedown",j),document.addEventListener("mousemove",se),document.addEventListener("mouseup",B),Q.addEventListener("touchstart",k=>{const W=k.touches[0];j({clientX:W.clientX,clientY:W.clientY})}),document.addEventListener("touchmove",k=>{const W=k.touches[0];se({clientX:W.clientX,clientY:W.clientY}),k.preventDefault()},{passive:!1}),document.addEventListener("touchend",B)})}))});let m=!1,w=G(!1),_=!1,b=!1;function T(C,M,O=100){let R=document.getElementById(C),N=0;C==="hint"&&b===!1&&(setTimeout(()=>{P(w,!0)},10),N=1e3),setTimeout(()=>new Promise(F=>{let I=R.innerHTML,H=I.length,U=0;function Q(){H>0?(R.innerHTML=I.substring(0,H-1),H--,setTimeout(Q,O)):J()}function J(){U<M.length?(R.innerHTML+=M.charAt(U),U++,setTimeout(J,O)):(m=!1,F())}Q()}),N)}let p=0,y=G(3);async function E(){m||(m=!0,p==0?(document.querySelectorAll(".pegman-shadow").forEach(M=>{M.setAttribute("style","filter:blur(0px)")}),P(y,2),p++,setTimeout(()=>{m=!1},5e3)):p==1?(T("hint","TRY MOVING WORDS IN AND OUT."),P(y,1),p++):p==2&&(T("hint","LABEL + POSITION = ?"),P(y,0),p=1))}bi(()=>{typeof window<"u"&&window.removeEventListener("resize",i)}),St();var S=qt(),D=Ue(S);{var A=C=>{var M=vv(),O=Ue(M),R=q(O),N=q(R),F=q(N),I=ae(q(F),4),H=q(I),U=ae(q(H),2),Q=q(U,!0);Y(U),Y(H),st(2),Y(I),Y(F);var J=ae(F,2);let ee;var re=ae(J,2),V=ae(q(re),4);Je(V,1,()=>x(h),Dt,($,L,X)=>{var z=hv(),j=q(z),se=q(j,!0);Y(j);var B=ae(j,2);Te(B,"data-index",X),st(2),Y(z),Oe(()=>je(se,x(L).name)),pe($,z)}),Y(re),Y(N),Y(R),Y(O),st(2),Oe($=>{he(O,x(n)),he(R,`${x(n)??""} --dark-gray: #1c1c1c; --mid-gray: #8e8d8c; --light-gray: #e6e6e6;  --error-red: #880000; height: ${x(l).current+"px"}; width: ${x(v).current+"px"};`),he(N,`opacity:${x(d).current??""}; height: ${x(l).current+"px"}; width: ${x(v).current+"px"};`),he(I,`opacity: ${x(s)??""}`),je(Q,x(y)),ee=Ot(J,1,"svelte-1mgxtc4",null,ee,$),he(re,`height: calc(${x(l).target??""}px - 7em); width: calc(${x(v).target??""}px - 6em);`)},[()=>({"animate-hint":x(w),"animate-hint-out":_})],gt),be("click",H,E),pe(C,M)};Le(D,C=>{x(c)&&C(A)})}pe(e,S),_t()}var Za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ur={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var pv=ur.exports,qa;function yv(){return qa||(qa=1,function(e,t){(function(o,a){e.exports=a()})(pv,function(){return function(r){var o={};function a(n){if(o[n])return o[n].exports;var s=o[n]={i:n,l:!1,exports:{}};return r[n].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=r,a.c=o,a.d=function(n,s,c){a.o(n,s)||Object.defineProperty(n,s,{enumerable:!0,get:c})},a.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},a.t=function(n,s){if(s&1&&(n=a(n)),s&8||s&4&&typeof n=="object"&&n&&n.__esModule)return n;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:n}),s&2&&typeof n!="string")for(var u in n)a.d(c,u,(function(d){return n[d]}).bind(null,u));return c},a.n=function(n){var s=n&&n.__esModule?function(){return n.default}:function(){return n};return a.d(s,"a",s),s},a.o=function(n,s){return Object.prototype.hasOwnProperty.call(n,s)},a.p="",a(a.s=20)}([function(r,o){var a={};r.exports=a,function(){a._baseDelta=1e3/60,a._nextId=0,a._seed=0,a._nowStartTime=+new Date,a._warnedOnce={},a._decomp=null,a.extend=function(s,c){var u,d;typeof c=="boolean"?(u=2,d=c):(u=1,d=!0);for(var l=u;l<arguments.length;l++){var v=arguments[l];if(v)for(var f in v)d&&v[f]&&v[f].constructor===Object&&(!s[f]||s[f].constructor===Object)?(s[f]=s[f]||{},a.extend(s[f],d,v[f])):s[f]=v[f]}return s},a.clone=function(s,c){return a.extend({},c,s)},a.keys=function(s){if(Object.keys)return Object.keys(s);var c=[];for(var u in s)c.push(u);return c},a.values=function(s){var c=[];if(Object.keys){for(var u=Object.keys(s),d=0;d<u.length;d++)c.push(s[u[d]]);return c}for(var l in s)c.push(s[l]);return c},a.get=function(s,c,u,d){c=c.split(".").slice(u,d);for(var l=0;l<c.length;l+=1)s=s[c[l]];return s},a.set=function(s,c,u,d,l){var v=c.split(".").slice(d,l);return a.get(s,c,0,-1)[v[v.length-1]]=u,u},a.shuffle=function(s){for(var c=s.length-1;c>0;c--){var u=Math.floor(a.random()*(c+1)),d=s[c];s[c]=s[u],s[u]=d}return s},a.choose=function(s){return s[Math.floor(a.random()*s.length)]},a.isElement=function(s){return typeof HTMLElement<"u"?s instanceof HTMLElement:!!(s&&s.nodeType&&s.nodeName)},a.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"},a.isFunction=function(s){return typeof s=="function"},a.isPlainObject=function(s){return typeof s=="object"&&s.constructor===Object},a.isString=function(s){return toString.call(s)==="[object String]"},a.clamp=function(s,c,u){return s<c?c:s>u?u:s},a.sign=function(s){return s<0?-1:1},a.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-a._nowStartTime},a.random=function(s,c){return s=typeof s<"u"?s:0,c=typeof c<"u"?c:1,s+n()*(c-s)};var n=function(){return a._seed=(a._seed*9301+49297)%233280,a._seed/233280};a.colorToNumber=function(s){return s=s.replace("#",""),s.length==3&&(s=s.charAt(0)+s.charAt(0)+s.charAt(1)+s.charAt(1)+s.charAt(2)+s.charAt(2)),parseInt(s,16)},a.logLevel=1,a.log=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.info=function(){console&&a.logLevel>0&&a.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warn=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warnOnce=function(){var s=Array.prototype.slice.call(arguments).join(" ");a._warnedOnce[s]||(a.warn(s),a._warnedOnce[s]=!0)},a.deprecated=function(s,c,u){s[c]=a.chain(function(){a.warnOnce("ð deprecated ð",u)},s[c])},a.nextId=function(){return a._nextId++},a.indexOf=function(s,c){if(s.indexOf)return s.indexOf(c);for(var u=0;u<s.length;u++)if(s[u]===c)return u;return-1},a.map=function(s,c){if(s.map)return s.map(c);for(var u=[],d=0;d<s.length;d+=1)u.push(c(s[d]));return u},a.topologicalSort=function(s){var c=[],u=[],d=[];for(var l in s)!u[l]&&!d[l]&&a._topologicalSort(l,u,d,s,c);return c},a._topologicalSort=function(s,c,u,d,l){var v=d[s]||[];u[s]=!0;for(var f=0;f<v.length;f+=1){var i=v[f];u[i]||c[i]||a._topologicalSort(i,c,u,d,l)}u[s]=!1,c[s]=!0,l.push(s)},a.chain=function(){for(var s=[],c=0;c<arguments.length;c+=1){var u=arguments[c];u._chained?s.push.apply(s,u._chained):s.push(u)}var d=function(){for(var l,v=new Array(arguments.length),f=0,i=arguments.length;f<i;f++)v[f]=arguments[f];for(f=0;f<s.length;f+=1){var h=s[f].apply(l,v);typeof h<"u"&&(l=h)}return l};return d._chained=s,d},a.chainPathBefore=function(s,c,u){return a.set(s,c,a.chain(u,a.get(s,c)))},a.chainPathAfter=function(s,c,u){return a.set(s,c,a.chain(a.get(s,c),u))},a.setDecomp=function(s){a._decomp=s},a.getDecomp=function(){var s=a._decomp;try{!s&&typeof window<"u"&&(s=window.decomp),!s&&typeof Za<"u"&&(s=Za.decomp)}catch{s=null}return s}}()},function(r,o){var a={};r.exports=a,function(){a.create=function(n){var s={min:{x:0,y:0},max:{x:0,y:0}};return n&&a.update(s,n),s},a.update=function(n,s,c){n.min.x=1/0,n.max.x=-1/0,n.min.y=1/0,n.max.y=-1/0;for(var u=0;u<s.length;u++){var d=s[u];d.x>n.max.x&&(n.max.x=d.x),d.x<n.min.x&&(n.min.x=d.x),d.y>n.max.y&&(n.max.y=d.y),d.y<n.min.y&&(n.min.y=d.y)}c&&(c.x>0?n.max.x+=c.x:n.min.x+=c.x,c.y>0?n.max.y+=c.y:n.min.y+=c.y)},a.contains=function(n,s){return s.x>=n.min.x&&s.x<=n.max.x&&s.y>=n.min.y&&s.y<=n.max.y},a.overlaps=function(n,s){return n.min.x<=s.max.x&&n.max.x>=s.min.x&&n.max.y>=s.min.y&&n.min.y<=s.max.y},a.translate=function(n,s){n.min.x+=s.x,n.max.x+=s.x,n.min.y+=s.y,n.max.y+=s.y},a.shift=function(n,s){var c=n.max.x-n.min.x,u=n.max.y-n.min.y;n.min.x=s.x,n.max.x=s.x+c,n.min.y=s.y,n.max.y=s.y+u}}()},function(r,o){var a={};r.exports=a,function(){a.create=function(n,s){return{x:n||0,y:s||0}},a.clone=function(n){return{x:n.x,y:n.y}},a.magnitude=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},a.magnitudeSquared=function(n){return n.x*n.x+n.y*n.y},a.rotate=function(n,s,c){var u=Math.cos(s),d=Math.sin(s);c||(c={});var l=n.x*u-n.y*d;return c.y=n.x*d+n.y*u,c.x=l,c},a.rotateAbout=function(n,s,c,u){var d=Math.cos(s),l=Math.sin(s);u||(u={});var v=c.x+((n.x-c.x)*d-(n.y-c.y)*l);return u.y=c.y+((n.x-c.x)*l+(n.y-c.y)*d),u.x=v,u},a.normalise=function(n){var s=a.magnitude(n);return s===0?{x:0,y:0}:{x:n.x/s,y:n.y/s}},a.dot=function(n,s){return n.x*s.x+n.y*s.y},a.cross=function(n,s){return n.x*s.y-n.y*s.x},a.cross3=function(n,s,c){return(s.x-n.x)*(c.y-n.y)-(s.y-n.y)*(c.x-n.x)},a.add=function(n,s,c){return c||(c={}),c.x=n.x+s.x,c.y=n.y+s.y,c},a.sub=function(n,s,c){return c||(c={}),c.x=n.x-s.x,c.y=n.y-s.y,c},a.mult=function(n,s){return{x:n.x*s,y:n.y*s}},a.div=function(n,s){return{x:n.x/s,y:n.y/s}},a.perp=function(n,s){return s=s===!0?-1:1,{x:s*-n.y,y:s*n.x}},a.neg=function(n){return{x:-n.x,y:-n.y}},a.angle=function(n,s){return Math.atan2(s.y-n.y,s.x-n.x)},a._temp=[a.create(),a.create(),a.create(),a.create(),a.create(),a.create()]}()},function(r,o,a){var n={};r.exports=n;var s=a(2),c=a(0);(function(){n.create=function(u,d){for(var l=[],v=0;v<u.length;v++){var f=u[v],i={x:f.x,y:f.y,index:v,body:d,isInternal:!1};l.push(i)}return l},n.fromPath=function(u,d){var l=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,v=[];return u.replace(l,function(f,i,h){v.push({x:parseFloat(i),y:parseFloat(h)})}),n.create(v,d)},n.centre=function(u){for(var d=n.area(u,!0),l={x:0,y:0},v,f,i,h=0;h<u.length;h++)i=(h+1)%u.length,v=s.cross(u[h],u[i]),f=s.mult(s.add(u[h],u[i]),v),l=s.add(l,f);return s.div(l,6*d)},n.mean=function(u){for(var d={x:0,y:0},l=0;l<u.length;l++)d.x+=u[l].x,d.y+=u[l].y;return s.div(d,u.length)},n.area=function(u,d){for(var l=0,v=u.length-1,f=0;f<u.length;f++)l+=(u[v].x-u[f].x)*(u[v].y+u[f].y),v=f;return d?l/2:Math.abs(l)/2},n.inertia=function(u,d){for(var l=0,v=0,f=u,i,h,g=0;g<f.length;g++)h=(g+1)%f.length,i=Math.abs(s.cross(f[h],f[g])),l+=i*(s.dot(f[h],f[h])+s.dot(f[h],f[g])+s.dot(f[g],f[g])),v+=i;return d/6*(l/v)},n.translate=function(u,d,l){l=typeof l<"u"?l:1;var v=u.length,f=d.x*l,i=d.y*l,h;for(h=0;h<v;h++)u[h].x+=f,u[h].y+=i;return u},n.rotate=function(u,d,l){if(d!==0){var v=Math.cos(d),f=Math.sin(d),i=l.x,h=l.y,g=u.length,m,w,_,b;for(b=0;b<g;b++)m=u[b],w=m.x-i,_=m.y-h,m.x=i+(w*v-_*f),m.y=h+(w*f+_*v);return u}},n.contains=function(u,d){for(var l=d.x,v=d.y,f=u.length,i=u[f-1],h,g=0;g<f;g++){if(h=u[g],(l-i.x)*(h.y-i.y)+(v-i.y)*(i.x-h.x)>0)return!1;i=h}return!0},n.scale=function(u,d,l,v){if(d===1&&l===1)return u;v=v||n.centre(u);for(var f,i,h=0;h<u.length;h++)f=u[h],i=s.sub(f,v),u[h].x=v.x+i.x*d,u[h].y=v.y+i.y*l;return u},n.chamfer=function(u,d,l,v,f){typeof d=="number"?d=[d]:d=d||[8],l=typeof l<"u"?l:-1,v=v||2,f=f||14;for(var i=[],h=0;h<u.length;h++){var g=u[h-1>=0?h-1:u.length-1],m=u[h],w=u[(h+1)%u.length],_=d[h<d.length?h:d.length-1];if(_===0){i.push(m);continue}var b=s.normalise({x:m.y-g.y,y:g.x-m.x}),T=s.normalise({x:w.y-m.y,y:m.x-w.x}),p=Math.sqrt(2*Math.pow(_,2)),y=s.mult(c.clone(b),_),E=s.normalise(s.mult(s.add(b,T),.5)),S=s.sub(m,s.mult(E,p)),D=l;l===-1&&(D=Math.pow(_,.32)*1.75),D=c.clamp(D,v,f),D%2===1&&(D+=1);for(var A=Math.acos(s.dot(b,T)),C=A/D,M=0;M<D;M++)i.push(s.add(s.rotate(y,C*M),S))}return i},n.clockwiseSort=function(u){var d=n.mean(u);return u.sort(function(l,v){return s.angle(d,l)-s.angle(d,v)}),u},n.isConvex=function(u){var d=0,l=u.length,v,f,i,h;if(l<3)return null;for(v=0;v<l;v++)if(f=(v+1)%l,i=(v+2)%l,h=(u[f].x-u[v].x)*(u[i].y-u[f].y),h-=(u[f].y-u[v].y)*(u[i].x-u[f].x),h<0?d|=1:h>0&&(d|=2),d===3)return!1;return d!==0?!0:null},n.hull=function(u){var d=[],l=[],v,f;for(u=u.slice(0),u.sort(function(i,h){var g=i.x-h.x;return g!==0?g:i.y-h.y}),f=0;f<u.length;f+=1){for(v=u[f];l.length>=2&&s.cross3(l[l.length-2],l[l.length-1],v)<=0;)l.pop();l.push(v)}for(f=u.length-1;f>=0;f-=1){for(v=u[f];d.length>=2&&s.cross3(d[d.length-2],d[d.length-1],v)<=0;)d.pop();d.push(v)}return d.pop(),l.pop(),d.concat(l)}})()},function(r,o,a){var n={};r.exports=n;var s=a(3),c=a(2),u=a(7),d=a(0),l=a(1),v=a(11);(function(){n._timeCorrection=!0,n._inertiaScale=4,n._nextCollidingGroupId=1,n._nextNonCollidingGroupId=-1,n._nextCategory=1,n._baseDelta=1e3/60,n.create=function(i){var h={id:d.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:s.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},g=d.extend(h,i);return f(g,i),g},n.nextGroup=function(i){return i?n._nextNonCollidingGroupId--:n._nextCollidingGroupId++},n.nextCategory=function(){return n._nextCategory=n._nextCategory<<1,n._nextCategory};var f=function(i,h){h=h||{},n.set(i,{bounds:i.bounds||l.create(i.vertices),positionPrev:i.positionPrev||c.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),s.rotate(i.vertices,i.angle,i.position),v.rotate(i.axes,i.angle),l.update(i.bounds,i.vertices,i.velocity),n.set(i,{axes:h.axes||i.axes,area:h.area||i.area,mass:h.mass||i.mass,inertia:h.inertia||i.inertia});var g=i.isStatic?"#14151f":d.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),m=i.isStatic?"#555":"#ccc",w=i.isStatic&&i.render.fillStyle===null?1:0;i.render.fillStyle=i.render.fillStyle||g,i.render.strokeStyle=i.render.strokeStyle||m,i.render.lineWidth=i.render.lineWidth||w,i.render.sprite.xOffset+=-(i.bounds.min.x-i.position.x)/(i.bounds.max.x-i.bounds.min.x),i.render.sprite.yOffset+=-(i.bounds.min.y-i.position.y)/(i.bounds.max.y-i.bounds.min.y)};n.set=function(i,h,g){var m;typeof h=="string"&&(m=h,h={},h[m]=g);for(m in h)if(Object.prototype.hasOwnProperty.call(h,m))switch(g=h[m],m){case"isStatic":n.setStatic(i,g);break;case"isSleeping":u.set(i,g);break;case"mass":n.setMass(i,g);break;case"density":n.setDensity(i,g);break;case"inertia":n.setInertia(i,g);break;case"vertices":n.setVertices(i,g);break;case"position":n.setPosition(i,g);break;case"angle":n.setAngle(i,g);break;case"velocity":n.setVelocity(i,g);break;case"angularVelocity":n.setAngularVelocity(i,g);break;case"speed":n.setSpeed(i,g);break;case"angularSpeed":n.setAngularSpeed(i,g);break;case"parts":n.setParts(i,g);break;case"centre":n.setCentre(i,g);break;default:i[m]=g}},n.setStatic=function(i,h){for(var g=0;g<i.parts.length;g++){var m=i.parts[g];h?(m.isStatic||(m._original={restitution:m.restitution,friction:m.friction,mass:m.mass,inertia:m.inertia,density:m.density,inverseMass:m.inverseMass,inverseInertia:m.inverseInertia}),m.restitution=0,m.friction=1,m.mass=m.inertia=m.density=1/0,m.inverseMass=m.inverseInertia=0,m.positionPrev.x=m.position.x,m.positionPrev.y=m.position.y,m.anglePrev=m.angle,m.angularVelocity=0,m.speed=0,m.angularSpeed=0,m.motion=0):m._original&&(m.restitution=m._original.restitution,m.friction=m._original.friction,m.mass=m._original.mass,m.inertia=m._original.inertia,m.density=m._original.density,m.inverseMass=m._original.inverseMass,m.inverseInertia=m._original.inverseInertia,m._original=null),m.isStatic=h}},n.setMass=function(i,h){var g=i.inertia/(i.mass/6);i.inertia=g*(h/6),i.inverseInertia=1/i.inertia,i.mass=h,i.inverseMass=1/i.mass,i.density=i.mass/i.area},n.setDensity=function(i,h){n.setMass(i,h*i.area),i.density=h},n.setInertia=function(i,h){i.inertia=h,i.inverseInertia=1/i.inertia},n.setVertices=function(i,h){h[0].body===i?i.vertices=h:i.vertices=s.create(h,i),i.axes=v.fromVertices(i.vertices),i.area=s.area(i.vertices),n.setMass(i,i.density*i.area);var g=s.centre(i.vertices);s.translate(i.vertices,g,-1),n.setInertia(i,n._inertiaScale*s.inertia(i.vertices,i.mass)),s.translate(i.vertices,i.position),l.update(i.bounds,i.vertices,i.velocity)},n.setParts=function(i,h,g){var m;for(h=h.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,m=0;m<h.length;m++){var w=h[m];w!==i&&(w.parent=i,i.parts.push(w))}if(i.parts.length!==1){if(g=typeof g<"u"?g:!0,g){var _=[];for(m=0;m<h.length;m++)_=_.concat(h[m].vertices);s.clockwiseSort(_);var b=s.hull(_),T=s.centre(b);n.setVertices(i,b),s.translate(i.vertices,T)}var p=n._totalProperties(i);i.area=p.area,i.parent=i,i.position.x=p.centre.x,i.position.y=p.centre.y,i.positionPrev.x=p.centre.x,i.positionPrev.y=p.centre.y,n.setMass(i,p.mass),n.setInertia(i,p.inertia),n.setPosition(i,p.centre)}},n.setCentre=function(i,h,g){g?(i.positionPrev.x+=h.x,i.positionPrev.y+=h.y,i.position.x+=h.x,i.position.y+=h.y):(i.positionPrev.x=h.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=h.y-(i.position.y-i.positionPrev.y),i.position.x=h.x,i.position.y=h.y)},n.setPosition=function(i,h,g){var m=c.sub(h,i.position);g?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=m.x,i.velocity.y=m.y,i.speed=c.magnitude(m)):(i.positionPrev.x+=m.x,i.positionPrev.y+=m.y);for(var w=0;w<i.parts.length;w++){var _=i.parts[w];_.position.x+=m.x,_.position.y+=m.y,s.translate(_.vertices,m),l.update(_.bounds,_.vertices,i.velocity)}},n.setAngle=function(i,h,g){var m=h-i.angle;g?(i.anglePrev=i.angle,i.angularVelocity=m,i.angularSpeed=Math.abs(m)):i.anglePrev+=m;for(var w=0;w<i.parts.length;w++){var _=i.parts[w];_.angle+=m,s.rotate(_.vertices,m,i.position),v.rotate(_.axes,m),l.update(_.bounds,_.vertices,i.velocity),w>0&&c.rotateAbout(_.position,m,i.position,_.position)}},n.setVelocity=function(i,h){var g=i.deltaTime/n._baseDelta;i.positionPrev.x=i.position.x-h.x*g,i.positionPrev.y=i.position.y-h.y*g,i.velocity.x=(i.position.x-i.positionPrev.x)/g,i.velocity.y=(i.position.y-i.positionPrev.y)/g,i.speed=c.magnitude(i.velocity)},n.getVelocity=function(i){var h=n._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*h,y:(i.position.y-i.positionPrev.y)*h}},n.getSpeed=function(i){return c.magnitude(n.getVelocity(i))},n.setSpeed=function(i,h){n.setVelocity(i,c.mult(c.normalise(n.getVelocity(i)),h))},n.setAngularVelocity=function(i,h){var g=i.deltaTime/n._baseDelta;i.anglePrev=i.angle-h*g,i.angularVelocity=(i.angle-i.anglePrev)/g,i.angularSpeed=Math.abs(i.angularVelocity)},n.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*n._baseDelta/i.deltaTime},n.getAngularSpeed=function(i){return Math.abs(n.getAngularVelocity(i))},n.setAngularSpeed=function(i,h){n.setAngularVelocity(i,d.sign(n.getAngularVelocity(i))*h)},n.translate=function(i,h,g){n.setPosition(i,c.add(i.position,h),g)},n.rotate=function(i,h,g,m){if(!g)n.setAngle(i,i.angle+h,m);else{var w=Math.cos(h),_=Math.sin(h),b=i.position.x-g.x,T=i.position.y-g.y;n.setPosition(i,{x:g.x+(b*w-T*_),y:g.y+(b*_+T*w)},m),n.setAngle(i,i.angle+h,m)}},n.scale=function(i,h,g,m){var w=0,_=0;m=m||i.position;for(var b=0;b<i.parts.length;b++){var T=i.parts[b];s.scale(T.vertices,h,g,m),T.axes=v.fromVertices(T.vertices),T.area=s.area(T.vertices),n.setMass(T,i.density*T.area),s.translate(T.vertices,{x:-T.position.x,y:-T.position.y}),n.setInertia(T,n._inertiaScale*s.inertia(T.vertices,T.mass)),s.translate(T.vertices,{x:T.position.x,y:T.position.y}),b>0&&(w+=T.area,_+=T.inertia),T.position.x=m.x+(T.position.x-m.x)*h,T.position.y=m.y+(T.position.y-m.y)*g,l.update(T.bounds,T.vertices,i.velocity)}i.parts.length>1&&(i.area=w,i.isStatic||(n.setMass(i,i.density*w),n.setInertia(i,_))),i.circleRadius&&(h===g?i.circleRadius*=h:i.circleRadius=null)},n.update=function(i,h){h=(typeof h<"u"?h:1e3/60)*i.timeScale;var g=h*h,m=n._timeCorrection?h/(i.deltaTime||h):1,w=1-i.frictionAir*(h/d._baseDelta),_=(i.position.x-i.positionPrev.x)*m,b=(i.position.y-i.positionPrev.y)*m;i.velocity.x=_*w+i.force.x/i.mass*g,i.velocity.y=b*w+i.force.y/i.mass*g,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=h,i.angularVelocity=(i.angle-i.anglePrev)*w*m+i.torque/i.inertia*g,i.anglePrev=i.angle,i.angle+=i.angularVelocity;for(var T=0;T<i.parts.length;T++){var p=i.parts[T];s.translate(p.vertices,i.velocity),T>0&&(p.position.x+=i.velocity.x,p.position.y+=i.velocity.y),i.angularVelocity!==0&&(s.rotate(p.vertices,i.angularVelocity,i.position),v.rotate(p.axes,i.angularVelocity),T>0&&c.rotateAbout(p.position,i.angularVelocity,i.position,p.position)),l.update(p.bounds,p.vertices,i.velocity)}},n.updateVelocities=function(i){var h=n._baseDelta/i.deltaTime,g=i.velocity;g.x=(i.position.x-i.positionPrev.x)*h,g.y=(i.position.y-i.positionPrev.y)*h,i.speed=Math.sqrt(g.x*g.x+g.y*g.y),i.angularVelocity=(i.angle-i.anglePrev)*h,i.angularSpeed=Math.abs(i.angularVelocity)},n.applyForce=function(i,h,g){var m={x:h.x-i.position.x,y:h.y-i.position.y};i.force.x+=g.x,i.force.y+=g.y,i.torque+=m.x*g.y-m.y*g.x},n._totalProperties=function(i){for(var h={mass:0,area:0,inertia:0,centre:{x:0,y:0}},g=i.parts.length===1?0:1;g<i.parts.length;g++){var m=i.parts[g],w=m.mass!==1/0?m.mass:1;h.mass+=w,h.area+=m.area,h.inertia+=m.inertia,h.centre=c.add(h.centre,c.mult(m.position,w))}return h.centre=c.div(h.centre,h.mass),h}})()},function(r,o,a){var n={};r.exports=n;var s=a(0);(function(){n.on=function(c,u,d){for(var l=u.split(" "),v,f=0;f<l.length;f++)v=l[f],c.events=c.events||{},c.events[v]=c.events[v]||[],c.events[v].push(d);return d},n.off=function(c,u,d){if(!u){c.events={};return}typeof u=="function"&&(d=u,u=s.keys(c.events).join(" "));for(var l=u.split(" "),v=0;v<l.length;v++){var f=c.events[l[v]],i=[];if(d&&f)for(var h=0;h<f.length;h++)f[h]!==d&&i.push(f[h]);c.events[l[v]]=i}},n.trigger=function(c,u,d){var l,v,f,i,h=c.events;if(h&&s.keys(h).length>0){d||(d={}),l=u.split(" ");for(var g=0;g<l.length;g++)if(v=l[g],f=h[v],f){i=s.clone(d,!1),i.name=v,i.source=c;for(var m=0;m<f.length;m++)f[m].apply(c,[i])}}}})()},function(r,o,a){var n={};r.exports=n;var s=a(5),c=a(0),u=a(1),d=a(4);(function(){n.create=function(l){return c.extend({id:c.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},l)},n.setModified=function(l,v,f,i){if(l.isModified=v,v&&l.cache&&(l.cache.allBodies=null,l.cache.allConstraints=null,l.cache.allComposites=null),f&&l.parent&&n.setModified(l.parent,v,f,i),i)for(var h=0;h<l.composites.length;h++){var g=l.composites[h];n.setModified(g,v,f,i)}},n.add=function(l,v){var f=[].concat(v);s.trigger(l,"beforeAdd",{object:v});for(var i=0;i<f.length;i++){var h=f[i];switch(h.type){case"body":if(h.parent!==h){c.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}n.addBody(l,h);break;case"constraint":n.addConstraint(l,h);break;case"composite":n.addComposite(l,h);break;case"mouseConstraint":n.addConstraint(l,h.constraint);break}}return s.trigger(l,"afterAdd",{object:v}),l},n.remove=function(l,v,f){var i=[].concat(v);s.trigger(l,"beforeRemove",{object:v});for(var h=0;h<i.length;h++){var g=i[h];switch(g.type){case"body":n.removeBody(l,g,f);break;case"constraint":n.removeConstraint(l,g,f);break;case"composite":n.removeComposite(l,g,f);break;case"mouseConstraint":n.removeConstraint(l,g.constraint);break}}return s.trigger(l,"afterRemove",{object:v}),l},n.addComposite=function(l,v){return l.composites.push(v),v.parent=l,n.setModified(l,!0,!0,!1),l},n.removeComposite=function(l,v,f){var i=c.indexOf(l.composites,v);if(i!==-1){var h=n.allBodies(v);n.removeCompositeAt(l,i);for(var g=0;g<h.length;g++)h[g].sleepCounter=0}if(f)for(var g=0;g<l.composites.length;g++)n.removeComposite(l.composites[g],v,!0);return l},n.removeCompositeAt=function(l,v){return l.composites.splice(v,1),n.setModified(l,!0,!0,!1),l},n.addBody=function(l,v){return l.bodies.push(v),n.setModified(l,!0,!0,!1),l},n.removeBody=function(l,v,f){var i=c.indexOf(l.bodies,v);if(i!==-1&&(n.removeBodyAt(l,i),v.sleepCounter=0),f)for(var h=0;h<l.composites.length;h++)n.removeBody(l.composites[h],v,!0);return l},n.removeBodyAt=function(l,v){return l.bodies.splice(v,1),n.setModified(l,!0,!0,!1),l},n.addConstraint=function(l,v){return l.constraints.push(v),n.setModified(l,!0,!0,!1),l},n.removeConstraint=function(l,v,f){var i=c.indexOf(l.constraints,v);if(i!==-1&&n.removeConstraintAt(l,i),f)for(var h=0;h<l.composites.length;h++)n.removeConstraint(l.composites[h],v,!0);return l},n.removeConstraintAt=function(l,v){return l.constraints.splice(v,1),n.setModified(l,!0,!0,!1),l},n.clear=function(l,v,f){if(f)for(var i=0;i<l.composites.length;i++)n.clear(l.composites[i],v,!0);return v?l.bodies=l.bodies.filter(function(h){return h.isStatic}):l.bodies.length=0,l.constraints.length=0,l.composites.length=0,n.setModified(l,!0,!0,!1),l},n.allBodies=function(l){if(l.cache&&l.cache.allBodies)return l.cache.allBodies;for(var v=[].concat(l.bodies),f=0;f<l.composites.length;f++)v=v.concat(n.allBodies(l.composites[f]));return l.cache&&(l.cache.allBodies=v),v},n.allConstraints=function(l){if(l.cache&&l.cache.allConstraints)return l.cache.allConstraints;for(var v=[].concat(l.constraints),f=0;f<l.composites.length;f++)v=v.concat(n.allConstraints(l.composites[f]));return l.cache&&(l.cache.allConstraints=v),v},n.allComposites=function(l){if(l.cache&&l.cache.allComposites)return l.cache.allComposites;for(var v=[].concat(l.composites),f=0;f<l.composites.length;f++)v=v.concat(n.allComposites(l.composites[f]));return l.cache&&(l.cache.allComposites=v),v},n.get=function(l,v,f){var i,h;switch(f){case"body":i=n.allBodies(l);break;case"constraint":i=n.allConstraints(l);break;case"composite":i=n.allComposites(l).concat(l);break}return i?(h=i.filter(function(g){return g.id.toString()===v.toString()}),h.length===0?null:h[0]):null},n.move=function(l,v,f){return n.remove(l,v),n.add(f,v),l},n.rebase=function(l){for(var v=n.allBodies(l).concat(n.allConstraints(l)).concat(n.allComposites(l)),f=0;f<v.length;f++)v[f].id=c.nextId();return l},n.translate=function(l,v,f){for(var i=f?n.allBodies(l):l.bodies,h=0;h<i.length;h++)d.translate(i[h],v);return l},n.rotate=function(l,v,f,i){for(var h=Math.cos(v),g=Math.sin(v),m=i?n.allBodies(l):l.bodies,w=0;w<m.length;w++){var _=m[w],b=_.position.x-f.x,T=_.position.y-f.y;d.setPosition(_,{x:f.x+(b*h-T*g),y:f.y+(b*g+T*h)}),d.rotate(_,v)}return l},n.scale=function(l,v,f,i,h){for(var g=h?n.allBodies(l):l.bodies,m=0;m<g.length;m++){var w=g[m],_=w.position.x-i.x,b=w.position.y-i.y;d.setPosition(w,{x:i.x+_*v,y:i.y+b*f}),d.scale(w,v,f)}return l},n.bounds=function(l){for(var v=n.allBodies(l),f=[],i=0;i<v.length;i+=1){var h=v[i];f.push(h.bounds.min,h.bounds.max)}return u.create(f)}})()},function(r,o,a){var n={};r.exports=n;var s=a(4),c=a(5),u=a(0);(function(){n._motionWakeThreshold=.18,n._motionSleepThreshold=.08,n._minBias=.9,n.update=function(d,l){for(var v=l/u._baseDelta,f=n._motionSleepThreshold,i=0;i<d.length;i++){var h=d[i],g=s.getSpeed(h),m=s.getAngularSpeed(h),w=g*g+m*m;if(h.force.x!==0||h.force.y!==0){n.set(h,!1);continue}var _=Math.min(h.motion,w),b=Math.max(h.motion,w);h.motion=n._minBias*_+(1-n._minBias)*b,h.sleepThreshold>0&&h.motion<f?(h.sleepCounter+=1,h.sleepCounter>=h.sleepThreshold/v&&n.set(h,!0)):h.sleepCounter>0&&(h.sleepCounter-=1)}},n.afterCollisions=function(d){for(var l=n._motionSleepThreshold,v=0;v<d.length;v++){var f=d[v];if(f.isActive){var i=f.collision,h=i.bodyA.parent,g=i.bodyB.parent;if(!(h.isSleeping&&g.isSleeping||h.isStatic||g.isStatic)&&(h.isSleeping||g.isSleeping)){var m=h.isSleeping&&!h.isStatic?h:g,w=m===h?g:h;!m.isStatic&&w.motion>l&&n.set(m,!1)}}}},n.set=function(d,l){var v=d.isSleeping;l?(d.isSleeping=!0,d.sleepCounter=d.sleepThreshold,d.positionImpulse.x=0,d.positionImpulse.y=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.speed=0,d.angularSpeed=0,d.motion=0,v||c.trigger(d,"sleepStart")):(d.isSleeping=!1,d.sleepCounter=0,v&&c.trigger(d,"sleepEnd"))}})()},function(r,o,a){var n={};r.exports=n;var s=a(3),c=a(9);(function(){var u=[],d={overlap:0,axis:null},l={overlap:0,axis:null};n.create=function(v,f){return{pair:null,collided:!1,bodyA:v,bodyB:f,parentA:v.parent,parentB:f.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},n.collides=function(v,f,i){if(n._overlapAxes(d,v.vertices,f.vertices,v.axes),d.overlap<=0||(n._overlapAxes(l,f.vertices,v.vertices,f.axes),l.overlap<=0))return null;var h=i&&i.table[c.id(v,f)],g;h?g=h.collision:(g=n.create(v,f),g.collided=!0,g.bodyA=v.id<f.id?v:f,g.bodyB=v.id<f.id?f:v,g.parentA=g.bodyA.parent,g.parentB=g.bodyB.parent),v=g.bodyA,f=g.bodyB;var m;d.overlap<l.overlap?m=d:m=l;var w=g.normal,_=g.tangent,b=g.penetration,T=g.supports,p=m.overlap,y=m.axis,E=y.x,S=y.y,D=f.position.x-v.position.x,A=f.position.y-v.position.y;E*D+S*A>=0&&(E=-E,S=-S),w.x=E,w.y=S,_.x=-S,_.y=E,b.x=E*p,b.y=S*p,g.depth=p;var C=n._findSupports(v,f,w,1),M=0;if(s.contains(v.vertices,C[0])&&(T[M++]=C[0]),s.contains(v.vertices,C[1])&&(T[M++]=C[1]),M<2){var O=n._findSupports(f,v,w,-1);s.contains(f.vertices,O[0])&&(T[M++]=O[0]),M<2&&s.contains(f.vertices,O[1])&&(T[M++]=O[1])}return M===0&&(T[M++]=C[0]),g.supportCount=M,g},n._overlapAxes=function(v,f,i,h){var g=f.length,m=i.length,w=f[0].x,_=f[0].y,b=i[0].x,T=i[0].y,p=h.length,y=Number.MAX_VALUE,E=0,S,D,A,C,M,O;for(M=0;M<p;M++){var R=h[M],N=R.x,F=R.y,I=w*N+_*F,H=b*N+T*F,U=I,Q=H;for(O=1;O<g;O+=1)C=f[O].x*N+f[O].y*F,C>U?U=C:C<I&&(I=C);for(O=1;O<m;O+=1)C=i[O].x*N+i[O].y*F,C>Q?Q=C:C<H&&(H=C);if(D=U-H,A=Q-I,S=D<A?D:A,S<y&&(y=S,E=M,S<=0))break}v.axis=h[E],v.overlap=y},n._findSupports=function(v,f,i,h){var g=f.vertices,m=g.length,w=v.position.x,_=v.position.y,b=i.x*h,T=i.y*h,p=g[0],y=p,E=b*(w-y.x)+T*(_-y.y),S,D,A;for(A=1;A<m;A+=1)y=g[A],D=b*(w-y.x)+T*(_-y.y),D<E&&(E=D,p=y);return S=g[(m+p.index-1)%m],E=b*(w-S.x)+T*(_-S.y),y=g[(p.index+1)%m],b*(w-y.x)+T*(_-y.y)<E?(u[0]=p,u[1]=y,u):(u[0]=p,u[1]=S,u)}})()},function(r,o,a){var n={};r.exports=n;var s=a(16);(function(){n.create=function(c,u){var d=c.bodyA,l=c.bodyB,v={id:n.id(d,l),bodyA:d,bodyB:l,collision:c,contacts:[s.create(),s.create()],contactCount:0,separation:0,isActive:!0,isSensor:d.isSensor||l.isSensor,timeCreated:u,timeUpdated:u,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return n.update(v,c,u),v},n.update=function(c,u,d){var l=u.supports,v=u.supportCount,f=c.contacts,i=u.parentA,h=u.parentB;c.isActive=!0,c.timeUpdated=d,c.collision=u,c.separation=u.depth,c.inverseMass=i.inverseMass+h.inverseMass,c.friction=i.friction<h.friction?i.friction:h.friction,c.frictionStatic=i.frictionStatic>h.frictionStatic?i.frictionStatic:h.frictionStatic,c.restitution=i.restitution>h.restitution?i.restitution:h.restitution,c.slop=i.slop>h.slop?i.slop:h.slop,c.contactCount=v,u.pair=c;var g=l[0],m=f[0],w=l[1],_=f[1];(_.vertex===g||m.vertex===w)&&(f[1]=m,f[0]=m=_,_=f[1]),m.vertex=g,_.vertex=w},n.setActive=function(c,u,d){u?(c.isActive=!0,c.timeUpdated=d):(c.isActive=!1,c.contactCount=0)},n.id=function(c,u){return c.id<u.id?c.id.toString(36)+":"+u.id.toString(36):u.id.toString(36)+":"+c.id.toString(36)}})()},function(r,o,a){var n={};r.exports=n;var s=a(3),c=a(2),u=a(7),d=a(1),l=a(11),v=a(0);(function(){n._warming=.4,n._torqueDampen=1,n._minLength=1e-6,n.create=function(f){var i=f;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var h=i.bodyA?c.add(i.bodyA.position,i.pointA):i.pointA,g=i.bodyB?c.add(i.bodyB.position,i.pointB):i.pointB,m=c.magnitude(c.sub(h,g));i.length=typeof i.length<"u"?i.length:m,i.id=i.id||v.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var w={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return i.length===0&&i.stiffness>.1?(w.type="pin",w.anchors=!1):i.stiffness<.9&&(w.type="spring"),i.render=v.extend(w,i.render),i},n.preSolveAll=function(f){for(var i=0;i<f.length;i+=1){var h=f[i],g=h.constraintImpulse;h.isStatic||g.x===0&&g.y===0&&g.angle===0||(h.position.x+=g.x,h.position.y+=g.y,h.angle+=g.angle)}},n.solveAll=function(f,i){for(var h=v.clamp(i/v._baseDelta,0,1),g=0;g<f.length;g+=1){var m=f[g],w=!m.bodyA||m.bodyA&&m.bodyA.isStatic,_=!m.bodyB||m.bodyB&&m.bodyB.isStatic;(w||_)&&n.solve(f[g],h)}for(g=0;g<f.length;g+=1)m=f[g],w=!m.bodyA||m.bodyA&&m.bodyA.isStatic,_=!m.bodyB||m.bodyB&&m.bodyB.isStatic,!w&&!_&&n.solve(f[g],h)},n.solve=function(f,i){var h=f.bodyA,g=f.bodyB,m=f.pointA,w=f.pointB;if(!(!h&&!g)){h&&!h.isStatic&&(c.rotate(m,h.angle-f.angleA,m),f.angleA=h.angle),g&&!g.isStatic&&(c.rotate(w,g.angle-f.angleB,w),f.angleB=g.angle);var _=m,b=w;if(h&&(_=c.add(h.position,m)),g&&(b=c.add(g.position,w)),!(!_||!b)){var T=c.sub(_,b),p=c.magnitude(T);p<n._minLength&&(p=n._minLength);var y=(p-f.length)/p,E=f.stiffness>=1||f.length===0,S=E?f.stiffness*i:f.stiffness*i*i,D=f.damping*i,A=c.mult(T,y*S),C=(h?h.inverseMass:0)+(g?g.inverseMass:0),M=(h?h.inverseInertia:0)+(g?g.inverseInertia:0),O=C+M,R,N,F,I,H;if(D>0){var U=c.create();F=c.div(T,p),H=c.sub(g&&c.sub(g.position,g.positionPrev)||U,h&&c.sub(h.position,h.positionPrev)||U),I=c.dot(F,H)}h&&!h.isStatic&&(N=h.inverseMass/C,h.constraintImpulse.x-=A.x*N,h.constraintImpulse.y-=A.y*N,h.position.x-=A.x*N,h.position.y-=A.y*N,D>0&&(h.positionPrev.x-=D*F.x*I*N,h.positionPrev.y-=D*F.y*I*N),R=c.cross(m,A)/O*n._torqueDampen*h.inverseInertia*(1-f.angularStiffness),h.constraintImpulse.angle-=R,h.angle-=R),g&&!g.isStatic&&(N=g.inverseMass/C,g.constraintImpulse.x+=A.x*N,g.constraintImpulse.y+=A.y*N,g.position.x+=A.x*N,g.position.y+=A.y*N,D>0&&(g.positionPrev.x+=D*F.x*I*N,g.positionPrev.y+=D*F.y*I*N),R=c.cross(w,A)/O*n._torqueDampen*g.inverseInertia*(1-f.angularStiffness),g.constraintImpulse.angle+=R,g.angle+=R)}}},n.postSolveAll=function(f){for(var i=0;i<f.length;i++){var h=f[i],g=h.constraintImpulse;if(!(h.isStatic||g.x===0&&g.y===0&&g.angle===0)){u.set(h,!1);for(var m=0;m<h.parts.length;m++){var w=h.parts[m];s.translate(w.vertices,g),m>0&&(w.position.x+=g.x,w.position.y+=g.y),g.angle!==0&&(s.rotate(w.vertices,g.angle,h.position),l.rotate(w.axes,g.angle),m>0&&c.rotateAbout(w.position,g.angle,h.position,w.position)),d.update(w.bounds,w.vertices,h.velocity)}g.angle*=n._warming,g.x*=n._warming,g.y*=n._warming}}},n.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),y:(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0)}},n.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),y:(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0)}},n.currentLength=function(f){var i=(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),h=(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0),g=(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),m=(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0),w=i-g,_=h-m;return Math.sqrt(w*w+_*_)}})()},function(r,o,a){var n={};r.exports=n;var s=a(2),c=a(0);(function(){n.fromVertices=function(u){for(var d={},l=0;l<u.length;l++){var v=(l+1)%u.length,f=s.normalise({x:u[v].y-u[l].y,y:u[l].x-u[v].x}),i=f.y===0?1/0:f.x/f.y;i=i.toFixed(3).toString(),d[i]=f}return c.values(d)},n.rotate=function(u,d){if(d!==0)for(var l=Math.cos(d),v=Math.sin(d),f=0;f<u.length;f++){var i=u[f],h;h=i.x*l-i.y*v,i.y=i.x*v+i.y*l,i.x=h}}})()},function(r,o,a){var n={};r.exports=n;var s=a(3),c=a(0),u=a(4),d=a(1),l=a(2);(function(){n.rectangle=function(v,f,i,h,g){g=g||{};var m={label:"Rectangle Body",position:{x:v,y:f},vertices:s.fromPath("L 0 0 L "+i+" 0 L "+i+" "+h+" L 0 "+h)};if(g.chamfer){var w=g.chamfer;m.vertices=s.chamfer(m.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete g.chamfer}return u.create(c.extend({},m,g))},n.trapezoid=function(v,f,i,h,g,m){m=m||{},g>=1&&c.warn("Bodies.trapezoid: slope parameter must be < 1."),g*=.5;var w=(1-g*2)*i,_=i*g,b=_+w,T=b+_,p;g<.5?p="L 0 0 L "+_+" "+-h+" L "+b+" "+-h+" L "+T+" 0":p="L 0 0 L "+b+" "+-h+" L "+T+" 0";var y={label:"Trapezoid Body",position:{x:v,y:f},vertices:s.fromPath(p)};if(m.chamfer){var E=m.chamfer;y.vertices=s.chamfer(y.vertices,E.radius,E.quality,E.qualityMin,E.qualityMax),delete m.chamfer}return u.create(c.extend({},y,m))},n.circle=function(v,f,i,h,g){h=h||{};var m={label:"Circle Body",circleRadius:i};g=g||25;var w=Math.ceil(Math.max(10,Math.min(g,i)));return w%2===1&&(w+=1),n.polygon(v,f,w,i,c.extend({},m,h))},n.polygon=function(v,f,i,h,g){if(g=g||{},i<3)return n.circle(v,f,h,g);for(var m=2*Math.PI/i,w="",_=m*.5,b=0;b<i;b+=1){var T=_+b*m,p=Math.cos(T)*h,y=Math.sin(T)*h;w+="L "+p.toFixed(3)+" "+y.toFixed(3)+" "}var E={label:"Polygon Body",position:{x:v,y:f},vertices:s.fromPath(w)};if(g.chamfer){var S=g.chamfer;E.vertices=s.chamfer(E.vertices,S.radius,S.quality,S.qualityMin,S.qualityMax),delete g.chamfer}return u.create(c.extend({},E,g))},n.fromVertices=function(v,f,i,h,g,m,w,_){var b=c.getDecomp(),T,p,y,E,S,D,A,C,M,O,R;for(T=!!(b&&b.quickDecomp),h=h||{},y=[],g=typeof g<"u"?g:!1,m=typeof m<"u"?m:.01,w=typeof w<"u"?w:10,_=typeof _<"u"?_:.01,c.isArray(i[0])||(i=[i]),O=0;O<i.length;O+=1)if(D=i[O],E=s.isConvex(D),S=!E,S&&!T&&c.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),E||!T)E?D=s.clockwiseSort(D):D=s.hull(D),y.push({position:{x:v,y:f},vertices:D});else{var N=D.map(function(L){return[L.x,L.y]});b.makeCCW(N),m!==!1&&b.removeCollinearPoints(N,m),_!==!1&&b.removeDuplicatePoints&&b.removeDuplicatePoints(N,_);var F=b.quickDecomp(N);for(A=0;A<F.length;A++){var I=F[A],H=I.map(function(L){return{x:L[0],y:L[1]}});w>0&&s.area(H)<w||y.push({position:s.centre(H),vertices:H})}}for(A=0;A<y.length;A++)y[A]=u.create(c.extend(y[A],h));if(g){var U=5;for(A=0;A<y.length;A++){var Q=y[A];for(C=A+1;C<y.length;C++){var J=y[C];if(d.overlaps(Q.bounds,J.bounds)){var ee=Q.vertices,re=J.vertices;for(M=0;M<Q.vertices.length;M++)for(R=0;R<J.vertices.length;R++){var V=l.magnitudeSquared(l.sub(ee[(M+1)%ee.length],re[R])),$=l.magnitudeSquared(l.sub(ee[M],re[(R+1)%re.length]));V<U&&$<U&&(ee[M].isInternal=!0,re[R].isInternal=!0)}}}}}return y.length>1?(p=u.create(c.extend({parts:y.slice(0)},h)),u.setPosition(p,{x:v,y:f}),p):y[0]}})()},function(r,o,a){var n={};r.exports=n;var s=a(0),c=a(8);(function(){n.create=function(u){var d={bodies:[],collisions:[],pairs:null};return s.extend(d,u)},n.setBodies=function(u,d){u.bodies=d.slice(0)},n.clear=function(u){u.bodies=[],u.collisions=[]},n.collisions=function(u){var d=u.pairs,l=u.bodies,v=l.length,f=n.canCollide,i=c.collides,h=u.collisions,g=0,m,w;for(l.sort(n._compareBoundsX),m=0;m<v;m++){var _=l[m],b=_.bounds,T=_.bounds.max.x,p=_.bounds.max.y,y=_.bounds.min.y,E=_.isStatic||_.isSleeping,S=_.parts.length,D=S===1;for(w=m+1;w<v;w++){var A=l[w],C=A.bounds;if(C.min.x>T)break;if(!(p<C.min.y||y>C.max.y)&&!(E&&(A.isStatic||A.isSleeping))&&f(_.collisionFilter,A.collisionFilter)){var M=A.parts.length;if(D&&M===1){var O=i(_,A,d);O&&(h[g++]=O)}else for(var R=S>1?1:0,N=M>1?1:0,F=R;F<S;F++)for(var I=_.parts[F],b=I.bounds,H=N;H<M;H++){var U=A.parts[H],C=U.bounds;if(!(b.min.x>C.max.x||b.max.x<C.min.x||b.max.y<C.min.y||b.min.y>C.max.y)){var O=i(I,U,d);O&&(h[g++]=O)}}}}}return h.length!==g&&(h.length=g),h},n.canCollide=function(u,d){return u.group===d.group&&u.group!==0?u.group>0:(u.mask&d.category)!==0&&(d.mask&u.category)!==0},n._compareBoundsX=function(u,d){return u.bounds.min.x-d.bounds.min.x}})()},function(r,o,a){var n={};r.exports=n;var s=a(0);(function(){n.create=function(c){var u={};return c||s.log("Mouse.create: element was undefined, defaulting to document.body","warn"),u.element=c||document.body,u.absolute={x:0,y:0},u.position={x:0,y:0},u.mousedownPosition={x:0,y:0},u.mouseupPosition={x:0,y:0},u.offset={x:0,y:0},u.scale={x:1,y:1},u.wheelDelta=0,u.button=-1,u.pixelRatio=parseInt(u.element.getAttribute("data-pixel-ratio"),10)||1,u.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},u.mousemove=function(d){var l=n._getRelativeMousePosition(d,u.element,u.pixelRatio),v=d.changedTouches;v&&(u.button=0,d.preventDefault()),u.absolute.x=l.x,u.absolute.y=l.y,u.position.x=u.absolute.x*u.scale.x+u.offset.x,u.position.y=u.absolute.y*u.scale.y+u.offset.y,u.sourceEvents.mousemove=d},u.mousedown=function(d){var l=n._getRelativeMousePosition(d,u.element,u.pixelRatio),v=d.changedTouches;v?(u.button=0,d.preventDefault()):u.button=d.button,u.absolute.x=l.x,u.absolute.y=l.y,u.position.x=u.absolute.x*u.scale.x+u.offset.x,u.position.y=u.absolute.y*u.scale.y+u.offset.y,u.mousedownPosition.x=u.position.x,u.mousedownPosition.y=u.position.y,u.sourceEvents.mousedown=d},u.mouseup=function(d){var l=n._getRelativeMousePosition(d,u.element,u.pixelRatio),v=d.changedTouches;v&&d.preventDefault(),u.button=-1,u.absolute.x=l.x,u.absolute.y=l.y,u.position.x=u.absolute.x*u.scale.x+u.offset.x,u.position.y=u.absolute.y*u.scale.y+u.offset.y,u.mouseupPosition.x=u.position.x,u.mouseupPosition.y=u.position.y,u.sourceEvents.mouseup=d},u.mousewheel=function(d){u.wheelDelta=Math.max(-1,Math.min(1,d.wheelDelta||-d.detail)),d.preventDefault(),u.sourceEvents.mousewheel=d},n.setElement(u,u.element),u},n.setElement=function(c,u){c.element=u,u.addEventListener("mousemove",c.mousemove,{passive:!0}),u.addEventListener("mousedown",c.mousedown,{passive:!0}),u.addEventListener("mouseup",c.mouseup,{passive:!0}),u.addEventListener("wheel",c.mousewheel,{passive:!1}),u.addEventListener("touchmove",c.mousemove,{passive:!1}),u.addEventListener("touchstart",c.mousedown,{passive:!1}),u.addEventListener("touchend",c.mouseup,{passive:!1})},n.clearSourceEvents=function(c){c.sourceEvents.mousemove=null,c.sourceEvents.mousedown=null,c.sourceEvents.mouseup=null,c.sourceEvents.mousewheel=null,c.wheelDelta=0},n.setOffset=function(c,u){c.offset.x=u.x,c.offset.y=u.y,c.position.x=c.absolute.x*c.scale.x+c.offset.x,c.position.y=c.absolute.y*c.scale.y+c.offset.y},n.setScale=function(c,u){c.scale.x=u.x,c.scale.y=u.y,c.position.x=c.absolute.x*c.scale.x+c.offset.x,c.position.y=c.absolute.y*c.scale.y+c.offset.y},n._getRelativeMousePosition=function(c,u,d){var l=u.getBoundingClientRect(),v=document.documentElement||document.body.parentNode||document.body,f=window.pageXOffset!==void 0?window.pageXOffset:v.scrollLeft,i=window.pageYOffset!==void 0?window.pageYOffset:v.scrollTop,h=c.changedTouches,g,m;return h?(g=h[0].pageX-l.left-f,m=h[0].pageY-l.top-i):(g=c.pageX-l.left-f,m=c.pageY-l.top-i),{x:g/(u.clientWidth/(u.width||u.clientWidth)*d),y:m/(u.clientHeight/(u.height||u.clientHeight)*d)}}})()},function(r,o,a){var n={};r.exports=n;var s=a(0);(function(){n._registry={},n.register=function(c){if(n.isPlugin(c)||s.warn("Plugin.register:",n.toString(c),"does not implement all required fields."),c.name in n._registry){var u=n._registry[c.name],d=n.versionParse(c.version).number,l=n.versionParse(u.version).number;d>l?(s.warn("Plugin.register:",n.toString(u),"was upgraded to",n.toString(c)),n._registry[c.name]=c):d<l?s.warn("Plugin.register:",n.toString(u),"can not be downgraded to",n.toString(c)):c!==u&&s.warn("Plugin.register:",n.toString(c),"is already registered to different plugin object")}else n._registry[c.name]=c;return c},n.resolve=function(c){return n._registry[n.dependencyParse(c).name]},n.toString=function(c){return typeof c=="string"?c:(c.name||"anonymous")+"@"+(c.version||c.range||"0.0.0")},n.isPlugin=function(c){return c&&c.name&&c.version&&c.install},n.isUsed=function(c,u){return c.used.indexOf(u)>-1},n.isFor=function(c,u){var d=c.for&&n.dependencyParse(c.for);return!c.for||u.name===d.name&&n.versionSatisfies(u.version,d.range)},n.use=function(c,u){if(c.uses=(c.uses||[]).concat(u||[]),c.uses.length===0){s.warn("Plugin.use:",n.toString(c),"does not specify any dependencies to install.");return}for(var d=n.dependencies(c),l=s.topologicalSort(d),v=[],f=0;f<l.length;f+=1)if(l[f]!==c.name){var i=n.resolve(l[f]);if(!i){v.push("â "+l[f]);continue}n.isUsed(c,i.name)||(n.isFor(i,c)||(s.warn("Plugin.use:",n.toString(i),"is for",i.for,"but installed on",n.toString(c)+"."),i._warned=!0),i.install?i.install(c):(s.warn("Plugin.use:",n.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(v.push("ð¶ "+n.toString(i)),delete i._warned):v.push("â "+n.toString(i)),c.used.push(i.name))}v.length>0&&s.info(v.join("  "))},n.dependencies=function(c,u){var d=n.dependencyParse(c),l=d.name;if(u=u||{},!(l in u)){c=n.resolve(c)||c,u[l]=s.map(c.uses||[],function(f){n.isPlugin(f)&&n.register(f);var i=n.dependencyParse(f),h=n.resolve(f);return h&&!n.versionSatisfies(h.version,i.range)?(s.warn("Plugin.dependencies:",n.toString(h),"does not satisfy",n.toString(i),"used by",n.toString(d)+"."),h._warned=!0,c._warned=!0):h||(s.warn("Plugin.dependencies:",n.toString(f),"used by",n.toString(d),"could not be resolved."),c._warned=!0),i.name});for(var v=0;v<u[l].length;v+=1)n.dependencies(u[l][v],u);return u}},n.dependencyParse=function(c){if(s.isString(c)){var u=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return u.test(c)||s.warn("Plugin.dependencyParse:",c,"is not a valid dependency string."),{name:c.split("@")[0],range:c.split("@")[1]||"*"}}return{name:c.name,range:c.range||c.version}},n.versionParse=function(c){var u=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;u.test(c)||s.warn("Plugin.versionParse:",c,"is not a valid version or range.");var d=u.exec(c),l=Number(d[4]),v=Number(d[5]),f=Number(d[6]);return{isRange:!!(d[1]||d[2]),version:d[3],range:c,operator:d[1]||d[2]||"",major:l,minor:v,patch:f,parts:[l,v,f],prerelease:d[7],number:l*1e8+v*1e4+f}},n.versionSatisfies=function(c,u){u=u||"*";var d=n.versionParse(u),l=n.versionParse(c);if(d.isRange){if(d.operator==="*"||c==="*")return!0;if(d.operator===">")return l.number>d.number;if(d.operator===">=")return l.number>=d.number;if(d.operator==="~")return l.major===d.major&&l.minor===d.minor&&l.patch>=d.patch;if(d.operator==="^")return d.major>0?l.major===d.major&&l.number>=d.number:d.minor>0?l.minor===d.minor&&l.patch>=d.patch:l.patch===d.patch}return c===u||c==="*"}})()},function(r,o){var a={};r.exports=a,function(){a.create=function(n){return{vertex:n,normalImpulse:0,tangentImpulse:0}}}()},function(r,o,a){var n={};r.exports=n;var s=a(7),c=a(18),u=a(13),d=a(19),l=a(5),v=a(6),f=a(10),i=a(0),h=a(4);(function(){n._deltaMax=1e3/60,n.create=function(g){g=g||{};var m={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},w=i.extend(m,g);return w.world=g.world||v.create({label:"World"}),w.pairs=g.pairs||d.create(),w.detector=g.detector||u.create(),w.detector.pairs=w.pairs,w.grid={buckets:[]},w.world.gravity=w.gravity,w.broadphase=w.grid,w.metrics={},w},n.update=function(g,m){var w=i.now(),_=g.world,b=g.detector,T=g.pairs,p=g.timing,y=p.timestamp,E;m>n._deltaMax&&i.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",n._deltaMax.toFixed(3),"ms."),m=typeof m<"u"?m:i._baseDelta,m*=p.timeScale,p.timestamp+=m,p.lastDelta=m;var S={timestamp:p.timestamp,delta:m};l.trigger(g,"beforeUpdate",S);var D=v.allBodies(_),A=v.allConstraints(_);for(_.isModified&&(u.setBodies(b,D),v.setModified(_,!1,!1,!0)),g.enableSleeping&&s.update(D,m),n._bodiesApplyGravity(D,g.gravity),m>0&&n._bodiesUpdate(D,m),l.trigger(g,"beforeSolve",S),f.preSolveAll(D),E=0;E<g.constraintIterations;E++)f.solveAll(A,m);f.postSolveAll(D);var C=u.collisions(b);d.update(T,C,y),g.enableSleeping&&s.afterCollisions(T.list),T.collisionStart.length>0&&l.trigger(g,"collisionStart",{pairs:T.collisionStart,timestamp:p.timestamp,delta:m});var M=i.clamp(20/g.positionIterations,0,1);for(c.preSolvePosition(T.list),E=0;E<g.positionIterations;E++)c.solvePosition(T.list,m,M);for(c.postSolvePosition(D),f.preSolveAll(D),E=0;E<g.constraintIterations;E++)f.solveAll(A,m);for(f.postSolveAll(D),c.preSolveVelocity(T.list),E=0;E<g.velocityIterations;E++)c.solveVelocity(T.list,m);return n._bodiesUpdateVelocities(D),T.collisionActive.length>0&&l.trigger(g,"collisionActive",{pairs:T.collisionActive,timestamp:p.timestamp,delta:m}),T.collisionEnd.length>0&&l.trigger(g,"collisionEnd",{pairs:T.collisionEnd,timestamp:p.timestamp,delta:m}),n._bodiesClearForces(D),l.trigger(g,"afterUpdate",S),g.timing.lastElapsed=i.now()-w,g},n.merge=function(g,m){if(i.extend(g,m),m.world){g.world=m.world,n.clear(g);for(var w=v.allBodies(g.world),_=0;_<w.length;_++){var b=w[_];s.set(b,!1),b.id=i.nextId()}}},n.clear=function(g){d.clear(g.pairs),u.clear(g.detector)},n._bodiesClearForces=function(g){for(var m=g.length,w=0;w<m;w++){var _=g[w];_.force.x=0,_.force.y=0,_.torque=0}},n._bodiesApplyGravity=function(g,m){var w=typeof m.scale<"u"?m.scale:.001,_=g.length;if(!(m.x===0&&m.y===0||w===0))for(var b=0;b<_;b++){var T=g[b];T.isStatic||T.isSleeping||(T.force.y+=T.mass*m.y*w,T.force.x+=T.mass*m.x*w)}},n._bodiesUpdate=function(g,m){for(var w=g.length,_=0;_<w;_++){var b=g[_];b.isStatic||b.isSleeping||h.update(b,m)}},n._bodiesUpdateVelocities=function(g){for(var m=g.length,w=0;w<m;w++)h.updateVelocities(g[w])}})()},function(r,o,a){var n={};r.exports=n;var s=a(3),c=a(0),u=a(1);(function(){n._restingThresh=2,n._restingThreshTangent=Math.sqrt(6),n._positionDampen=.9,n._positionWarming=.8,n._frictionNormalMultiplier=5,n._frictionMaxStatic=Number.MAX_VALUE,n.preSolvePosition=function(d){var l,v,f,i=d.length;for(l=0;l<i;l++)v=d[l],v.isActive&&(f=v.contactCount,v.collision.parentA.totalContacts+=f,v.collision.parentB.totalContacts+=f)},n.solvePosition=function(d,l,v){var f,i,h,g,m,w,_,b,T=n._positionDampen*(v||1),p=c.clamp(l/c._baseDelta,0,1),y=d.length;for(f=0;f<y;f++)i=d[f],!(!i.isActive||i.isSensor)&&(h=i.collision,g=h.parentA,m=h.parentB,w=h.normal,i.separation=h.depth+w.x*(m.positionImpulse.x-g.positionImpulse.x)+w.y*(m.positionImpulse.y-g.positionImpulse.y));for(f=0;f<y;f++)i=d[f],!(!i.isActive||i.isSensor)&&(h=i.collision,g=h.parentA,m=h.parentB,w=h.normal,b=i.separation-i.slop*p,(g.isStatic||m.isStatic)&&(b*=2),g.isStatic||g.isSleeping||(_=T/g.totalContacts,g.positionImpulse.x+=w.x*b*_,g.positionImpulse.y+=w.y*b*_),m.isStatic||m.isSleeping||(_=T/m.totalContacts,m.positionImpulse.x-=w.x*b*_,m.positionImpulse.y-=w.y*b*_))},n.postSolvePosition=function(d){for(var l=n._positionWarming,v=d.length,f=s.translate,i=u.update,h=0;h<v;h++){var g=d[h],m=g.positionImpulse,w=m.x,_=m.y,b=g.velocity;if(g.totalContacts=0,w!==0||_!==0){for(var T=0;T<g.parts.length;T++){var p=g.parts[T];f(p.vertices,m),i(p.bounds,p.vertices,b),p.position.x+=w,p.position.y+=_}g.positionPrev.x+=w,g.positionPrev.y+=_,w*b.x+_*b.y<0?(m.x=0,m.y=0):(m.x*=l,m.y*=l)}}},n.preSolveVelocity=function(d){var l=d.length,v,f;for(v=0;v<l;v++){var i=d[v];if(!(!i.isActive||i.isSensor)){var h=i.contacts,g=i.contactCount,m=i.collision,w=m.parentA,_=m.parentB,b=m.normal,T=m.tangent;for(f=0;f<g;f++){var p=h[f],y=p.vertex,E=p.normalImpulse,S=p.tangentImpulse;if(E!==0||S!==0){var D=b.x*E+T.x*S,A=b.y*E+T.y*S;w.isStatic||w.isSleeping||(w.positionPrev.x+=D*w.inverseMass,w.positionPrev.y+=A*w.inverseMass,w.anglePrev+=w.inverseInertia*((y.x-w.position.x)*A-(y.y-w.position.y)*D)),_.isStatic||_.isSleeping||(_.positionPrev.x-=D*_.inverseMass,_.positionPrev.y-=A*_.inverseMass,_.anglePrev-=_.inverseInertia*((y.x-_.position.x)*A-(y.y-_.position.y)*D))}}}}},n.solveVelocity=function(d,l){var v=l/c._baseDelta,f=v*v,i=f*v,h=-n._restingThresh*v,g=n._restingThreshTangent,m=n._frictionNormalMultiplier*v,w=n._frictionMaxStatic,_=d.length,b,T,p,y;for(p=0;p<_;p++){var E=d[p];if(!(!E.isActive||E.isSensor)){var S=E.collision,D=S.parentA,A=S.parentB,C=S.normal.x,M=S.normal.y,O=S.tangent.x,R=S.tangent.y,N=E.inverseMass,F=E.friction*E.frictionStatic*m,I=E.contacts,H=E.contactCount,U=1/H,Q=D.position.x-D.positionPrev.x,J=D.position.y-D.positionPrev.y,ee=D.angle-D.anglePrev,re=A.position.x-A.positionPrev.x,V=A.position.y-A.positionPrev.y,$=A.angle-A.anglePrev;for(y=0;y<H;y++){var L=I[y],X=L.vertex,z=X.x-D.position.x,j=X.y-D.position.y,se=X.x-A.position.x,B=X.y-A.position.y,k=Q-j*ee,W=J+z*ee,ne=re-B*$,oe=V+se*$,ce=k-ne,fe=W-oe,ge=C*ce+M*fe,ve=O*ce+R*fe,ie=E.separation+ge,ue=Math.min(ie,1);ue=ie<0?0:ue;var ye=ue*F;ve<-ye||ve>ye?(T=ve>0?ve:-ve,b=E.friction*(ve>0?1:-1)*i,b<-T?b=-T:b>T&&(b=T)):(b=ve,T=w);var Ae=z*M-j*C,_e=se*M-B*C,Ce=U/(N+D.inverseInertia*Ae*Ae+A.inverseInertia*_e*_e),K=(1+E.restitution)*ge*Ce;if(b*=Ce,ge<h)L.normalImpulse=0;else{var te=L.normalImpulse;L.normalImpulse+=K,L.normalImpulse>0&&(L.normalImpulse=0),K=L.normalImpulse-te}if(ve<-g||ve>g)L.tangentImpulse=0;else{var Se=L.tangentImpulse;L.tangentImpulse+=b,L.tangentImpulse<-T&&(L.tangentImpulse=-T),L.tangentImpulse>T&&(L.tangentImpulse=T),b=L.tangentImpulse-Se}var xe=C*K+O*b,Ee=M*K+R*b;D.isStatic||D.isSleeping||(D.positionPrev.x+=xe*D.inverseMass,D.positionPrev.y+=Ee*D.inverseMass,D.anglePrev+=(z*Ee-j*xe)*D.inverseInertia),A.isStatic||A.isSleeping||(A.positionPrev.x-=xe*A.inverseMass,A.positionPrev.y-=Ee*A.inverseMass,A.anglePrev-=(se*Ee-B*xe)*A.inverseInertia)}}}}})()},function(r,o,a){var n={};r.exports=n;var s=a(9),c=a(0);(function(){n.create=function(u){return c.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},u)},n.update=function(u,d,l){var v=s.update,f=s.create,i=s.setActive,h=u.table,g=u.list,m=g.length,w=m,_=u.collisionStart,b=u.collisionEnd,T=u.collisionActive,p=d.length,y=0,E=0,S=0,D,A,C;for(C=0;C<p;C++)D=d[C],A=D.pair,A?(A.isActive&&(T[S++]=A),v(A,D,l)):(A=f(D,l),h[A.id]=A,_[y++]=A,g[w++]=A);for(w=0,m=g.length,C=0;C<m;C++)A=g[C],A.timeUpdated>=l?g[w++]=A:(i(A,!1,l),A.collision.bodyA.sleepCounter>0&&A.collision.bodyB.sleepCounter>0?g[w++]=A:(b[E++]=A,delete h[A.id]));g.length!==w&&(g.length=w),_.length!==y&&(_.length=y),b.length!==E&&(b.length=E),T.length!==S&&(T.length=S)},n.clear=function(u){return u.table={},u.list.length=0,u.collisionStart.length=0,u.collisionActive.length=0,u.collisionEnd.length=0,u}})()},function(r,o,a){var n=r.exports=a(21);n.Axes=a(11),n.Bodies=a(12),n.Body=a(4),n.Bounds=a(1),n.Collision=a(8),n.Common=a(0),n.Composite=a(6),n.Composites=a(22),n.Constraint=a(10),n.Contact=a(16),n.Detector=a(13),n.Engine=a(17),n.Events=a(5),n.Grid=a(23),n.Mouse=a(14),n.MouseConstraint=a(24),n.Pair=a(9),n.Pairs=a(19),n.Plugin=a(15),n.Query=a(25),n.Render=a(26),n.Resolver=a(18),n.Runner=a(27),n.SAT=a(28),n.Sleeping=a(7),n.Svg=a(29),n.Vector=a(2),n.Vertices=a(3),n.World=a(30),n.Engine.run=n.Runner.run,n.Common.deprecated(n.Engine,"run","Engine.run â¤ use Matter.Runner.run(engine) instead")},function(r,o,a){var n={};r.exports=n;var s=a(15),c=a(0);(function(){n.name="matter-js",n.version="0.20.0",n.uses=[],n.used=[],n.use=function(){s.use(n,Array.prototype.slice.call(arguments))},n.before=function(u,d){return u=u.replace(/^Matter./,""),c.chainPathBefore(n,u,d)},n.after=function(u,d){return u=u.replace(/^Matter./,""),c.chainPathAfter(n,u,d)}})()},function(r,o,a){var n={};r.exports=n;var s=a(6),c=a(10),u=a(0),d=a(4),l=a(12),v=u.deprecated;(function(){n.stack=function(f,i,h,g,m,w,_){for(var b=s.create({label:"Stack"}),T=f,p=i,y,E=0,S=0;S<g;S++){for(var D=0,A=0;A<h;A++){var C=_(T,p,A,S,y,E);if(C){var M=C.bounds.max.y-C.bounds.min.y,O=C.bounds.max.x-C.bounds.min.x;M>D&&(D=M),d.translate(C,{x:O*.5,y:M*.5}),T=C.bounds.max.x+m,s.addBody(b,C),y=C,E+=1}else T+=m}p+=D+w,T=f}return b},n.chain=function(f,i,h,g,m,w){for(var _=f.bodies,b=1;b<_.length;b++){var T=_[b-1],p=_[b],y=T.bounds.max.y-T.bounds.min.y,E=T.bounds.max.x-T.bounds.min.x,S=p.bounds.max.y-p.bounds.min.y,D=p.bounds.max.x-p.bounds.min.x,A={bodyA:T,pointA:{x:E*i,y:y*h},bodyB:p,pointB:{x:D*g,y:S*m}},C=u.extend(A,w);s.addConstraint(f,c.create(C))}return f.label+=" Chain",f},n.mesh=function(f,i,h,g,m){var w=f.bodies,_,b,T,p,y;for(_=0;_<h;_++){for(b=1;b<i;b++)T=w[b-1+_*i],p=w[b+_*i],s.addConstraint(f,c.create(u.extend({bodyA:T,bodyB:p},m)));if(_>0)for(b=0;b<i;b++)T=w[b+(_-1)*i],p=w[b+_*i],s.addConstraint(f,c.create(u.extend({bodyA:T,bodyB:p},m))),g&&b>0&&(y=w[b-1+(_-1)*i],s.addConstraint(f,c.create(u.extend({bodyA:y,bodyB:p},m)))),g&&b<i-1&&(y=w[b+1+(_-1)*i],s.addConstraint(f,c.create(u.extend({bodyA:y,bodyB:p},m))))}return f.label+=" Mesh",f},n.pyramid=function(f,i,h,g,m,w,_){return n.stack(f,i,h,g,m,w,function(b,T,p,y,E,S){var D=Math.min(g,Math.ceil(h/2)),A=E?E.bounds.max.x-E.bounds.min.x:0;if(!(y>D)){y=D-y;var C=y,M=h-1-y;if(!(p<C||p>M)){S===1&&d.translate(E,{x:(p+(h%2===1?1:-1))*A,y:0});var O=E?p*A:0;return _(f+O+p*m,T,p,y,E,S)}}})},n.newtonsCradle=function(f,i,h,g,m){for(var w=s.create({label:"Newtons Cradle"}),_=0;_<h;_++){var b=1.9,T=l.circle(f+_*(g*b),i+m,g,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),p=c.create({pointA:{x:f+_*(g*b),y:i},bodyB:T});s.addBody(w,T),s.addConstraint(w,p)}return w},v(n,"newtonsCradle","Composites.newtonsCradle â¤ moved to newtonsCradle example"),n.car=function(f,i,h,g,m){var w=d.nextGroup(!0),_=20,b=-h*.5+_,T=h*.5-_,p=0,y=s.create({label:"Car"}),E=l.rectangle(f,i,h,g,{collisionFilter:{group:w},chamfer:{radius:g*.5},density:2e-4}),S=l.circle(f+b,i+p,m,{collisionFilter:{group:w},friction:.8}),D=l.circle(f+T,i+p,m,{collisionFilter:{group:w},friction:.8}),A=c.create({bodyB:E,pointB:{x:b,y:p},bodyA:S,stiffness:1,length:0}),C=c.create({bodyB:E,pointB:{x:T,y:p},bodyA:D,stiffness:1,length:0});return s.addBody(y,E),s.addBody(y,S),s.addBody(y,D),s.addConstraint(y,A),s.addConstraint(y,C),y},v(n,"car","Composites.car â¤ moved to car example"),n.softBody=function(f,i,h,g,m,w,_,b,T,p){T=u.extend({inertia:1/0},T),p=u.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var y=n.stack(f,i,h,g,m,w,function(E,S){return l.circle(E,S,b,T)});return n.mesh(y,h,g,_,p),y.label="Soft Body",y},v(n,"softBody","Composites.softBody â¤ moved to softBody and cloth examples")})()},function(r,o,a){var n={};r.exports=n;var s=a(9),c=a(0),u=c.deprecated;(function(){n.create=function(d){var l={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return c.extend(l,d)},n.update=function(d,l,v,f){var i,h,g,m=v.world,w=d.buckets,_,b,T=!1;for(i=0;i<l.length;i++){var p=l[i];if(!(p.isSleeping&&!f)&&!(m.bounds&&(p.bounds.max.x<m.bounds.min.x||p.bounds.min.x>m.bounds.max.x||p.bounds.max.y<m.bounds.min.y||p.bounds.min.y>m.bounds.max.y))){var y=n._getRegion(d,p);if(!p.region||y.id!==p.region.id||f){(!p.region||f)&&(p.region=y);var E=n._regionUnion(y,p.region);for(h=E.startCol;h<=E.endCol;h++)for(g=E.startRow;g<=E.endRow;g++){b=n._getBucketId(h,g),_=w[b];var S=h>=y.startCol&&h<=y.endCol&&g>=y.startRow&&g<=y.endRow,D=h>=p.region.startCol&&h<=p.region.endCol&&g>=p.region.startRow&&g<=p.region.endRow;!S&&D&&D&&_&&n._bucketRemoveBody(d,_,p),(p.region===y||S&&!D||f)&&(_||(_=n._createBucket(w,b)),n._bucketAddBody(d,_,p))}p.region=y,T=!0}}}T&&(d.pairsList=n._createActivePairsList(d))},u(n,"update","Grid.update â¤ replaced by Matter.Detector"),n.clear=function(d){d.buckets={},d.pairs={},d.pairsList=[]},u(n,"clear","Grid.clear â¤ replaced by Matter.Detector"),n._regionUnion=function(d,l){var v=Math.min(d.startCol,l.startCol),f=Math.max(d.endCol,l.endCol),i=Math.min(d.startRow,l.startRow),h=Math.max(d.endRow,l.endRow);return n._createRegion(v,f,i,h)},n._getRegion=function(d,l){var v=l.bounds,f=Math.floor(v.min.x/d.bucketWidth),i=Math.floor(v.max.x/d.bucketWidth),h=Math.floor(v.min.y/d.bucketHeight),g=Math.floor(v.max.y/d.bucketHeight);return n._createRegion(f,i,h,g)},n._createRegion=function(d,l,v,f){return{id:d+","+l+","+v+","+f,startCol:d,endCol:l,startRow:v,endRow:f}},n._getBucketId=function(d,l){return"C"+d+"R"+l},n._createBucket=function(d,l){var v=d[l]=[];return v},n._bucketAddBody=function(d,l,v){var f=d.pairs,i=s.id,h=l.length,g;for(g=0;g<h;g++){var m=l[g];if(!(v.id===m.id||v.isStatic&&m.isStatic)){var w=i(v,m),_=f[w];_?_[2]+=1:f[w]=[v,m,1]}}l.push(v)},n._bucketRemoveBody=function(d,l,v){var f=d.pairs,i=s.id,h;l.splice(c.indexOf(l,v),1);var g=l.length;for(h=0;h<g;h++){var m=f[i(v,l[h])];m&&(m[2]-=1)}},n._createActivePairsList=function(d){var l,v=d.pairs,f=c.keys(v),i=f.length,h=[],g;for(g=0;g<i;g++)l=v[f[g]],l[2]>0?h.push(l):delete v[f[g]];return h}})()},function(r,o,a){var n={};r.exports=n;var s=a(3),c=a(7),u=a(14),d=a(5),l=a(13),v=a(10),f=a(6),i=a(0),h=a(1);(function(){n.create=function(g,m){var w=(g?g.mouse:null)||(m?m.mouse:null);w||(g&&g.render&&g.render.canvas?w=u.create(g.render.canvas):m&&m.element?w=u.create(m.element):(w=u.create(),i.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var _=v.create({label:"Mouse Constraint",pointA:w.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),b={type:"mouseConstraint",mouse:w,element:null,body:null,constraint:_,collisionFilter:{category:1,mask:4294967295,group:0}},T=i.extend(b,m);return d.on(g,"beforeUpdate",function(){var p=f.allBodies(g.world);n.update(T,p),n._triggerEvents(T)}),T},n.update=function(g,m){var w=g.mouse,_=g.constraint,b=g.body;if(w.button===0){if(_.bodyB)c.set(_.bodyB,!1),_.pointA=w.position;else for(var T=0;T<m.length;T++)if(b=m[T],h.contains(b.bounds,w.position)&&l.canCollide(b.collisionFilter,g.collisionFilter))for(var p=b.parts.length>1?1:0;p<b.parts.length;p++){var y=b.parts[p];if(s.contains(y.vertices,w.position)){_.pointA=w.position,_.bodyB=g.body=b,_.pointB={x:w.position.x-b.position.x,y:w.position.y-b.position.y},_.angleB=b.angle,c.set(b,!1),d.trigger(g,"startdrag",{mouse:w,body:b});break}}}else _.bodyB=g.body=null,_.pointB=null,b&&d.trigger(g,"enddrag",{mouse:w,body:b})},n._triggerEvents=function(g){var m=g.mouse,w=m.sourceEvents;w.mousemove&&d.trigger(g,"mousemove",{mouse:m}),w.mousedown&&d.trigger(g,"mousedown",{mouse:m}),w.mouseup&&d.trigger(g,"mouseup",{mouse:m}),u.clearSourceEvents(m)}})()},function(r,o,a){var n={};r.exports=n;var s=a(2),c=a(8),u=a(1),d=a(12),l=a(3);(function(){n.collides=function(v,f){for(var i=[],h=f.length,g=v.bounds,m=c.collides,w=u.overlaps,_=0;_<h;_++){var b=f[_],T=b.parts.length,p=T===1?0:1;if(w(b.bounds,g))for(var y=p;y<T;y++){var E=b.parts[y];if(w(E.bounds,g)){var S=m(E,v);if(S){i.push(S);break}}}}return i},n.ray=function(v,f,i,h){h=h||1e-100;for(var g=s.angle(f,i),m=s.magnitude(s.sub(f,i)),w=(i.x+f.x)*.5,_=(i.y+f.y)*.5,b=d.rectangle(w,_,m,h,{angle:g}),T=n.collides(b,v),p=0;p<T.length;p+=1){var y=T[p];y.body=y.bodyB=y.bodyA}return T},n.region=function(v,f,i){for(var h=[],g=0;g<v.length;g++){var m=v[g],w=u.overlaps(m.bounds,f);(w&&!i||!w&&i)&&h.push(m)}return h},n.point=function(v,f){for(var i=[],h=0;h<v.length;h++){var g=v[h];if(u.contains(g.bounds,f))for(var m=g.parts.length===1?0:1;m<g.parts.length;m++){var w=g.parts[m];if(u.contains(w.bounds,f)&&l.contains(w.vertices,f)){i.push(g);break}}}return i}})()},function(r,o,a){var n={};r.exports=n;var s=a(4),c=a(0),u=a(6),d=a(1),l=a(5),v=a(2),f=a(14);(function(){var i,h;typeof window<"u"&&(i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(p){window.setTimeout(function(){p(c.now())},1e3/60)},h=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),n._goodFps=30,n._goodDelta=1e3/60,n.create=function(p){var y={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!p.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},E=c.extend(y,p);return E.canvas&&(E.canvas.width=E.options.width||E.canvas.width,E.canvas.height=E.options.height||E.canvas.height),E.mouse=p.mouse,E.engine=p.engine,E.canvas=E.canvas||w(E.options.width,E.options.height),E.context=E.canvas.getContext("2d"),E.textures={},E.bounds=E.bounds||{min:{x:0,y:0},max:{x:E.canvas.width,y:E.canvas.height}},E.controller=n,E.options.showBroadphase=!1,E.options.pixelRatio!==1&&n.setPixelRatio(E,E.options.pixelRatio),c.isElement(E.element)&&E.element.appendChild(E.canvas),E},n.run=function(p){(function y(E){p.frameRequestId=i(y),g(p,E),n.world(p,E),p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0),(p.options.showStats||p.options.showDebug)&&n.stats(p,p.context,E),(p.options.showPerformance||p.options.showDebug)&&n.performance(p,p.context,E),p.context.setTransform(1,0,0,1,0,0)})()},n.stop=function(p){h(p.frameRequestId)},n.setPixelRatio=function(p,y){var E=p.options,S=p.canvas;y==="auto"&&(y=_(S)),E.pixelRatio=y,S.setAttribute("data-pixel-ratio",y),S.width=E.width*y,S.height=E.height*y,S.style.width=E.width+"px",S.style.height=E.height+"px"},n.setSize=function(p,y,E){p.options.width=y,p.options.height=E,p.bounds.max.x=p.bounds.min.x+y,p.bounds.max.y=p.bounds.min.y+E,p.options.pixelRatio!==1?n.setPixelRatio(p,p.options.pixelRatio):(p.canvas.width=y,p.canvas.height=E)},n.lookAt=function(p,y,E,S){S=typeof S<"u"?S:!0,y=c.isArray(y)?y:[y],E=E||{x:0,y:0};for(var D={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},A=0;A<y.length;A+=1){var C=y[A],M=C.bounds?C.bounds.min:C.min||C.position||C,O=C.bounds?C.bounds.max:C.max||C.position||C;M&&O&&(M.x<D.min.x&&(D.min.x=M.x),O.x>D.max.x&&(D.max.x=O.x),M.y<D.min.y&&(D.min.y=M.y),O.y>D.max.y&&(D.max.y=O.y))}var R=D.max.x-D.min.x+2*E.x,N=D.max.y-D.min.y+2*E.y,F=p.canvas.height,I=p.canvas.width,H=I/F,U=R/N,Q=1,J=1;U>H?J=U/H:Q=H/U,p.options.hasBounds=!0,p.bounds.min.x=D.min.x,p.bounds.max.x=D.min.x+R*Q,p.bounds.min.y=D.min.y,p.bounds.max.y=D.min.y+N*J,S&&(p.bounds.min.x+=R*.5-R*Q*.5,p.bounds.max.x+=R*.5-R*Q*.5,p.bounds.min.y+=N*.5-N*J*.5,p.bounds.max.y+=N*.5-N*J*.5),p.bounds.min.x-=E.x,p.bounds.max.x-=E.x,p.bounds.min.y-=E.y,p.bounds.max.y-=E.y,p.mouse&&(f.setScale(p.mouse,{x:(p.bounds.max.x-p.bounds.min.x)/p.canvas.width,y:(p.bounds.max.y-p.bounds.min.y)/p.canvas.height}),f.setOffset(p.mouse,p.bounds.min))},n.startViewTransform=function(p){var y=p.bounds.max.x-p.bounds.min.x,E=p.bounds.max.y-p.bounds.min.y,S=y/p.options.width,D=E/p.options.height;p.context.setTransform(p.options.pixelRatio/S,0,0,p.options.pixelRatio/D,0,0),p.context.translate(-p.bounds.min.x,-p.bounds.min.y)},n.endViewTransform=function(p){p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0)},n.world=function(p,y){var E=c.now(),S=p.engine,D=S.world,A=p.canvas,C=p.context,M=p.options,O=p.timing,R=u.allBodies(D),N=u.allConstraints(D),F=M.wireframes?M.wireframeBackground:M.background,I=[],H=[],U,Q={timestamp:S.timing.timestamp};if(l.trigger(p,"beforeRender",Q),p.currentBackground!==F&&T(p,F),C.globalCompositeOperation="source-in",C.fillStyle="transparent",C.fillRect(0,0,A.width,A.height),C.globalCompositeOperation="source-over",M.hasBounds){for(U=0;U<R.length;U++){var J=R[U];d.overlaps(J.bounds,p.bounds)&&I.push(J)}for(U=0;U<N.length;U++){var ee=N[U],re=ee.bodyA,V=ee.bodyB,$=ee.pointA,L=ee.pointB;re&&($=v.add(re.position,ee.pointA)),V&&(L=v.add(V.position,ee.pointB)),!(!$||!L)&&(d.contains(p.bounds,$)||d.contains(p.bounds,L))&&H.push(ee)}n.startViewTransform(p),p.mouse&&(f.setScale(p.mouse,{x:(p.bounds.max.x-p.bounds.min.x)/p.options.width,y:(p.bounds.max.y-p.bounds.min.y)/p.options.height}),f.setOffset(p.mouse,p.bounds.min))}else H=N,I=R,p.options.pixelRatio!==1&&p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0);!M.wireframes||S.enableSleeping&&M.showSleeping?n.bodies(p,I,C):(M.showConvexHulls&&n.bodyConvexHulls(p,I,C),n.bodyWireframes(p,I,C)),M.showBounds&&n.bodyBounds(p,I,C),(M.showAxes||M.showAngleIndicator)&&n.bodyAxes(p,I,C),M.showPositions&&n.bodyPositions(p,I,C),M.showVelocity&&n.bodyVelocity(p,I,C),M.showIds&&n.bodyIds(p,I,C),M.showSeparations&&n.separations(p,S.pairs.list,C),M.showCollisions&&n.collisions(p,S.pairs.list,C),M.showVertexNumbers&&n.vertexNumbers(p,I,C),M.showMousePosition&&n.mousePosition(p,p.mouse,C),n.constraints(H,C),M.hasBounds&&n.endViewTransform(p),l.trigger(p,"afterRender",Q),O.lastElapsed=c.now()-E},n.stats=function(p,y,E){for(var S=p.engine,D=S.world,A=u.allBodies(D),C=0,M=55,O=44,R=0,N=0,F=0;F<A.length;F+=1)C+=A[F].parts.length;var I={Part:C,Body:A.length,Cons:u.allConstraints(D).length,Comp:u.allComposites(D).length,Pair:S.pairs.list.length};y.fillStyle="#0e0f19",y.fillRect(R,N,M*5.5,O),y.font="12px Arial",y.textBaseline="top",y.textAlign="right";for(var H in I){var U=I[H];y.fillStyle="#aaa",y.fillText(H,R+M,N+8),y.fillStyle="#eee",y.fillText(U,R+M,N+26),R+=M}},n.performance=function(p,y){var E=p.engine,S=p.timing,D=S.deltaHistory,A=S.elapsedHistory,C=S.timestampElapsedHistory,M=S.engineDeltaHistory,O=S.engineUpdatesHistory,R=S.engineElapsedHistory,N=E.timing.lastUpdatesPerFrame,F=E.timing.lastDelta,I=m(D),H=m(A),U=m(M),Q=m(O),J=m(R),ee=m(C),re=ee/I||0,V=Math.round(I/F),$=1e3/I||0,L=4,X=12,z=60,j=34,se=10,B=69;y.fillStyle="#0e0f19",y.fillRect(0,50,X*5+z*6+22,j),n.status(y,se,B,z,L,D.length,Math.round($)+" fps",$/n._goodFps,function(k){return D[k]/I-1}),n.status(y,se+X+z,B,z,L,M.length,F.toFixed(2)+" dt",n._goodDelta/F,function(k){return M[k]/U-1}),n.status(y,se+(X+z)*2,B,z,L,O.length,N+" upf",Math.pow(c.clamp(Q/V||1,0,1),4),function(k){return O[k]/Q-1}),n.status(y,se+(X+z)*3,B,z,L,R.length,J.toFixed(2)+" ut",1-N*J/n._goodFps,function(k){return R[k]/J-1}),n.status(y,se+(X+z)*4,B,z,L,A.length,H.toFixed(2)+" rt",1-H/n._goodFps,function(k){return A[k]/H-1}),n.status(y,se+(X+z)*5,B,z,L,C.length,re.toFixed(2)+" x",re*re*re,function(k){return(C[k]/D[k]/re||0)-1})},n.status=function(p,y,E,S,D,A,C,M,O){p.strokeStyle="#888",p.fillStyle="#444",p.lineWidth=1,p.fillRect(y,E+7,S,1),p.beginPath(),p.moveTo(y,E+7-D*c.clamp(.4*O(0),-2,2));for(var R=0;R<S;R+=1)p.lineTo(y+R,E+7-(R<A?D*c.clamp(.4*O(R),-2,2):0));p.stroke(),p.fillStyle="hsl("+c.clamp(25+95*M,0,120)+",100%,60%)",p.fillRect(y,E-7,4,4),p.font="12px Arial",p.textBaseline="middle",p.textAlign="right",p.fillStyle="#eee",p.fillText(C,y+S,E-5)},n.constraints=function(p,y){for(var E=y,S=0;S<p.length;S++){var D=p[S];if(!(!D.render.visible||!D.pointA||!D.pointB)){var A=D.bodyA,C=D.bodyB,M,O;if(A?M=v.add(A.position,D.pointA):M=D.pointA,D.render.type==="pin")E.beginPath(),E.arc(M.x,M.y,3,0,2*Math.PI),E.closePath();else{if(C?O=v.add(C.position,D.pointB):O=D.pointB,E.beginPath(),E.moveTo(M.x,M.y),D.render.type==="spring")for(var R=v.sub(O,M),N=v.perp(v.normalise(R)),F=Math.ceil(c.clamp(D.length/5,12,20)),I,H=1;H<F;H+=1)I=H%2===0?1:-1,E.lineTo(M.x+R.x*(H/F)+N.x*I*4,M.y+R.y*(H/F)+N.y*I*4);E.lineTo(O.x,O.y)}D.render.lineWidth&&(E.lineWidth=D.render.lineWidth,E.strokeStyle=D.render.strokeStyle,E.stroke()),D.render.anchors&&(E.fillStyle=D.render.strokeStyle,E.beginPath(),E.arc(M.x,M.y,3,0,2*Math.PI),E.arc(O.x,O.y,3,0,2*Math.PI),E.closePath(),E.fill())}}},n.bodies=function(p,y,E){var S=E;p.engine;var D=p.options,A=D.showInternalEdges||!D.wireframes,C,M,O,R;for(O=0;O<y.length;O++)if(C=y[O],!!C.render.visible){for(R=C.parts.length>1?1:0;R<C.parts.length;R++)if(M=C.parts[R],!!M.render.visible){if(D.showSleeping&&C.isSleeping?S.globalAlpha=.5*M.render.opacity:M.render.opacity!==1&&(S.globalAlpha=M.render.opacity),M.render.sprite&&M.render.sprite.texture&&!D.wireframes){var N=M.render.sprite,F=b(p,N.texture);S.translate(M.position.x,M.position.y),S.rotate(M.angle),S.drawImage(F,F.width*-N.xOffset*N.xScale,F.height*-N.yOffset*N.yScale,F.width*N.xScale,F.height*N.yScale),S.rotate(-M.angle),S.translate(-M.position.x,-M.position.y)}else{if(M.circleRadius)S.beginPath(),S.arc(M.position.x,M.position.y,M.circleRadius,0,2*Math.PI);else{S.beginPath(),S.moveTo(M.vertices[0].x,M.vertices[0].y);for(var I=1;I<M.vertices.length;I++)!M.vertices[I-1].isInternal||A?S.lineTo(M.vertices[I].x,M.vertices[I].y):S.moveTo(M.vertices[I].x,M.vertices[I].y),M.vertices[I].isInternal&&!A&&S.moveTo(M.vertices[(I+1)%M.vertices.length].x,M.vertices[(I+1)%M.vertices.length].y);S.lineTo(M.vertices[0].x,M.vertices[0].y),S.closePath()}D.wireframes?(S.lineWidth=1,S.strokeStyle=p.options.wireframeStrokeStyle,S.stroke()):(S.fillStyle=M.render.fillStyle,M.render.lineWidth&&(S.lineWidth=M.render.lineWidth,S.strokeStyle=M.render.strokeStyle,S.stroke()),S.fill())}S.globalAlpha=1}}},n.bodyWireframes=function(p,y,E){var S=E,D=p.options.showInternalEdges,A,C,M,O,R;for(S.beginPath(),M=0;M<y.length;M++)if(A=y[M],!!A.render.visible)for(R=A.parts.length>1?1:0;R<A.parts.length;R++){for(C=A.parts[R],S.moveTo(C.vertices[0].x,C.vertices[0].y),O=1;O<C.vertices.length;O++)!C.vertices[O-1].isInternal||D?S.lineTo(C.vertices[O].x,C.vertices[O].y):S.moveTo(C.vertices[O].x,C.vertices[O].y),C.vertices[O].isInternal&&!D&&S.moveTo(C.vertices[(O+1)%C.vertices.length].x,C.vertices[(O+1)%C.vertices.length].y);S.lineTo(C.vertices[0].x,C.vertices[0].y)}S.lineWidth=1,S.strokeStyle=p.options.wireframeStrokeStyle,S.stroke()},n.bodyConvexHulls=function(p,y,E){var S=E,D,A,C;for(S.beginPath(),A=0;A<y.length;A++)if(D=y[A],!(!D.render.visible||D.parts.length===1)){for(S.moveTo(D.vertices[0].x,D.vertices[0].y),C=1;C<D.vertices.length;C++)S.lineTo(D.vertices[C].x,D.vertices[C].y);S.lineTo(D.vertices[0].x,D.vertices[0].y)}S.lineWidth=1,S.strokeStyle="rgba(255,255,255,0.2)",S.stroke()},n.vertexNumbers=function(p,y,E){var S=E,D,A,C;for(D=0;D<y.length;D++){var M=y[D].parts;for(C=M.length>1?1:0;C<M.length;C++){var O=M[C];for(A=0;A<O.vertices.length;A++)S.fillStyle="rgba(255,255,255,0.2)",S.fillText(D+"_"+A,O.position.x+(O.vertices[A].x-O.position.x)*.8,O.position.y+(O.vertices[A].y-O.position.y)*.8)}}},n.mousePosition=function(p,y,E){var S=E;S.fillStyle="rgba(255,255,255,0.8)",S.fillText(y.position.x+"  "+y.position.y,y.position.x+5,y.position.y-5)},n.bodyBounds=function(p,y,E){var S=E;p.engine;var D=p.options;S.beginPath();for(var A=0;A<y.length;A++){var C=y[A];if(C.render.visible)for(var M=y[A].parts,O=M.length>1?1:0;O<M.length;O++){var R=M[O];S.rect(R.bounds.min.x,R.bounds.min.y,R.bounds.max.x-R.bounds.min.x,R.bounds.max.y-R.bounds.min.y)}}D.wireframes?S.strokeStyle="rgba(255,255,255,0.08)":S.strokeStyle="rgba(0,0,0,0.1)",S.lineWidth=1,S.stroke()},n.bodyAxes=function(p,y,E){var S=E;p.engine;var D=p.options,A,C,M,O;for(S.beginPath(),C=0;C<y.length;C++){var R=y[C],N=R.parts;if(R.render.visible)if(D.showAxes)for(M=N.length>1?1:0;M<N.length;M++)for(A=N[M],O=0;O<A.axes.length;O++){var F=A.axes[O];S.moveTo(A.position.x,A.position.y),S.lineTo(A.position.x+F.x*20,A.position.y+F.y*20)}else for(M=N.length>1?1:0;M<N.length;M++)for(A=N[M],O=0;O<A.axes.length;O++)S.moveTo(A.position.x,A.position.y),S.lineTo((A.vertices[0].x+A.vertices[A.vertices.length-1].x)/2,(A.vertices[0].y+A.vertices[A.vertices.length-1].y)/2)}D.wireframes?(S.strokeStyle="indianred",S.lineWidth=1):(S.strokeStyle="rgba(255, 255, 255, 0.4)",S.globalCompositeOperation="overlay",S.lineWidth=2),S.stroke(),S.globalCompositeOperation="source-over"},n.bodyPositions=function(p,y,E){var S=E;p.engine;var D=p.options,A,C,M,O;for(S.beginPath(),M=0;M<y.length;M++)if(A=y[M],!!A.render.visible)for(O=0;O<A.parts.length;O++)C=A.parts[O],S.arc(C.position.x,C.position.y,3,0,2*Math.PI,!1),S.closePath();for(D.wireframes?S.fillStyle="indianred":S.fillStyle="rgba(0,0,0,0.5)",S.fill(),S.beginPath(),M=0;M<y.length;M++)A=y[M],A.render.visible&&(S.arc(A.positionPrev.x,A.positionPrev.y,2,0,2*Math.PI,!1),S.closePath());S.fillStyle="rgba(255,165,0,0.8)",S.fill()},n.bodyVelocity=function(p,y,E){var S=E;S.beginPath();for(var D=0;D<y.length;D++){var A=y[D];if(A.render.visible){var C=s.getVelocity(A);S.moveTo(A.position.x,A.position.y),S.lineTo(A.position.x+C.x,A.position.y+C.y)}}S.lineWidth=3,S.strokeStyle="cornflowerblue",S.stroke()},n.bodyIds=function(p,y,E){var S=E,D,A;for(D=0;D<y.length;D++)if(y[D].render.visible){var C=y[D].parts;for(A=C.length>1?1:0;A<C.length;A++){var M=C[A];S.font="12px Arial",S.fillStyle="rgba(255,255,255,0.5)",S.fillText(M.id,M.position.x+10,M.position.y-10)}}},n.collisions=function(p,y,E){var S=E,D=p.options,A,C,M,O;for(S.beginPath(),M=0;M<y.length;M++)if(A=y[M],!!A.isActive)for(C=A.collision,O=0;O<A.contactCount;O++){var R=A.contacts[O],N=R.vertex;S.rect(N.x-1.5,N.y-1.5,3.5,3.5)}for(D.wireframes?S.fillStyle="rgba(255,255,255,0.7)":S.fillStyle="orange",S.fill(),S.beginPath(),M=0;M<y.length;M++)if(A=y[M],!!A.isActive&&(C=A.collision,A.contactCount>0)){var F=A.contacts[0].vertex.x,I=A.contacts[0].vertex.y;A.contactCount===2&&(F=(A.contacts[0].vertex.x+A.contacts[1].vertex.x)/2,I=(A.contacts[0].vertex.y+A.contacts[1].vertex.y)/2),C.bodyB===C.supports[0].body||C.bodyA.isStatic===!0?S.moveTo(F-C.normal.x*8,I-C.normal.y*8):S.moveTo(F+C.normal.x*8,I+C.normal.y*8),S.lineTo(F,I)}D.wireframes?S.strokeStyle="rgba(255,165,0,0.7)":S.strokeStyle="orange",S.lineWidth=1,S.stroke()},n.separations=function(p,y,E){var S=E,D=p.options,A,C,M,O,R;for(S.beginPath(),R=0;R<y.length;R++)if(A=y[R],!!A.isActive){C=A.collision,M=C.bodyA,O=C.bodyB;var N=1;!O.isStatic&&!M.isStatic&&(N=.5),O.isStatic&&(N=0),S.moveTo(O.position.x,O.position.y),S.lineTo(O.position.x-C.penetration.x*N,O.position.y-C.penetration.y*N),N=1,!O.isStatic&&!M.isStatic&&(N=.5),M.isStatic&&(N=0),S.moveTo(M.position.x,M.position.y),S.lineTo(M.position.x+C.penetration.x*N,M.position.y+C.penetration.y*N)}D.wireframes?S.strokeStyle="rgba(255,165,0,0.5)":S.strokeStyle="orange",S.stroke()},n.inspector=function(p,y){p.engine;var E=p.selected,S=p.render,D=S.options,A;if(D.hasBounds){var C=S.bounds.max.x-S.bounds.min.x,M=S.bounds.max.y-S.bounds.min.y,O=C/S.options.width,R=M/S.options.height;y.scale(1/O,1/R),y.translate(-S.bounds.min.x,-S.bounds.min.y)}for(var N=0;N<E.length;N++){var F=E[N].data;switch(y.translate(.5,.5),y.lineWidth=1,y.strokeStyle="rgba(255,165,0,0.9)",y.setLineDash([1,2]),F.type){case"body":A=F.bounds,y.beginPath(),y.rect(Math.floor(A.min.x-3),Math.floor(A.min.y-3),Math.floor(A.max.x-A.min.x+6),Math.floor(A.max.y-A.min.y+6)),y.closePath(),y.stroke();break;case"constraint":var I=F.pointA;F.bodyA&&(I=F.pointB),y.beginPath(),y.arc(I.x,I.y,10,0,2*Math.PI),y.closePath(),y.stroke();break}y.setLineDash([]),y.translate(-.5,-.5)}p.selectStart!==null&&(y.translate(.5,.5),y.lineWidth=1,y.strokeStyle="rgba(255,165,0,0.6)",y.fillStyle="rgba(255,165,0,0.1)",A=p.selectBounds,y.beginPath(),y.rect(Math.floor(A.min.x),Math.floor(A.min.y),Math.floor(A.max.x-A.min.x),Math.floor(A.max.y-A.min.y)),y.closePath(),y.stroke(),y.fill(),y.translate(-.5,-.5)),D.hasBounds&&y.setTransform(1,0,0,1,0,0)};var g=function(p,y){var E=p.engine,S=p.timing,D=S.historySize,A=E.timing.timestamp;S.delta=y-S.lastTime||n._goodDelta,S.lastTime=y,S.timestampElapsed=A-S.lastTimestamp||0,S.lastTimestamp=A,S.deltaHistory.unshift(S.delta),S.deltaHistory.length=Math.min(S.deltaHistory.length,D),S.engineDeltaHistory.unshift(E.timing.lastDelta),S.engineDeltaHistory.length=Math.min(S.engineDeltaHistory.length,D),S.timestampElapsedHistory.unshift(S.timestampElapsed),S.timestampElapsedHistory.length=Math.min(S.timestampElapsedHistory.length,D),S.engineUpdatesHistory.unshift(E.timing.lastUpdatesPerFrame),S.engineUpdatesHistory.length=Math.min(S.engineUpdatesHistory.length,D),S.engineElapsedHistory.unshift(E.timing.lastElapsed),S.engineElapsedHistory.length=Math.min(S.engineElapsedHistory.length,D),S.elapsedHistory.unshift(S.lastElapsed),S.elapsedHistory.length=Math.min(S.elapsedHistory.length,D)},m=function(p){for(var y=0,E=0;E<p.length;E+=1)y+=p[E];return y/p.length||0},w=function(p,y){var E=document.createElement("canvas");return E.width=p,E.height=y,E.oncontextmenu=function(){return!1},E.onselectstart=function(){return!1},E},_=function(p){var y=p.getContext("2d"),E=window.devicePixelRatio||1,S=y.webkitBackingStorePixelRatio||y.mozBackingStorePixelRatio||y.msBackingStorePixelRatio||y.oBackingStorePixelRatio||y.backingStorePixelRatio||1;return E/S},b=function(p,y){var E=p.textures[y];return E||(E=p.textures[y]=new Image,E.src=y,E)},T=function(p,y){var E=y;/(jpg|gif|png)$/.test(y)&&(E="url("+y+")"),p.canvas.style.background=E,p.canvas.style.backgroundSize="contain",p.currentBackground=y}})()},function(r,o,a){var n={};r.exports=n;var s=a(5),c=a(17),u=a(0);(function(){n._maxFrameDelta=1e3/15,n._frameDeltaFallback=1e3/60,n._timeBufferMargin=1.5,n._elapsedNextEstimate=1,n._smoothingLowerBound=.1,n._smoothingUpperBound=.9,n.create=function(l){var v={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},f=u.extend(v,l);return f.fps=0,f},n.run=function(l,v){return l.timeBuffer=n._frameDeltaFallback,function f(i){l.frameRequestId=n._onNextFrame(l,f),i&&l.enabled&&n.tick(l,v,i)}(),l},n.tick=function(l,v,f){var i=u.now(),h=l.delta,g=0,m=f-l.timeLastTick;if((!m||!l.timeLastTick||m>Math.max(n._maxFrameDelta,l.maxFrameTime))&&(m=l.frameDelta||n._frameDeltaFallback),l.frameDeltaSmoothing){l.frameDeltaHistory.push(m),l.frameDeltaHistory=l.frameDeltaHistory.slice(-l.frameDeltaHistorySize);var w=l.frameDeltaHistory.slice(0).sort(),_=l.frameDeltaHistory.slice(w.length*n._smoothingLowerBound,w.length*n._smoothingUpperBound),b=d(_);m=b||m}l.frameDeltaSnapping&&(m=1e3/Math.round(1e3/m)),l.frameDelta=m,l.timeLastTick=f,l.timeBuffer+=l.frameDelta,l.timeBuffer=u.clamp(l.timeBuffer,0,l.frameDelta+h*n._timeBufferMargin),l.lastUpdatesDeferred=0;var T=l.maxUpdates||Math.ceil(l.maxFrameTime/h),p={timestamp:v.timing.timestamp};s.trigger(l,"beforeTick",p),s.trigger(l,"tick",p);for(var y=u.now();h>0&&l.timeBuffer>=h*n._timeBufferMargin;){s.trigger(l,"beforeUpdate",p),c.update(v,h),s.trigger(l,"afterUpdate",p),l.timeBuffer-=h,g+=1;var E=u.now()-i,S=u.now()-y,D=E+n._elapsedNextEstimate*S/g;if(g>=T||D>l.maxFrameTime){l.lastUpdatesDeferred=Math.round(Math.max(0,l.timeBuffer/h-n._timeBufferMargin));break}}v.timing.lastUpdatesPerFrame=g,s.trigger(l,"afterTick",p),l.frameDeltaHistory.length>=100&&(l.lastUpdatesDeferred&&Math.round(l.frameDelta/h)>T?u.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):l.lastUpdatesDeferred&&u.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof l.isFixed<"u"&&u.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(l.deltaMin||l.deltaMax)&&u.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),l.fps!==0&&u.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},n.stop=function(l){n._cancelNextFrame(l)},n._onNextFrame=function(l,v){if(typeof window<"u"&&window.requestAnimationFrame)l.frameRequestId=window.requestAnimationFrame(v);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return l.frameRequestId},n._cancelNextFrame=function(l){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(l.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var d=function(l){for(var v=0,f=l.length,i=0;i<f;i+=1)v+=l[i];return v/f||0}})()},function(r,o,a){var n={};r.exports=n;var s=a(8),c=a(0),u=c.deprecated;(function(){n.collides=function(d,l){return s.collides(d,l)},u(n,"collides","SAT.collides â¤ replaced by Collision.collides")})()},function(r,o,a){var n={};r.exports=n,a(1);var s=a(0);(function(){n.pathToVertices=function(c,u){typeof window<"u"&&!("SVGPathSeg"in window)&&s.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var d,l,v,f,i,h,g,m,w,_,b=[],T,p,y=0,E=0,S=0;u=u||15;var D=function(C,M,O){var R=O%2===1&&O>1;if(!w||C!=w.x||M!=w.y){w&&R?(T=w.x,p=w.y):(T=0,p=0);var N={x:T+C,y:p+M};(R||!w)&&(w=N),b.push(N),E=T+C,S=p+M}},A=function(C){var M=C.pathSegTypeAsLetter.toUpperCase();if(M!=="Z"){switch(M){case"M":case"L":case"T":case"C":case"S":case"Q":E=C.x,S=C.y;break;case"H":E=C.x;break;case"V":S=C.y;break}D(E,S,C.pathSegType)}};for(n._svgPathToAbsolute(c),v=c.getTotalLength(),h=[],d=0;d<c.pathSegList.numberOfItems;d+=1)h.push(c.pathSegList.getItem(d));for(g=h.concat();y<v;){if(_=c.getPathSegAtLength(y),i=h[_],i!=m){for(;g.length&&g[0]!=i;)A(g.shift());m=i}switch(i.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":f=c.getPointAtLength(y),D(f.x,f.y,0);break}y+=u}for(d=0,l=g.length;d<l;++d)A(g[d]);return b},n._svgPathToAbsolute=function(c){for(var u,d,l,v,f,i,h=c.pathSegList,g=0,m=0,w=h.numberOfItems,_=0;_<w;++_){var b=h.getItem(_),T=b.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(T))"x"in b&&(g=b.x),"y"in b&&(m=b.y);else switch("x1"in b&&(l=g+b.x1),"x2"in b&&(f=g+b.x2),"y1"in b&&(v=m+b.y1),"y2"in b&&(i=m+b.y2),"x"in b&&(g+=b.x),"y"in b&&(m+=b.y),T){case"m":h.replaceItem(c.createSVGPathSegMovetoAbs(g,m),_);break;case"l":h.replaceItem(c.createSVGPathSegLinetoAbs(g,m),_);break;case"h":h.replaceItem(c.createSVGPathSegLinetoHorizontalAbs(g),_);break;case"v":h.replaceItem(c.createSVGPathSegLinetoVerticalAbs(m),_);break;case"c":h.replaceItem(c.createSVGPathSegCurvetoCubicAbs(g,m,l,v,f,i),_);break;case"s":h.replaceItem(c.createSVGPathSegCurvetoCubicSmoothAbs(g,m,f,i),_);break;case"q":h.replaceItem(c.createSVGPathSegCurvetoQuadraticAbs(g,m,l,v),_);break;case"t":h.replaceItem(c.createSVGPathSegCurvetoQuadraticSmoothAbs(g,m),_);break;case"a":h.replaceItem(c.createSVGPathSegArcAbs(g,m,b.r1,b.r2,b.angle,b.largeArcFlag,b.sweepFlag),_);break;case"z":case"Z":g=u,m=d;break}(T=="M"||T=="m")&&(u=g,d=m)}}})()},function(r,o,a){var n={};r.exports=n;var s=a(6);a(0),function(){n.create=s.create,n.add=s.add,n.remove=s.remove,n.clear=s.clear,n.addComposite=s.addComposite,n.addBody=s.addBody,n.addConstraint=s.addConstraint}()}])})}(ur)),ur.exports}var xv=yv();const Re=mv(xv);var wv=De('<span class="fade-word glow svelte-16vc7jj"> </span>'),Tv=De('<span class="fade-word svelte-16vc7jj"> </span>'),Sv=De('<br class="svelte-16vc7jj"> <br class="svelte-16vc7jj"> <!>',1),Ev=De('<span class="fade-word glow svelte-16vc7jj"> </span>'),_v=De('<span class="fade-word svelte-16vc7jj"> </span>'),bv=De('<div class="modal svelte-16vc7jj"><div class="loader svelte-16vc7jj"></div> <div id="instructions" class="svelte-16vc7jj"></div></div>'),Av=De('<div class="page-container svelte-16vc7jj"><p class="background-paragraph svelte-16vc7jj"></p> <div class="scene svelte-16vc7jj"></div> <!></div>');function Cv(e,t){Et(t,!1);let r="#1c1c1c",o="#8e8d8c",a="#e6e6e6",n=me(t,"gameCounter",8),s=me(t,"transitionHeight",8),c=me(t,"transitionWidth",8),u=0,d=0;const l=["Hang__GLOW__","on__GLOW__","to__GLOW__","every__GLOW__","word.__GLOW__","Itâs","a","phrase","weâve","all","heard","somewhereâ","describing","a","child","captivated","by","his","basketball","idolâs","TED","talk,","or","in","a","housewifeâs","review","of","her","favorite","true","crime","podcastâ","but","doubtfully","ever","investigated.","The","meaning","of","the","phrase","is","obvious:","listen","closely.","This","time,","let's","direct","that","gaze","inwards.","Letâs","listen","closely.","__BR__HANG__GLOW__","ON__GLOW__","can","mean","to","keep","a","jacket","your","friend","left","on","your","couch;","to","grab","tightly","onto","your","motherâs","hand.","It","can","mean","to","wait","a","moment","while","your","date","pays","the","bill,","to","grit","your","teeth","as","your","dad","drives","you","through","a","road","littered","with","potholes,","or","of","course,","to","listen","closely.","The","phrase","hangs","on","to","multitudes,","yet","somehow,","weâre","never","confused.","__BR__The","word","EVERY__GLOW__","comes","from","a","14th","century","contraction","of","âeachâ","(all)","and","âeverâ","(always).","Ever","each,","ever-each,","evereach,","every.","The","first","attestation","of","EVERY__GLOW__","comes","from","The","Canterbury","Tales,","the","book","responsible","for","replacing","French","and","Latin","in","mainstream","literature","with","English.","Every","word","we","carelessly","toss","around","contains","a","rich,","layered","history.","__BR__The","idea","that","you","can","hang","on","to","every","WORD__GLOW__","implies","that","words","are","clothes","hangers","or","pull-up","bars.","They","are","weapons","you","can","have","in","an","argument,","snacks","to","eat","when","embarrassed,","a","fluorescent","jungle","gym","to","play","on.","The","entirety","of","the","English","language","is","a","physical","thing","that","we","can","grasp.","__BR__We","donât","think","about","these","features","when","we","use","words,","despite","wielding","them","daily.","We","know","where","theyâre","allowed","to","be","placed,","so","we","awkwardly","slot","them","into","sentences","like","primitive","pattern","matching","machines.","We","follow","rules","and","sounds","that","weâve","internalized,","but","donât","fully","understand.","That","internalization","lets","us","stop","paying","attention.","__BR__But","if","we","know","we","exist","in","this","storied","world","of","words,","if","we","are","aware","of","the","logic","of","each","phraseâs","construction,","if","we","peer","a","little","past","our","expectationsâ","a","sudden","turn","of","phrase","can","have","you","careening","down","an","alleyway","that","youâd","never","noticed,","a","street","sign","labeled","translation,","stubbornly","unfamiliar,","feet","sliding,","stumbling,","slipping","on","the","rain-slicked","tongueâ","we","can","actually","begin","to","hang","on.","__BR__I__GLOW__","hope__GLOW__","you__GLOW__","experience__GLOW__","a__GLOW__","little__GLOW__","more,__GLOW__","in__GLOW__","every__GLOW__","word.__GLOW__"],v=G(new Me(0,{delay:1e3,duration:1e3,easing:ze})),f=G(new Me(s(),{duration:500,easing:ze})),i=G(new Me(c(),{delay:500,duration:500,easing:ze}));let h="10px",g=40,m=30,w=17;function _($){console.log($),D>=1200?(Z(f,x(f).target=500),Z(i,x(i).target=600)):$>=900?(Z(f,x(f).target=400),Z(i,x(i).target=600)):$>=480?(Z(f,x(f).target=400),Z(i,x(i).target=480)):(Z(f,x(f).target=400),Z(i,x(i).target=350),h="7px",g=20,w=11.5,m=20)}function b(){u=window.innerWidth,_(u)}let T=G(),p,y,E,S=G(!0),D=0,A=0;const C=30,M=30;let O=[],R=[];function N($,L,X=100){let z=document.getElementById($);return new Promise(j=>{let se=z.innerHTML,B=se.length,k=0;function W(){B>0?(z.innerHTML=se.substring(0,B-1),B--,setTimeout(W,X)):ne()}function ne(){k<L.length?(z.innerHTML+=L.charAt(k),k++,setTimeout(ne,X)):j()}W()})}Pt(()=>{typeof window<"u"&&(b(),window.addEventListener("resize",b)),setTimeout(()=>{N("instructions","HANG ON...")},1e3),D=window.innerWidth,A=window.innerHeight,p=Re.Engine.create(),p.gravity.y=1,y=Re.Render.create({element:x(T),engine:p,options:{width:D,height:A,wireframes:!1,background:"transparent",pixelRatio:window.devicePixelRatio||1}});const $=200,L=[Re.Bodies.rectangle(D/2,A+$/2,D,$,{isStatic:!0}),Re.Bodies.rectangle(D/2,-200/2,D,$,{isStatic:!0}),Re.Bodies.rectangle(-200/2,A/2,$,A,{isStatic:!0}),Re.Bodies.rectangle(D+$/2,A/2,$,A,{isStatic:!0})];Re.World.add(p.world,L);const X=Re.Mouse.create(y.canvas),z=Re.MouseConstraint.create(p,{mouse:X,constraint:{stiffness:.2,render:{visible:!1}}});Re.World.add(p.world,z),y.mouse=X,Re.Events.on(z,"mousedown",function(j){const se=j.mouse.position,B=Re.Query.point(O,se);if(B.length>0){const k=B[0];U(l[d]),d++,Re.World.remove(p.world,k),O=O.filter(W=>W!==k)}}),Re.Events.on(y,"afterRender",()=>{const j=y.context;j.font=h+" sans-serif",j.textAlign="center",j.textBaseline="middle",O.forEach(se=>{j.save(),j.translate(se.position.x,se.position.y),j.rotate(se.angle);const B=w,k=se.boxWidth||M,W=se.boxHeight||C;j.beginPath(),j.moveTo(-k/2+B,-W/2),j.lineTo(k/2-B,-W/2),j.quadraticCurveTo(k/2,-W/2,k/2,-W/2+B),j.lineTo(k/2,W/2-B),j.quadraticCurveTo(k/2,W/2,k/2-B,W/2),j.lineTo(-k/2+B,W/2),j.quadraticCurveTo(-k/2,W/2,-k/2,W/2-B),j.lineTo(-k/2,-W/2+B),j.quadraticCurveTo(-k/2,-W/2,-k/2+B,-W/2),j.closePath(),j.shadowColor="#ffffff",j.shadowBlur=15,j.fillStyle=a,j.fill(),j.shadowColor=o,j.shadowBlur=5,j.fillStyle=r,j.fillText(se.label,0,0),j.restore()})}),E=Re.Runner.create(),Re.Runner.run(E,p),Re.Render.run(y),Fi("./allwords.csv").then(function(j){R=j.map(se=>se.WORD),console.log(j)})});function F(){const $=D/2,L=A/4,X=y.context;X.font=h+" sans-serif";let z=0,j=1e3;const se=150,B=.95;function k(){if(z>=R.length)return;const W=R[z],ce=X.measureText(W).width+g,fe=m,ge=$+(Math.random()-.5)*10,ve=L+(Math.random()-.5)*10,ie=Re.Bodies.rectangle(ge,ve,ce,fe,{restitution:.2,friction:.5,render:{fillStyle:"transparent",strokeStyle:"transparent"}});ie.label=W,ie.boxWidth=ce,ie.boxHeight=fe,O.push(ie),Re.World.add(p.world,ie),z++,j=Math.max(se,j*B),setTimeout(k,j)}k()}function I(){P(S,!1),F()}bi(()=>{var $;(y==null?void 0:y.frameRequestId)!==void 0&&Re.Render.stop(y),E&&Re.Runner.stop(E),p&&(Re.World.clear(p.world),Re.Engine.clear(p)),($=y==null?void 0:y.canvas)==null||$.remove(),y!=null&&y.textures&&(y.textures={})});let H=G([]);function U($){P(H,[...x(H),$])}ft(()=>hr(n()),()=>{n()==6&&Z(v,x(v).target=1)}),Wn(),St();var Q=Av();he(Q," --dark-gray: #1c1c1c; --mid-gray: #8e8d8c; --light-gray: #e6e6e6;");var J=q(Q);Je(J,5,()=>x(H),Dt,($,L)=>{var X=qt(),z=Ue(X);{var j=B=>{var k=Sv(),W=ae(Ue(k),4);{var ne=ce=>{var fe=wv(),ge=q(fe,!0);Y(fe),Oe(ve=>je(ge,ve),[()=>x(L).replace("__BR__","").replace("__GLOW__","")],gt),pe(ce,fe)},oe=ce=>{var fe=Tv(),ge=q(fe,!0);Y(fe),Oe(ve=>je(ge,ve),[()=>x(L).replace("__BR__","")],gt),pe(ce,fe)};Le(W,ce=>{x(L).includes("__GLOW__")?ce(ne):ce(oe,!1)})}pe(B,k)},se=(B,k)=>{{var W=oe=>{var ce=Ev(),fe=q(ce,!0);Y(ce),Oe(ge=>je(fe,ge),[()=>x(L).replace("__GLOW__","")],gt),pe(oe,ce)},ne=oe=>{var ce=_v(),fe=q(ce,!0);Y(ce),Oe(()=>je(fe,x(L))),pe(oe,ce)};Le(B,oe=>{x(L).includes("__GLOW__")?oe(W):oe(ne,!1)},k)}};Le(z,B=>{x(L).includes("__BR__")?B(j):B(se,!1)})}pe($,X)}),Y(J);var ee=ae(J,2);Yt(ee,$=>P(T,$),()=>x(T));var re=ae(ee,2);{var V=$=>{var L=bv(),X=q(L),z=ae(X,2);Y(L),Oe(()=>{he(L,` width: ${x(i).current??""}px; height: ${x(f).current??""}px`),he(X,`opacity: ${x(v).current??""}`),he(z,`opacity: ${x(v).current??""}`)}),be("click",L,I),Ci(3,L,()=>ns),pe($,L)};Le(re,$=>{x(S)&&$(V)})}Y(Q),pe(e,Q),_t()}var Dv=De("<div><!></div>");function Mv(e){let t=G(6),r=G(0),o=G(0);var a=Dv();he(a,"--dark-gray: #1c1c1c; --mid-gray: #8e8d8c; --light-gray: #e6e6e6; --correct-green: #E8FFB7; ");var n=q(a);{var s=u=>{Jh(u,{get gameCounter(){return x(t)},set gameCounter(d){P(t,d)},get transitionHeight(){return x(r)},set transitionHeight(d){P(r,d)},get transitionWidth(){return x(o)},set transitionWidth(d){P(o,d)},$$legacy:!0})},c=(u,d)=>{{var l=f=>{tv(f,{get gameCounter(){return x(t)},set gameCounter(i){P(t,i)},get transitionHeight(){return x(r)},set transitionHeight(i){P(r,i)},get transitionWidth(){return x(o)},set transitionWidth(i){P(o,i)},$$legacy:!0})},v=(f,i)=>{{var h=m=>{gv(m,{get gameCounter(){return x(t)},set gameCounter(w){P(t,w)},get transitionHeight(){return x(r)},set transitionHeight(w){P(r,w)},get transitionWidth(){return x(o)},set transitionWidth(w){P(o,w)},$$legacy:!0})},g=(m,w)=>{{var _=T=>{dv(T,{get gameCounter(){return x(t)},set gameCounter(p){P(t,p)},get transitionHeight(){return x(r)},set transitionHeight(p){P(r,p)},get transitionWidth(){return x(o)},set transitionWidth(p){P(o,p)},$$legacy:!0})},b=(T,p)=>{{var y=S=>{ov(S,{get gameCounter(){return x(t)},set gameCounter(D){P(t,D)},get transitionHeight(){return x(r)},set transitionHeight(D){P(r,D)},get transitionWidth(){return x(o)},set transitionWidth(D){P(o,D)},$$legacy:!0})},E=(S,D)=>{{var A=M=>{bd(M,{get gameCounter(){return x(t)},set gameCounter(O){P(t,O)},get transitionHeight(){return x(r)},set transitionHeight(O){P(r,O)},get transitionWidth(){return x(o)},set transitionWidth(O){P(o,O)},$$legacy:!0})},C=(M,O)=>{{var R=N=>{Cv(N,{get gameCounter(){return x(t)},set gameCounter(F){P(t,F)},get transitionHeight(){return x(r)},set transitionHeight(F){P(r,F)},get transitionWidth(){return x(o)},set transitionWidth(F){P(o,F)},$$legacy:!0})};Le(M,N=>{x(t)===6&&N(R)},O)}};Le(S,M=>{x(t)===5?M(A):M(C,!1)},D)}};Le(T,S=>{x(t)===4?S(y):S(E,!1)},p)}};Le(m,T=>{x(t)===3?T(_):T(b,!1)},w)}};Le(f,m=>{x(t)===2?m(h):m(g,!1)},i)}};Le(u,f=>{x(t)===1?f(l):f(v,!1)},d)}};Le(n,u=>{x(t)===0?u(s):u(c,!1)})}Y(a),pe(e,a)}var Ov=De("<!> <!>",1);function Fv(e){const t=[];var r=Ov(),o=Ue(r);Js(o,{preloadFont:t});var a=ae(o,2);Mv(a),pe(e,r)}export{Fv as component};
