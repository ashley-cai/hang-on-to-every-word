var Yi=e=>{throw TypeError(e)};var Xi=(e,t,r)=>t.has(e)||Yi("Cannot "+r);var ze=(e,t,r)=>(Xi(e,t,"read from private field"),r?r.call(e):t.get(e)),vn=(e,t,r)=>t.has(e)?Yi("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Wr=(e,t,r,o)=>(Xi(e,t,"write to private field"),o?o.call(e,r):t.set(e,r),r);import{t as Ae,a as pe,c as an,n as Fn}from"../chunks/BQhqqf2W.js";import{i as wt}from"../chunks/D9_LSpZN.js";import{l as et,x as ns,i as rs,g as S,Q as on,y as is,z as Zi,A as Ur,B as Gr,m as gn,ag as as,C as qa,j as Ka,D as os,ak as ja,ab as Ja,J as $,aq as ur,ar as Vr,a5 as cr,as as Ti,at as qi,au as ss,aj as ls,av as us,k as cs,aw as Si,ax as fs,ad as ds,a3 as hs,a2 as vs,ay as Qa,I as eo,az as gs,F as Ft,b as to,G as Ei,e as fr,a1 as ms,aA as ps,aB as ys,aC as xs,aD as ws,aE as Ts,aF as Ss,n as mn,E as Es,aG as As,aH as bs,aI as Cs,a8 as Ki,a9 as ji,aa as Ds,o as Ze,w as re,t as Pe,aJ as Ms,M as k,p as Tt,aK as q,ao as Cn,s as Z,v as X,aL as at,q as St,aM as yt,aN as Hn,aO as Ji}from"../chunks/CB0XSnHg.js";import{a as _s,w as Is,b as Os,s as dt,e as ye}from"../chunks/DB3UnUXO.js";import{p as he,b as Vt,i as Ne,s as Ps,a as Vn,c as Rs,d as Qi}from"../chunks/BegJfVpv.js";import{o as _t,a as Ai,w as zn,g as ea}from"../chunks/Bs-cm-Ka.js";let ta=!1;function Ns(){ta||(ta=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}let tr=null;function kt(e,t){return t}function ks(e,t,r,o){for(var a=[],n=t.length,s=0;s<n;s++)ss(t[s].e,a,!0);var u=n>0&&a.length===0&&r!==null;if(u){var c=r.parentNode;ls(c),c.append(r),o.clear(),Ot(e,t[0].prev,t[n-1].next)}us(a,()=>{for(var d=0;d<n;d++){var l=t[d];u||(o.delete(l.k),Ot(e,l.prev,l.next)),cs(l.e,!u)}})}function tt(e,t,r,o,a,n=null){var s=e,u={flags:t,items:new Map,first:null},c=(t&Qa)!==0;if(c){var d=e;s=et?Ur(hs(d)):d.appendChild(vs())}et&&ns();var l=null,v=!1,f=on(()=>{var i=r();return Ja(i)?i:i==null?[]:ja(i)});rs(()=>{var i=S(f),h=i.length;if(v&&h===0)return;v=h===0;let g=!1;if(et){var m=s.data===is;m!==(h===0)&&(s=Zi(),Ur(s),Gr(!1),g=!0)}if(et){for(var y=null,E,b=0;b<h;b++){if(gn.nodeType===8&&gn.data===as){s=gn,g=!0,Gr(!1);break}var w=i[b],p=o(w,b);E=no(gn,u,y,null,w,p,b,a,t,r),u.items.set(p,E),y=E}h>0&&Ur(Zi())}et||Ls(i,u,s,a,t,o,r),n!==null&&(h===0?l?qa(l):l=Ka(()=>n(s)):l!==null&&os(l,()=>{l=null})),g&&Gr(!0),S(f)}),et&&(s=gn)}function Ls(e,t,r,o,a,n,s){var N,P,R,O;var u=(a&gs)!==0,c=(a&(Si|Ti))!==0,d=e.length,l=t.items,v=t.first,f=v,i,h=null,g,m=[],y=[],E,b,w,p;if(u)for(p=0;p<d;p+=1)E=e[p],b=n(E,p),w=l.get(b),w!==void 0&&((N=w.a)==null||N.measure(),(g??(g=new Set)).add(w));for(p=0;p<d;p+=1){if(E=e[p],b=n(E,p),w=l.get(b),w===void 0){var T=f?f.e.nodes_start:r;h=no(T,t,h,h===null?t.first:h.next,E,b,p,o,a,s),l.set(b,h),m=[],y=[],f=h.next;continue}if(c&&Fs(w,E,p,a),(w.e.f&Vr)!==0&&(qa(w.e),u&&((P=w.a)==null||P.unfix(),(g??(g=new Set)).delete(w))),w!==f){if(i!==void 0&&i.has(w)){if(m.length<y.length){var A=y[0],x;h=A.prev;var M=m[0],C=m[m.length-1];for(x=0;x<m.length;x+=1)na(m[x],A,r);for(x=0;x<y.length;x+=1)i.delete(y[x]);Ot(t,M.prev,C.next),Ot(t,h,M),Ot(t,C,A),f=A,h=C,p-=1,m=[],y=[]}else i.delete(w),na(w,f,r),Ot(t,w.prev,w.next),Ot(t,w,h===null?t.first:h.next),Ot(t,h,w),h=w;continue}for(m=[],y=[];f!==null&&f.k!==b;)(f.e.f&Vr)===0&&(i??(i=new Set)).add(f),y.push(f),f=f.next;if(f===null)continue;w=f}m.push(w),h=w,f=w.next}if(f!==null||i!==void 0){for(var D=i===void 0?[]:ja(i);f!==null;)(f.e.f&Vr)===0&&D.push(f),f=f.next;var _=D.length;if(_>0){var I=(a&Qa)!==0&&d===0?r:null;if(u){for(p=0;p<_;p+=1)(R=D[p].a)==null||R.measure();for(p=0;p<_;p+=1)(O=D[p].a)==null||O.fix()}ks(t,D,I,l)}}u&&eo(()=>{var L;if(g!==void 0)for(w of g)(L=w.a)==null||L.apply()}),cr.first=t.first&&t.first.e,cr.last=h&&h.e}function Fs(e,t,r,o){(o&Si)!==0&&qi(e.v,t),(o&Ti)!==0?qi(e.i,r):e.i=r}function no(e,t,r,o,a,n,s,u,c,d){var l=tr,v=(c&Si)!==0,f=(c&fs)===0,i=v?f?$(a):ur(a):a,h=(c&Ti)===0?s:ur(s),g={i:h,v:i,k:n,a:null,e:null,prev:r,next:o};tr=g;try{return g.e=Ka(()=>u(e,i,h,d),et),g.e.prev=r&&r.e,g.e.next=o&&o.e,r===null?t.first=g:(r.next=g,r.e.next=g.e),o!==null&&(o.prev=g,o.e.prev=g.e),g}finally{tr=l}}function na(e,t,r){for(var o=e.next?e.next.e.nodes_start:r,a=t?t.e.nodes_start:r,n=e.e.nodes_start;n!==o;){var s=ds(n);a.before(n),n=s}}function Ot(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function bi(e,t,r){Ft(()=>{var o=to(()=>t(e,r==null?void 0:r())||{});if(r&&(o!=null&&o.update)){var a=!1,n={};Ei(()=>{var s=r();fr(s),a&&ms(n,s)&&(n=s,o.update(s))}),a=!0}if(o!=null&&o.destroy)return()=>o.destroy()})}const ra=[...` 	
\r\fÂ \v\uFEFF`];function Hs(e,t,r){var o=e==null?"":""+e;if(t&&(o=o?o+" "+t:t),r){for(var a in r)if(r[a])o=o?o+" "+a:a;else if(o.length)for(var n=a.length,s=0;(s=o.indexOf(a,s))>=0;){var u=s+n;(s===0||ra.includes(o[s-1]))&&(u===o.length||ra.includes(o[u]))?o=(s===0?"":o.substring(0,s))+o.substring(u+1):s=u}}return o===""?null:o}function Bs(e,t){return e==null?null:String(e)}function Xt(e,t,r,o,a,n){var s=e.__className;if(et||s!==r||s===void 0){var u=Hs(r,o,n);(!et||u!==e.getAttribute("class"))&&(u==null?e.removeAttribute("class"):t?e.className=u:e.setAttribute("class",u)),e.__className=r}else if(n&&a!==n)for(var c in n){var d=!!n[c];(a==null||d!==!!a[c])&&e.classList.toggle(c,d)}return n}function de(e,t,r,o){var a=e.__style;if(et||a!==t){var n=Bs(t);(!et||n!==e.getAttribute("style"))&&(n==null?e.removeAttribute("style"):e.style.cssText=n),e.__style=t}return o}const $s=Symbol("is custom element"),Ws=Symbol("is html");function Us(e){if(et){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var o=e.value;me(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var a=e.checked;me(e,"checked",null),e.checked=a}}};e.__on_r=r,Ts(r),Ns()}}function Gs(e,t){var r=ro(e);r.checked!==(r.checked=t??void 0)&&(e.checked=t)}function me(e,t,r,o){var a=ro(e);et&&(a[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||a[t]!==(a[t]=r)&&(t==="loading"&&(e[ps]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Vs(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function ro(e){return e.__attributes??(e.__attributes={[$s]:e.nodeName.includes("-"),[Ws]:e.namespaceURI===ys})}var ia=new Map;function Vs(e){var t=ia.get(e.nodeName);if(t)return t;ia.set(e.nodeName,t=[]);for(var r,o=e,a=Element.prototype;a!==o;){r=ws(o);for(var n in r)r[n].set&&t.push(n);o=xs(o)}return t}const zs=()=>performance.now(),mt={tick:e=>requestAnimationFrame(e),now:()=>zs(),tasks:new Set};function io(){const e=mt.now();mt.tasks.forEach(t=>{t.c(e)||(mt.tasks.delete(t),t.f())}),mt.tasks.size!==0&&mt.tick(io)}function ao(e){let t;return mt.tasks.size===0&&mt.tick(io),{promise:new Promise(r=>{mt.tasks.add(t={c:e,f:r})}),abort(){mt.tasks.delete(t)}}}function Yn(e,t){Is(()=>{e.dispatchEvent(new CustomEvent(t))})}function Ys(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function aa(e){const t={},r=e.split(";");for(const o of r){const[a,n]=o.split(":");if(!a||n===void 0)break;const s=Ys(a.trim());t[s]=n.trim()}return t}const Xs=e=>e;function Zs(e,t,r){var o=tr,a,n,s,u=null;o.a??(o.a={element:e,measure(){a=this.element.getBoundingClientRect()},apply(){if(s==null||s.abort(),n=this.element.getBoundingClientRect(),a.left!==n.left||a.right!==n.right||a.top!==n.top||a.bottom!==n.bottom){const c=t()(this.element,{from:a,to:n},r==null?void 0:r());s=dr(this.element,c,void 0,1,()=>{s==null||s.abort(),s=void 0})}},fix(){if(!e.getAnimations().length){var{position:c,width:d,height:l}=getComputedStyle(e);if(c!=="absolute"&&c!=="fixed"){var v=e.style;u={position:v.position,width:v.width,height:v.height,transform:v.transform},v.position="absolute",v.width=d,v.height=l;var f=e.getBoundingClientRect();if(a.left!==f.left||a.top!==f.top){var i=`translate(${a.left-f.left}px, ${a.top-f.top}px)`;v.transform=v.transform?`${v.transform} ${i}`:i}}}},unfix(){if(u){var c=e.style;c.position=u.position,c.width=u.width,c.height=u.height,c.transform=u.transform}}}),o.a.element=e}function oo(e,t,r,o){var a=(e&Cs)!==0,n="both",s,u=t.inert,c=t.style.overflow,d,l;function v(){var m=Ds,y=cr;Ki(null),ji(null);try{return s??(s=r()(t,(o==null?void 0:o())??{},{direction:n}))}finally{Ki(m),ji(y)}}var f={is_global:a,in(){t.inert=u,Yn(t,"introstart"),d=dr(t,v(),l,1,()=>{Yn(t,"introend"),d==null||d.abort(),d=s=void 0,t.style.overflow=c})},out(m){t.inert=!0,Yn(t,"outrostart"),l=dr(t,v(),d,0,()=>{Yn(t,"outroend"),m==null||m()})},stop:()=>{d==null||d.abort(),l==null||l.abort()}},i=cr;if((i.transitions??(i.transitions=[])).push(f),_s){var h=a;if(!h){for(var g=i.parent;g&&(g.f&Es)!==0;)for(;(g=g.parent)&&(g.f&As)===0;);h=!g||(g.f&bs)!==0}h&&Ft(()=>{to(()=>f.in())})}}function dr(e,t,r,o,a){var n=o===1;if(Ss(t)){var s,u=!1;return eo(()=>{if(!u){var m=t({direction:n?"in":"out"});s=dr(e,m,r,o,a)}}),{abort:()=>{u=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return a(),{abort:mn,deactivate:mn,reset:mn,t:()=>o};const{delay:c=0,css:d,tick:l,easing:v=Xs}=t;var f=[];if(n&&r===void 0&&(l&&l(0,1),d)){var i=aa(d(0,1));f.push(i,i)}var h=()=>1-o,g=e.animate(f,{duration:c});return g.onfinish=()=>{var m=(r==null?void 0:r.t())??1-o;r==null||r.abort();var y=o-m,E=t.duration*Math.abs(y),b=[];if(E>0){var w=!1;if(d)for(var p=Math.ceil(E/16.666666666666668),T=0;T<=p;T+=1){var A=m+y*v(T/p),x=aa(d(A,1-A));b.push(x),w||(w=x.overflow==="hidden")}w&&(e.style.overflow="hidden"),h=()=>{var M=g.currentTime;return m+y*v(M/E)},l&&ao(()=>{if(g.playState!=="running")return!1;var M=h();return l(M,1-M),!0})}g=e.animate(b,{duration:E,fill:"forwards"}),g.onfinish=()=>{h=()=>o,l==null||l(o,1-o),a()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=mn)},deactivate:()=>{a=mn},reset:()=>{o===0&&(l==null||l(1,0))},t:()=>h()}}function Xn(e,t,r,o=r){t.addEventListener("input",()=>{o(t[e])}),Ei(()=>{var a=r();if(t[e]!==a)if(a==null){var n=t[e];o(n)}else t[e]=a+""})}function oa(e){return function(...t){var r=t[0];return r.stopPropagation(),e==null?void 0:e.apply(this,t)}}function sa(e,t){var n;var r=(n=e.$$events)==null?void 0:n[t.type],o=Ja(r)?r.slice():r==null?[]:[r];for(var a of o)a.call(this,t)}var qs=Ae('<link rel="preload" as="font" type="font/woff2">'),Ks=Ae('<meta name="description"> <meta name="author" content="The Pudding"> <meta name="news_keywords"> <meta property="og:title"> <meta property="og:site_name" content="Ashley Cai"> <meta property="og:url"> <meta property="og:description"> <meta property="og:type" content="article"> <meta property="og:locale" content="en_US"> <meta property="og:image"> <meta property="og:image:type" content="image/jpeg"> <meta property="og:image:width" content="1200"> <meta property="og:image:height" content="600"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site"> <meta name="twitter:creator" content="@afishley_png"> <meta name="twitter:title"> <meta name="twitter:description"> <meta name="twitter:image:src"> <meta name="robots" content="max-image-preview:large"> <link rel="canonical"> <!>',1);function js(e,t){let r=he(t,"title",8,"Title TK"),o=he(t,"description",8,"Description TK"),a=he(t,"url",8,"https://ashleycai.com"),n=he(t,"keywords",8,""),s=he(t,"preloadFont",24,()=>[]);Os(u=>{var c=Ks(),d=Ze(c),l=re(d,4),v=re(l,2),f=re(v,4),i=re(f,2),h=re(i,6),g=re(h,10),m=re(g,4),y=re(m,2),E=re(y,2),b=re(E,4),w=re(b,2);tt(w,1,s,kt,(p,T)=>{var A=qs();Pe(()=>me(A,"href",S(T))),pe(p,A)}),Pe(()=>{Ms.title=r(),me(d,"content",o()),me(l,"content",n()),me(v,"content",r()),me(f,"content",a()),me(i,"content",o()),me(h,"content",`${a()??""}/assets/social-facebook.jpg`),me(g,"content",a()),me(m,"content",r()),me(y,"content",o()),me(E,"content",`${a()??""}/assets/social-twitter.jpg`),me(b,"href",`${a()??""}/`)}),pe(u,c)})}function nr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Js(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function so(e){let t,r,o;e.length!==2?(t=nr,r=(u,c)=>nr(e(u),c),o=(u,c)=>e(u)-c):(t=e===nr||e===Js?e:Qs,r=e,o=e);function a(u,c,d=0,l=u.length){if(d<l){if(t(c,c)!==0)return l;do{const v=d+l>>>1;r(u[v],c)<0?d=v+1:l=v}while(d<l)}return d}function n(u,c,d=0,l=u.length){if(d<l){if(t(c,c)!==0)return l;do{const v=d+l>>>1;r(u[v],c)<=0?d=v+1:l=v}while(d<l)}return d}function s(u,c,d=0,l=u.length){const v=a(u,c,d,l-1);return v>d&&o(u[v-1],c)>-o(u[v],c)?v-1:v}return{left:a,center:s,right:n}}function Qs(){return 0}function el(e){return e===null?NaN:+e}const tl=so(nr),nl=tl.right;so(el).center;const rl=Math.sqrt(50),il=Math.sqrt(10),al=Math.sqrt(2);function hr(e,t,r){const o=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(o)),n=o/Math.pow(10,a),s=n>=rl?10:n>=il?5:n>=al?2:1;let u,c,d;return a<0?(d=Math.pow(10,-a)/s,u=Math.round(e*d),c=Math.round(t*d),u/d<e&&++u,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*s,u=Math.round(e/d),c=Math.round(t/d),u*d<e&&++u,c*d>t&&--c),c<u&&.5<=r&&r<2?hr(e,t,r*2):[u,c,d]}function ol(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const o=t<e,[a,n,s]=o?hr(t,e,r):hr(e,t,r);if(!(n>=a))return[];const u=n-a+1,c=new Array(u);if(o)if(s<0)for(let d=0;d<u;++d)c[d]=(n-d)/-s;else for(let d=0;d<u;++d)c[d]=(n-d)*s;else if(s<0)for(let d=0;d<u;++d)c[d]=(a+d)/-s;else for(let d=0;d<u;++d)c[d]=(a+d)*s;return c}function ei(e,t,r){return t=+t,e=+e,r=+r,hr(e,t,r)[2]}function sl(e,t,r){t=+t,e=+e,r=+r;const o=t<e,a=o?ei(t,e,r):ei(e,t,r);return(o?-1:1)*(a<0?1/-a:a)}function ll(e){return e}var zr=1,Yr=2,ti=3,Tn=4,la=1e-6;function ul(e){return"translate("+e+",0)"}function cl(e){return"translate(0,"+e+")"}function fl(e){return t=>+e(t)}function dl(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function hl(){return!this.__axis}function lo(e,t){var r=[],o=null,a=null,n=6,s=6,u=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,d=e===zr||e===Tn?-1:1,l=e===Tn||e===Yr?"x":"y",v=e===zr||e===ti?ul:cl;function f(i){var h=o??(t.ticks?t.ticks.apply(t,r):t.domain()),g=a??(t.tickFormat?t.tickFormat.apply(t,r):ll),m=Math.max(n,0)+u,y=t.range(),E=+y[0]+c,b=+y[y.length-1]+c,w=(t.bandwidth?dl:fl)(t.copy(),c),p=i.selection?i.selection():i,T=p.selectAll(".domain").data([null]),A=p.selectAll(".tick").data(h,t).order(),x=A.exit(),M=A.enter().append("g").attr("class","tick"),C=A.select("line"),D=A.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(M),C=C.merge(M.append("line").attr("stroke","currentColor").attr(l+"2",d*n)),D=D.merge(M.append("text").attr("fill","currentColor").attr(l,d*m).attr("dy",e===zr?"0em":e===ti?"0.71em":"0.32em")),i!==p&&(T=T.transition(i),A=A.transition(i),C=C.transition(i),D=D.transition(i),x=x.transition(i).attr("opacity",la).attr("transform",function(_){return isFinite(_=w(_))?v(_+c):this.getAttribute("transform")}),M.attr("opacity",la).attr("transform",function(_){var I=this.parentNode.__axis;return v((I&&isFinite(I=I(_))?I:w(_))+c)})),x.remove(),T.attr("d",e===Tn||e===Yr?s?"M"+d*s+","+E+"H"+c+"V"+b+"H"+d*s:"M"+c+","+E+"V"+b:s?"M"+E+","+d*s+"V"+c+"H"+b+"V"+d*s:"M"+E+","+c+"H"+b),A.attr("opacity",1).attr("transform",function(_){return v(w(_)+c)}),C.attr(l+"2",d*n),D.attr(l,d*m).text(g),p.filter(hl).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Yr?"start":e===Tn?"end":"middle"),p.each(function(){this.__axis=w})}return f.scale=function(i){return arguments.length?(t=i,f):t},f.ticks=function(){return r=Array.from(arguments),f},f.tickArguments=function(i){return arguments.length?(r=i==null?[]:Array.from(i),f):r.slice()},f.tickValues=function(i){return arguments.length?(o=i==null?null:Array.from(i),f):o&&o.slice()},f.tickFormat=function(i){return arguments.length?(a=i,f):a},f.tickSize=function(i){return arguments.length?(n=s=+i,f):n},f.tickSizeInner=function(i){return arguments.length?(n=+i,f):n},f.tickSizeOuter=function(i){return arguments.length?(s=+i,f):s},f.tickPadding=function(i){return arguments.length?(u=+i,f):u},f.offset=function(i){return arguments.length?(c=+i,f):c},f}function vl(e){return lo(ti,e)}function gl(e){return lo(Tn,e)}var ml={value:()=>{}};function Ci(){for(var e=0,t=arguments.length,r={},o;e<t;++e){if(!(o=arguments[e]+"")||o in r||/[\s.]/.test(o))throw new Error("illegal type: "+o);r[o]=[]}return new rr(r)}function rr(e){this._=e}function pl(e,t){return e.trim().split(/^|\s+/).map(function(r){var o="",a=r.indexOf(".");if(a>=0&&(o=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:o}})}rr.prototype=Ci.prototype={constructor:rr,on:function(e,t){var r=this._,o=pl(e+"",r),a,n=-1,s=o.length;if(arguments.length<2){for(;++n<s;)if((a=(e=o[n]).type)&&(a=yl(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++n<s;)if(a=(e=o[n]).type)r[a]=ua(r[a],e.name,t);else if(t==null)for(a in r)r[a]=ua(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new rr(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),o=0,a,n;o<a;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(n=this._[e],o=0,a=n.length;o<a;++o)n[o].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],a=0,n=o.length;a<n;++a)o[a].value.apply(t,r)}};function yl(e,t){for(var r=0,o=e.length,a;r<o;++r)if((a=e[r]).name===t)return a.value}function ua(e,t,r){for(var o=0,a=e.length;o<a;++o)if(e[o].name===t){e[o]=ml,e=e.slice(0,o).concat(e.slice(o+1));break}return r!=null&&e.push({name:t,value:r}),e}var ni="http://www.w3.org/1999/xhtml";const ca={svg:"http://www.w3.org/2000/svg",xhtml:ni,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ir(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),ca.hasOwnProperty(t)?{space:ca[t],local:e}:e}function xl(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===ni&&t.documentElement.namespaceURI===ni?t.createElement(e):t.createElementNS(r,e)}}function wl(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function uo(e){var t=Ir(e);return(t.local?wl:xl)(t)}function Tl(){}function Di(e){return e==null?Tl:function(){return this.querySelector(e)}}function Sl(e){typeof e!="function"&&(e=Di(e));for(var t=this._groups,r=t.length,o=new Array(r),a=0;a<r;++a)for(var n=t[a],s=n.length,u=o[a]=new Array(s),c,d,l=0;l<s;++l)(c=n[l])&&(d=e.call(c,c.__data__,l,n))&&("__data__"in c&&(d.__data__=c.__data__),u[l]=d);return new Ge(o,this._parents)}function co(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function El(){return[]}function fo(e){return e==null?El:function(){return this.querySelectorAll(e)}}function Al(e){return function(){return co(e.apply(this,arguments))}}function bl(e){typeof e=="function"?e=Al(e):e=fo(e);for(var t=this._groups,r=t.length,o=[],a=[],n=0;n<r;++n)for(var s=t[n],u=s.length,c,d=0;d<u;++d)(c=s[d])&&(o.push(e.call(c,c.__data__,d,s)),a.push(c));return new Ge(o,a)}function ho(e){return function(){return this.matches(e)}}function vo(e){return function(t){return t.matches(e)}}var Cl=Array.prototype.find;function Dl(e){return function(){return Cl.call(this.children,e)}}function Ml(){return this.firstElementChild}function _l(e){return this.select(e==null?Ml:Dl(typeof e=="function"?e:vo(e)))}var Il=Array.prototype.filter;function Ol(){return Array.from(this.children)}function Pl(e){return function(){return Il.call(this.children,e)}}function Rl(e){return this.selectAll(e==null?Ol:Pl(typeof e=="function"?e:vo(e)))}function Nl(e){typeof e!="function"&&(e=ho(e));for(var t=this._groups,r=t.length,o=new Array(r),a=0;a<r;++a)for(var n=t[a],s=n.length,u=o[a]=[],c,d=0;d<s;++d)(c=n[d])&&e.call(c,c.__data__,d,n)&&u.push(c);return new Ge(o,this._parents)}function go(e){return new Array(e.length)}function kl(){return new Ge(this._enter||this._groups.map(go),this._parents)}function vr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}vr.prototype={constructor:vr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ll(e){return function(){return e}}function Fl(e,t,r,o,a,n){for(var s=0,u,c=t.length,d=n.length;s<d;++s)(u=t[s])?(u.__data__=n[s],o[s]=u):r[s]=new vr(e,n[s]);for(;s<c;++s)(u=t[s])&&(a[s]=u)}function Hl(e,t,r,o,a,n,s){var u,c,d=new Map,l=t.length,v=n.length,f=new Array(l),i;for(u=0;u<l;++u)(c=t[u])&&(f[u]=i=s.call(c,c.__data__,u,t)+"",d.has(i)?a[u]=c:d.set(i,c));for(u=0;u<v;++u)i=s.call(e,n[u],u,n)+"",(c=d.get(i))?(o[u]=c,c.__data__=n[u],d.delete(i)):r[u]=new vr(e,n[u]);for(u=0;u<l;++u)(c=t[u])&&d.get(f[u])===c&&(a[u]=c)}function Bl(e){return e.__data__}function $l(e,t){if(!arguments.length)return Array.from(this,Bl);var r=t?Hl:Fl,o=this._parents,a=this._groups;typeof e!="function"&&(e=Ll(e));for(var n=a.length,s=new Array(n),u=new Array(n),c=new Array(n),d=0;d<n;++d){var l=o[d],v=a[d],f=v.length,i=Wl(e.call(l,l&&l.__data__,d,o)),h=i.length,g=u[d]=new Array(h),m=s[d]=new Array(h),y=c[d]=new Array(f);r(l,v,g,m,y,i,t);for(var E=0,b=0,w,p;E<h;++E)if(w=g[E]){for(E>=b&&(b=E+1);!(p=m[b])&&++b<h;);w._next=p||null}}return s=new Ge(s,o),s._enter=u,s._exit=c,s}function Wl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ul(){return new Ge(this._exit||this._groups.map(go),this._parents)}function Gl(e,t,r){var o=this.enter(),a=this,n=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?n.remove():r(n),o&&a?o.merge(a).order():a}function Vl(e){for(var t=e.selection?e.selection():e,r=this._groups,o=t._groups,a=r.length,n=o.length,s=Math.min(a,n),u=new Array(a),c=0;c<s;++c)for(var d=r[c],l=o[c],v=d.length,f=u[c]=new Array(v),i,h=0;h<v;++h)(i=d[h]||l[h])&&(f[h]=i);for(;c<a;++c)u[c]=r[c];return new Ge(u,this._parents)}function zl(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var o=e[t],a=o.length-1,n=o[a],s;--a>=0;)(s=o[a])&&(n&&s.compareDocumentPosition(n)^4&&n.parentNode.insertBefore(s,n),n=s);return this}function Yl(e){e||(e=Xl);function t(v,f){return v&&f?e(v.__data__,f.__data__):!v-!f}for(var r=this._groups,o=r.length,a=new Array(o),n=0;n<o;++n){for(var s=r[n],u=s.length,c=a[n]=new Array(u),d,l=0;l<u;++l)(d=s[l])&&(c[l]=d);c.sort(t)}return new Ge(a,this._parents).order()}function Xl(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Zl(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ql(){return Array.from(this)}function Kl(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var o=e[t],a=0,n=o.length;a<n;++a){var s=o[a];if(s)return s}return null}function jl(){let e=0;for(const t of this)++e;return e}function Jl(){return!this.node()}function Ql(e){for(var t=this._groups,r=0,o=t.length;r<o;++r)for(var a=t[r],n=0,s=a.length,u;n<s;++n)(u=a[n])&&e.call(u,u.__data__,n,a);return this}function eu(e){return function(){this.removeAttribute(e)}}function tu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function nu(e,t){return function(){this.setAttribute(e,t)}}function ru(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function iu(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function au(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function ou(e,t){var r=Ir(e);if(arguments.length<2){var o=this.node();return r.local?o.getAttributeNS(r.space,r.local):o.getAttribute(r)}return this.each((t==null?r.local?tu:eu:typeof t=="function"?r.local?au:iu:r.local?ru:nu)(r,t))}function mo(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function su(e){return function(){this.style.removeProperty(e)}}function lu(e,t,r){return function(){this.style.setProperty(e,t,r)}}function uu(e,t,r){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,r)}}function cu(e,t,r){return arguments.length>1?this.each((t==null?su:typeof t=="function"?uu:lu)(e,t,r??"")):sn(this.node(),e)}function sn(e,t){return e.style.getPropertyValue(t)||mo(e).getComputedStyle(e,null).getPropertyValue(t)}function fu(e){return function(){delete this[e]}}function du(e,t){return function(){this[e]=t}}function hu(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function vu(e,t){return arguments.length>1?this.each((t==null?fu:typeof t=="function"?hu:du)(e,t)):this.node()[e]}function po(e){return e.trim().split(/^|\s+/)}function Mi(e){return e.classList||new yo(e)}function yo(e){this._node=e,this._names=po(e.getAttribute("class")||"")}yo.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function xo(e,t){for(var r=Mi(e),o=-1,a=t.length;++o<a;)r.add(t[o])}function wo(e,t){for(var r=Mi(e),o=-1,a=t.length;++o<a;)r.remove(t[o])}function gu(e){return function(){xo(this,e)}}function mu(e){return function(){wo(this,e)}}function pu(e,t){return function(){(t.apply(this,arguments)?xo:wo)(this,e)}}function yu(e,t){var r=po(e+"");if(arguments.length<2){for(var o=Mi(this.node()),a=-1,n=r.length;++a<n;)if(!o.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?pu:t?gu:mu)(r,t))}function xu(){this.textContent=""}function wu(e){return function(){this.textContent=e}}function Tu(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Su(e){return arguments.length?this.each(e==null?xu:(typeof e=="function"?Tu:wu)(e)):this.node().textContent}function Eu(){this.innerHTML=""}function Au(e){return function(){this.innerHTML=e}}function bu(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Cu(e){return arguments.length?this.each(e==null?Eu:(typeof e=="function"?bu:Au)(e)):this.node().innerHTML}function Du(){this.nextSibling&&this.parentNode.appendChild(this)}function Mu(){return this.each(Du)}function _u(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Iu(){return this.each(_u)}function Ou(e){var t=typeof e=="function"?e:uo(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Pu(){return null}function Ru(e,t){var r=typeof e=="function"?e:uo(e),o=t==null?Pu:typeof t=="function"?t:Di(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)})}function Nu(){var e=this.parentNode;e&&e.removeChild(this)}function ku(){return this.each(Nu)}function Lu(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Fu(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Hu(e){return this.select(e?Fu:Lu)}function Bu(e){return arguments.length?this.property("__data__",e):this.node().__data__}function $u(e){return function(t){e.call(this,t,this.__data__)}}function Wu(e){return e.trim().split(/^|\s+/).map(function(t){var r="",o=t.indexOf(".");return o>=0&&(r=t.slice(o+1),t=t.slice(0,o)),{type:t,name:r}})}function Uu(e){return function(){var t=this.__on;if(t){for(var r=0,o=-1,a=t.length,n;r<a;++r)n=t[r],(!e.type||n.type===e.type)&&n.name===e.name?this.removeEventListener(n.type,n.listener,n.options):t[++o]=n;++o?t.length=o:delete this.__on}}}function Gu(e,t,r){return function(){var o=this.__on,a,n=$u(t);if(o){for(var s=0,u=o.length;s<u;++s)if((a=o[s]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=n,a.options=r),a.value=t;return}}this.addEventListener(e.type,n,r),a={type:e.type,name:e.name,value:t,listener:n,options:r},o?o.push(a):this.__on=[a]}}function Vu(e,t,r){var o=Wu(e+""),a,n=o.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,d=u.length,l;c<d;++c)for(a=0,l=u[c];a<n;++a)if((s=o[a]).type===l.type&&s.name===l.name)return l.value}return}for(u=t?Gu:Uu,a=0;a<n;++a)this.each(u(o[a],t,r));return this}function To(e,t,r){var o=mo(e),a=o.CustomEvent;typeof a=="function"?a=new a(t,r):(a=o.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function zu(e,t){return function(){return To(this,e,t)}}function Yu(e,t){return function(){return To(this,e,t.apply(this,arguments))}}function Xu(e,t){return this.each((typeof t=="function"?Yu:zu)(e,t))}function*Zu(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var o=e[t],a=0,n=o.length,s;a<n;++a)(s=o[a])&&(yield s)}var _i=[null];function Ge(e,t){this._groups=e,this._parents=t}function Bn(){return new Ge([[document.documentElement]],_i)}function qu(){return this}Ge.prototype=Bn.prototype={constructor:Ge,select:Sl,selectAll:bl,selectChild:_l,selectChildren:Rl,filter:Nl,data:$l,enter:kl,exit:Ul,join:Gl,merge:Vl,selection:qu,order:zl,sort:Yl,call:Zl,nodes:ql,node:Kl,size:jl,empty:Jl,each:Ql,attr:ou,style:cu,property:vu,classed:yu,text:Su,html:Cu,raise:Mu,lower:Iu,append:Ou,insert:Ru,remove:ku,clone:Hu,datum:Bu,on:Vu,dispatch:Xu,[Symbol.iterator]:Zu};function gt(e){return typeof e=="string"?new Ge([[document.querySelector(e)]],[document.documentElement]):new Ge([[e]],_i)}function Ku(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ri(e,t){if(e=Ku(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var o=r.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}function fa(e){return typeof e=="string"?new Ge([document.querySelectorAll(e)],[document.documentElement]):new Ge([co(e)],_i)}const ju={passive:!1},_n={capture:!0,passive:!1};function Xr(e){e.stopImmediatePropagation()}function Qt(e){e.preventDefault(),e.stopImmediatePropagation()}function Ju(e){var t=e.document.documentElement,r=gt(e).on("dragstart.drag",Qt,_n);"onselectstart"in t?r.on("selectstart.drag",Qt,_n):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Qu(e,t){var r=e.document.documentElement,o=gt(e).on("dragstart.drag",null);t&&(o.on("click.drag",Qt,_n),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in r?o.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Zn=e=>()=>e;function ii(e,{sourceEvent:t,subject:r,target:o,identifier:a,active:n,x:s,y:u,dx:c,dy:d,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:n,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:l}})}ii.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function ec(e){return!e.ctrlKey&&!e.button}function tc(){return this.parentNode}function nc(e,t){return t??{x:e.x,y:e.y}}function rc(){return navigator.maxTouchPoints||"ontouchstart"in this}function ic(){var e=ec,t=tc,r=nc,o=rc,a={},n=Ci("start","drag","end"),s=0,u,c,d,l,v=0;function f(w){w.on("mousedown.drag",i).filter(o).on("touchstart.drag",m).on("touchmove.drag",y,ju).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function i(w,p){if(!(l||!e.call(this,w,p))){var T=b(this,t.call(this,w,p),w,p,"mouse");T&&(gt(w.view).on("mousemove.drag",h,_n).on("mouseup.drag",g,_n),Ju(w.view),Xr(w),d=!1,u=w.clientX,c=w.clientY,T("start",w))}}function h(w){if(Qt(w),!d){var p=w.clientX-u,T=w.clientY-c;d=p*p+T*T>v}a.mouse("drag",w)}function g(w){gt(w.view).on("mousemove.drag mouseup.drag",null),Qu(w.view,d),Qt(w),a.mouse("end",w)}function m(w,p){if(e.call(this,w,p)){var T=w.changedTouches,A=t.call(this,w,p),x=T.length,M,C;for(M=0;M<x;++M)(C=b(this,A,w,p,T[M].identifier,T[M]))&&(Xr(w),C("start",w,T[M]))}}function y(w){var p=w.changedTouches,T=p.length,A,x;for(A=0;A<T;++A)(x=a[p[A].identifier])&&(Qt(w),x("drag",w,p[A]))}function E(w){var p=w.changedTouches,T=p.length,A,x;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),A=0;A<T;++A)(x=a[p[A].identifier])&&(Xr(w),x("end",w,p[A]))}function b(w,p,T,A,x,M){var C=n.copy(),D=ri(M||T,p),_,I,N;if((N=r.call(w,new ii("beforestart",{sourceEvent:T,target:f,identifier:x,active:s,x:D[0],y:D[1],dx:0,dy:0,dispatch:C}),A))!=null)return _=N.x-D[0]||0,I=N.y-D[1]||0,function P(R,O,L){var B=D,W;switch(R){case"start":a[x]=P,W=s++;break;case"end":delete a[x],--s;case"drag":D=ri(L||O,p),W=s;break}C.call(R,w,new ii(R,{sourceEvent:O,subject:N,target:f,identifier:x,active:W,x:D[0]+_,y:D[1]+I,dx:D[0]-B[0],dy:D[1]-B[1],dispatch:C}),A)}}return f.filter=function(w){return arguments.length?(e=typeof w=="function"?w:Zn(!!w),f):e},f.container=function(w){return arguments.length?(t=typeof w=="function"?w:Zn(w),f):t},f.subject=function(w){return arguments.length?(r=typeof w=="function"?w:Zn(w),f):r},f.touchable=function(w){return arguments.length?(o=typeof w=="function"?w:Zn(!!w),f):o},f.on=function(){var w=n.on.apply(n,arguments);return w===n?f:w},f.clickDistance=function(w){return arguments.length?(v=(w=+w)*w,f):Math.sqrt(v)},f}function Ii(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function So(e,t){var r=Object.create(e.prototype);for(var o in t)r[o]=t[o];return r}function $n(){}var In=.7,gr=1/In,en="\\s*([+-]?\\d+)\\s*",On="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ac=/^#([0-9a-f]{3,8})$/,oc=new RegExp(`^rgb\\(${en},${en},${en}\\)$`),sc=new RegExp(`^rgb\\(${xt},${xt},${xt}\\)$`),lc=new RegExp(`^rgba\\(${en},${en},${en},${On}\\)$`),uc=new RegExp(`^rgba\\(${xt},${xt},${xt},${On}\\)$`),cc=new RegExp(`^hsl\\(${On},${xt},${xt}\\)$`),fc=new RegExp(`^hsla\\(${On},${xt},${xt},${On}\\)$`),da={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ii($n,Zt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ha,formatHex:ha,formatHex8:dc,formatHsl:hc,formatRgb:va,toString:va});function ha(){return this.rgb().formatHex()}function dc(){return this.rgb().formatHex8()}function hc(){return Eo(this).formatHsl()}function va(){return this.rgb().formatRgb()}function Zt(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ac.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ga(t):r===3?new qe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?qn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?qn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oc.exec(e))?new qe(t[1],t[2],t[3],1):(t=sc.exec(e))?new qe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lc.exec(e))?qn(t[1],t[2],t[3],t[4]):(t=uc.exec(e))?qn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=cc.exec(e))?ya(t[1],t[2]/100,t[3]/100,1):(t=fc.exec(e))?ya(t[1],t[2]/100,t[3]/100,t[4]):da.hasOwnProperty(e)?ga(da[e]):e==="transparent"?new qe(NaN,NaN,NaN,0):null}function ga(e){return new qe(e>>16&255,e>>8&255,e&255,1)}function qn(e,t,r,o){return o<=0&&(e=t=r=NaN),new qe(e,t,r,o)}function vc(e){return e instanceof $n||(e=Zt(e)),e?(e=e.rgb(),new qe(e.r,e.g,e.b,e.opacity)):new qe}function ai(e,t,r,o){return arguments.length===1?vc(e):new qe(e,t,r,o??1)}function qe(e,t,r,o){this.r=+e,this.g=+t,this.b=+r,this.opacity=+o}Ii(qe,ai,So($n,{brighter(e){return e=e==null?gr:Math.pow(gr,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?In:Math.pow(In,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qe(zt(this.r),zt(this.g),zt(this.b),mr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ma,formatHex:ma,formatHex8:gc,formatRgb:pa,toString:pa}));function ma(){return`#${Ut(this.r)}${Ut(this.g)}${Ut(this.b)}`}function gc(){return`#${Ut(this.r)}${Ut(this.g)}${Ut(this.b)}${Ut((isNaN(this.opacity)?1:this.opacity)*255)}`}function pa(){const e=mr(this.opacity);return`${e===1?"rgb(":"rgba("}${zt(this.r)}, ${zt(this.g)}, ${zt(this.b)}${e===1?")":`, ${e})`}`}function mr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ut(e){return e=zt(e),(e<16?"0":"")+e.toString(16)}function ya(e,t,r,o){return o<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ut(e,t,r,o)}function Eo(e){if(e instanceof ut)return new ut(e.h,e.s,e.l,e.opacity);if(e instanceof $n||(e=Zt(e)),!e)return new ut;if(e instanceof ut)return e;e=e.rgb();var t=e.r/255,r=e.g/255,o=e.b/255,a=Math.min(t,r,o),n=Math.max(t,r,o),s=NaN,u=n-a,c=(n+a)/2;return u?(t===n?s=(r-o)/u+(r<o)*6:r===n?s=(o-t)/u+2:s=(t-r)/u+4,u/=c<.5?n+a:2-n-a,s*=60):u=c>0&&c<1?0:s,new ut(s,u,c,e.opacity)}function mc(e,t,r,o){return arguments.length===1?Eo(e):new ut(e,t,r,o??1)}function ut(e,t,r,o){this.h=+e,this.s=+t,this.l=+r,this.opacity=+o}Ii(ut,mc,So($n,{brighter(e){return e=e==null?gr:Math.pow(gr,e),new ut(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?In:Math.pow(In,e),new ut(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*t,a=2*r-o;return new qe(Zr(e>=240?e-240:e+120,a,o),Zr(e,a,o),Zr(e<120?e+240:e-120,a,o),this.opacity)},clamp(){return new ut(xa(this.h),Kn(this.s),Kn(this.l),mr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mr(this.opacity);return`${e===1?"hsl(":"hsla("}${xa(this.h)}, ${Kn(this.s)*100}%, ${Kn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xa(e){return e=(e||0)%360,e<0?e+360:e}function Kn(e){return Math.max(0,Math.min(1,e||0))}function Zr(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Oi=e=>()=>e;function pc(e,t){return function(r){return e+r*t}}function yc(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(o){return Math.pow(e+o*t,r)}}function xc(e){return(e=+e)==1?Ao:function(t,r){return r-t?yc(t,r,e):Oi(isNaN(t)?r:t)}}function Ao(e,t){var r=t-e;return r?pc(e,r):Oi(isNaN(e)?t:e)}const pr=function e(t){var r=xc(t);function o(a,n){var s=r((a=ai(a)).r,(n=ai(n)).r),u=r(a.g,n.g),c=r(a.b,n.b),d=Ao(a.opacity,n.opacity);return function(l){return a.r=s(l),a.g=u(l),a.b=c(l),a.opacity=d(l),a+""}}return o.gamma=e,o}(1);function wc(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,o=t.slice(),a;return function(n){for(a=0;a<r;++a)o[a]=e[a]*(1-n)+t[a]*n;return o}}function Tc(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Sc(e,t){var r=t?t.length:0,o=e?Math.min(r,e.length):0,a=new Array(o),n=new Array(r),s;for(s=0;s<o;++s)a[s]=Pi(e[s],t[s]);for(;s<r;++s)n[s]=t[s];return function(u){for(s=0;s<o;++s)n[s]=a[s](u);return n}}function Ec(e,t){var r=new Date;return e=+e,t=+t,function(o){return r.setTime(e*(1-o)+t*o),r}}function lt(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Ac(e,t){var r={},o={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Pi(e[a],t[a]):o[a]=t[a];return function(n){for(a in r)o[a]=r[a](n);return o}}var oi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qr=new RegExp(oi.source,"g");function bc(e){return function(){return e}}function Cc(e){return function(t){return e(t)+""}}function bo(e,t){var r=oi.lastIndex=qr.lastIndex=0,o,a,n,s=-1,u=[],c=[];for(e=e+"",t=t+"";(o=oi.exec(e))&&(a=qr.exec(t));)(n=a.index)>r&&(n=t.slice(r,n),u[s]?u[s]+=n:u[++s]=n),(o=o[0])===(a=a[0])?u[s]?u[s]+=a:u[++s]=a:(u[++s]=null,c.push({i:s,x:lt(o,a)})),r=qr.lastIndex;return r<t.length&&(n=t.slice(r),u[s]?u[s]+=n:u[++s]=n),u.length<2?c[0]?Cc(c[0].x):bc(t):(t=c.length,function(d){for(var l=0,v;l<t;++l)u[(v=c[l]).i]=v.x(d);return u.join("")})}function Pi(e,t){var r=typeof t,o;return t==null||r==="boolean"?Oi(t):(r==="number"?lt:r==="string"?(o=Zt(t))?(t=o,pr):bo:t instanceof Zt?pr:t instanceof Date?Ec:Tc(t)?wc:Array.isArray(t)?Sc:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ac:lt)(e,t)}function Dc(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var wa=180/Math.PI,si={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Co(e,t,r,o,a,n){var s,u,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*r+t*o)&&(r-=e*c,o-=t*c),(u=Math.sqrt(r*r+o*o))&&(r/=u,o/=u,c/=u),e*o<t*r&&(e=-e,t=-t,c=-c,s=-s),{translateX:a,translateY:n,rotate:Math.atan2(t,e)*wa,skewX:Math.atan(c)*wa,scaleX:s,scaleY:u}}var jn;function Mc(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?si:Co(t.a,t.b,t.c,t.d,t.e,t.f)}function _c(e){return e==null||(jn||(jn=document.createElementNS("http://www.w3.org/2000/svg","g")),jn.setAttribute("transform",e),!(e=jn.transform.baseVal.consolidate()))?si:(e=e.matrix,Co(e.a,e.b,e.c,e.d,e.e,e.f))}function Do(e,t,r,o){function a(d){return d.length?d.pop()+" ":""}function n(d,l,v,f,i,h){if(d!==v||l!==f){var g=i.push("translate(",null,t,null,r);h.push({i:g-4,x:lt(d,v)},{i:g-2,x:lt(l,f)})}else(v||f)&&i.push("translate("+v+t+f+r)}function s(d,l,v,f){d!==l?(d-l>180?l+=360:l-d>180&&(d+=360),f.push({i:v.push(a(v)+"rotate(",null,o)-2,x:lt(d,l)})):l&&v.push(a(v)+"rotate("+l+o)}function u(d,l,v,f){d!==l?f.push({i:v.push(a(v)+"skewX(",null,o)-2,x:lt(d,l)}):l&&v.push(a(v)+"skewX("+l+o)}function c(d,l,v,f,i,h){if(d!==v||l!==f){var g=i.push(a(i)+"scale(",null,",",null,")");h.push({i:g-4,x:lt(d,v)},{i:g-2,x:lt(l,f)})}else(v!==1||f!==1)&&i.push(a(i)+"scale("+v+","+f+")")}return function(d,l){var v=[],f=[];return d=e(d),l=e(l),n(d.translateX,d.translateY,l.translateX,l.translateY,v,f),s(d.rotate,l.rotate,v,f),u(d.skewX,l.skewX,v,f),c(d.scaleX,d.scaleY,l.scaleX,l.scaleY,v,f),d=l=null,function(i){for(var h=-1,g=f.length,m;++h<g;)v[(m=f[h]).i]=m.x(i);return v.join("")}}}var Ic=Do(Mc,"px, ","px)","deg)"),Oc=Do(_c,", ",")",")"),ln=0,Sn=0,pn=0,Mo=1e3,yr,En,xr=0,qt=0,Or=0,Pn=typeof performance=="object"&&performance.now?performance:Date,_o=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ri(){return qt||(_o(Pc),qt=Pn.now()+Or)}function Pc(){qt=0}function wr(){this._call=this._time=this._next=null}wr.prototype=Io.prototype={constructor:wr,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Ri():+r)+(t==null?0:+t),!this._next&&En!==this&&(En?En._next=this:yr=this,En=this),this._call=e,this._time=r,li()},stop:function(){this._call&&(this._call=null,this._time=1/0,li())}};function Io(e,t,r){var o=new wr;return o.restart(e,t,r),o}function Rc(){Ri(),++ln;for(var e=yr,t;e;)(t=qt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ln}function Ta(){qt=(xr=Pn.now())+Or,ln=Sn=0;try{Rc()}finally{ln=0,kc(),qt=0}}function Nc(){var e=Pn.now(),t=e-xr;t>Mo&&(Or-=t,xr=e)}function kc(){for(var e,t=yr,r,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:yr=r);En=e,li(o)}function li(e){if(!ln){Sn&&(Sn=clearTimeout(Sn));var t=e-qt;t>24?(e<1/0&&(Sn=setTimeout(Ta,e-Pn.now()-Or)),pn&&(pn=clearInterval(pn))):(pn||(xr=Pn.now(),pn=setInterval(Nc,Mo)),ln=1,_o(Ta))}}function Sa(e,t,r){var o=new wr;return t=t==null?0:+t,o.restart(a=>{o.stop(),e(a+t)},t,r),o}var Lc=Ci("start","end","cancel","interrupt"),Fc=[],Oo=0,Ea=1,ui=2,ir=3,Aa=4,ci=5,ar=6;function Pr(e,t,r,o,a,n){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;Hc(e,r,{name:t,index:o,group:a,on:Lc,tween:Fc,time:n.time,delay:n.delay,duration:n.duration,ease:n.ease,timer:null,state:Oo})}function Ni(e,t){var r=ht(e,t);if(r.state>Oo)throw new Error("too late; already scheduled");return r}function Et(e,t){var r=ht(e,t);if(r.state>ir)throw new Error("too late; already running");return r}function ht(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function Hc(e,t,r){var o=e.__transition,a;o[t]=r,r.timer=Io(n,0,r.time);function n(d){r.state=Ea,r.timer.restart(s,r.delay,r.time),r.delay<=d&&s(d-r.delay)}function s(d){var l,v,f,i;if(r.state!==Ea)return c();for(l in o)if(i=o[l],i.name===r.name){if(i.state===ir)return Sa(s);i.state===Aa?(i.state=ar,i.timer.stop(),i.on.call("interrupt",e,e.__data__,i.index,i.group),delete o[l]):+l<t&&(i.state=ar,i.timer.stop(),i.on.call("cancel",e,e.__data__,i.index,i.group),delete o[l])}if(Sa(function(){r.state===ir&&(r.state=Aa,r.timer.restart(u,r.delay,r.time),u(d))}),r.state=ui,r.on.call("start",e,e.__data__,r.index,r.group),r.state===ui){for(r.state=ir,a=new Array(f=r.tween.length),l=0,v=-1;l<f;++l)(i=r.tween[l].value.call(e,e.__data__,r.index,r.group))&&(a[++v]=i);a.length=v+1}}function u(d){for(var l=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(c),r.state=ci,1),v=-1,f=a.length;++v<f;)a[v].call(e,l);r.state===ci&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=ar,r.timer.stop(),delete o[t];for(var d in o)return;delete e.__transition}}function Bc(e,t){var r=e.__transition,o,a,n=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((o=r[s]).name!==t){n=!1;continue}a=o.state>ui&&o.state<ci,o.state=ar,o.timer.stop(),o.on.call(a?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete r[s]}n&&delete e.__transition}}function $c(e){return this.each(function(){Bc(this,e)})}function Wc(e,t){var r,o;return function(){var a=Et(this,e),n=a.tween;if(n!==r){o=r=n;for(var s=0,u=o.length;s<u;++s)if(o[s].name===t){o=o.slice(),o.splice(s,1);break}}a.tween=o}}function Uc(e,t,r){var o,a;if(typeof r!="function")throw new Error;return function(){var n=Et(this,e),s=n.tween;if(s!==o){a=(o=s).slice();for(var u={name:t,value:r},c=0,d=a.length;c<d;++c)if(a[c].name===t){a[c]=u;break}c===d&&a.push(u)}n.tween=a}}function Gc(e,t){var r=this._id;if(e+="",arguments.length<2){for(var o=ht(this.node(),r).tween,a=0,n=o.length,s;a<n;++a)if((s=o[a]).name===e)return s.value;return null}return this.each((t==null?Wc:Uc)(r,e,t))}function ki(e,t,r){var o=e._id;return e.each(function(){var a=Et(this,o);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return ht(a,o).value[t]}}function Po(e,t){var r;return(typeof t=="number"?lt:t instanceof Zt?pr:(r=Zt(t))?(t=r,pr):bo)(e,t)}function Vc(e){return function(){this.removeAttribute(e)}}function zc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Yc(e,t,r){var o,a=r+"",n;return function(){var s=this.getAttribute(e);return s===a?null:s===o?n:n=t(o=s,r)}}function Xc(e,t,r){var o,a=r+"",n;return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===o?n:n=t(o=s,r)}}function Zc(e,t,r){var o,a,n;return function(){var s,u=r(this),c;return u==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=u+"",s===c?null:s===o&&c===a?n:(a=c,n=t(o=s,u)))}}function qc(e,t,r){var o,a,n;return function(){var s,u=r(this),c;return u==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=u+"",s===c?null:s===o&&c===a?n:(a=c,n=t(o=s,u)))}}function Kc(e,t){var r=Ir(e),o=r==="transform"?Oc:Po;return this.attrTween(e,typeof t=="function"?(r.local?qc:Zc)(r,o,ki(this,"attr."+e,t)):t==null?(r.local?zc:Vc)(r):(r.local?Xc:Yc)(r,o,t))}function jc(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Jc(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Qc(e,t){var r,o;function a(){var n=t.apply(this,arguments);return n!==o&&(r=(o=n)&&Jc(e,n)),r}return a._value=t,a}function ef(e,t){var r,o;function a(){var n=t.apply(this,arguments);return n!==o&&(r=(o=n)&&jc(e,n)),r}return a._value=t,a}function tf(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var o=Ir(e);return this.tween(r,(o.local?Qc:ef)(o,t))}function nf(e,t){return function(){Ni(this,e).delay=+t.apply(this,arguments)}}function rf(e,t){return t=+t,function(){Ni(this,e).delay=t}}function af(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nf:rf)(t,e)):ht(this.node(),t).delay}function of(e,t){return function(){Et(this,e).duration=+t.apply(this,arguments)}}function sf(e,t){return t=+t,function(){Et(this,e).duration=t}}function lf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?of:sf)(t,e)):ht(this.node(),t).duration}function uf(e,t){if(typeof t!="function")throw new Error;return function(){Et(this,e).ease=t}}function cf(e){var t=this._id;return arguments.length?this.each(uf(t,e)):ht(this.node(),t).ease}function ff(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Et(this,e).ease=r}}function df(e){if(typeof e!="function")throw new Error;return this.each(ff(this._id,e))}function hf(e){typeof e!="function"&&(e=ho(e));for(var t=this._groups,r=t.length,o=new Array(r),a=0;a<r;++a)for(var n=t[a],s=n.length,u=o[a]=[],c,d=0;d<s;++d)(c=n[d])&&e.call(c,c.__data__,d,n)&&u.push(c);return new Mt(o,this._parents,this._name,this._id)}function vf(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,o=t.length,a=r.length,n=Math.min(o,a),s=new Array(o),u=0;u<n;++u)for(var c=t[u],d=r[u],l=c.length,v=s[u]=new Array(l),f,i=0;i<l;++i)(f=c[i]||d[i])&&(v[i]=f);for(;u<o;++u)s[u]=t[u];return new Mt(s,this._parents,this._name,this._id)}function gf(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function mf(e,t,r){var o,a,n=gf(t)?Ni:Et;return function(){var s=n(this,e),u=s.on;u!==o&&(a=(o=u).copy()).on(t,r),s.on=a}}function pf(e,t){var r=this._id;return arguments.length<2?ht(this.node(),r).on.on(e):this.each(mf(r,e,t))}function yf(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function xf(){return this.on("end.remove",yf(this._id))}function wf(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Di(e));for(var o=this._groups,a=o.length,n=new Array(a),s=0;s<a;++s)for(var u=o[s],c=u.length,d=n[s]=new Array(c),l,v,f=0;f<c;++f)(l=u[f])&&(v=e.call(l,l.__data__,f,u))&&("__data__"in l&&(v.__data__=l.__data__),d[f]=v,Pr(d[f],t,r,f,d,ht(l,r)));return new Mt(n,this._parents,t,r)}function Tf(e){var t=this._name,r=this._id;typeof e!="function"&&(e=fo(e));for(var o=this._groups,a=o.length,n=[],s=[],u=0;u<a;++u)for(var c=o[u],d=c.length,l,v=0;v<d;++v)if(l=c[v]){for(var f=e.call(l,l.__data__,v,c),i,h=ht(l,r),g=0,m=f.length;g<m;++g)(i=f[g])&&Pr(i,t,r,g,f,h);n.push(f),s.push(l)}return new Mt(n,s,t,r)}var Sf=Bn.prototype.constructor;function Ef(){return new Sf(this._groups,this._parents)}function Af(e,t){var r,o,a;return function(){var n=sn(this,e),s=(this.style.removeProperty(e),sn(this,e));return n===s?null:n===r&&s===o?a:a=t(r=n,o=s)}}function Ro(e){return function(){this.style.removeProperty(e)}}function bf(e,t,r){var o,a=r+"",n;return function(){var s=sn(this,e);return s===a?null:s===o?n:n=t(o=s,r)}}function Cf(e,t,r){var o,a,n;return function(){var s=sn(this,e),u=r(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(e),sn(this,e))),s===c?null:s===o&&c===a?n:(a=c,n=t(o=s,u))}}function Df(e,t){var r,o,a,n="style."+t,s="end."+n,u;return function(){var c=Et(this,e),d=c.on,l=c.value[n]==null?u||(u=Ro(t)):void 0;(d!==r||a!==l)&&(o=(r=d).copy()).on(s,a=l),c.on=o}}function Mf(e,t,r){var o=(e+="")=="transform"?Ic:Po;return t==null?this.styleTween(e,Af(e,o)).on("end.style."+e,Ro(e)):typeof t=="function"?this.styleTween(e,Cf(e,o,ki(this,"style."+e,t))).each(Df(this._id,e)):this.styleTween(e,bf(e,o,t),r).on("end.style."+e,null)}function _f(e,t,r){return function(o){this.style.setProperty(e,t.call(this,o),r)}}function If(e,t,r){var o,a;function n(){var s=t.apply(this,arguments);return s!==a&&(o=(a=s)&&_f(e,s,r)),o}return n._value=t,n}function Of(e,t,r){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,If(e,t,r??""))}function Pf(e){return function(){this.textContent=e}}function Rf(e){return function(){var t=e(this);this.textContent=t??""}}function Nf(e){return this.tween("text",typeof e=="function"?Rf(ki(this,"text",e)):Pf(e==null?"":e+""))}function kf(e){return function(t){this.textContent=e.call(this,t)}}function Lf(e){var t,r;function o(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&kf(a)),t}return o._value=e,o}function Ff(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Lf(e))}function Hf(){for(var e=this._name,t=this._id,r=No(),o=this._groups,a=o.length,n=0;n<a;++n)for(var s=o[n],u=s.length,c,d=0;d<u;++d)if(c=s[d]){var l=ht(c,t);Pr(c,e,r,d,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Mt(o,this._parents,e,r)}function Bf(){var e,t,r=this,o=r._id,a=r.size();return new Promise(function(n,s){var u={value:s},c={value:function(){--a===0&&n()}};r.each(function(){var d=Et(this,o),l=d.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(c)),d.on=t}),a===0&&n()})}var $f=0;function Mt(e,t,r,o){this._groups=e,this._parents=t,this._name=r,this._id=o}function No(){return++$f}var At=Bn.prototype;Mt.prototype={constructor:Mt,select:wf,selectAll:Tf,selectChild:At.selectChild,selectChildren:At.selectChildren,filter:hf,merge:vf,selection:Ef,transition:Hf,call:At.call,nodes:At.nodes,node:At.node,size:At.size,empty:At.empty,each:At.each,on:pf,attr:Kc,attrTween:tf,style:Mf,styleTween:Of,text:Nf,textTween:Ff,remove:xf,tween:Gc,delay:af,duration:lf,ease:cf,easeVarying:df,end:Bf,[Symbol.iterator]:At[Symbol.iterator]};function yn(e){return--e*e*e+1}function Wf(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Uf={time:null,delay:0,duration:250,ease:Wf};function Gf(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function Vf(e){var t,r;e instanceof Mt?(t=e._id,e=e._name):(t=No(),(r=Uf).time=Ri(),e=e==null?null:e+"");for(var o=this._groups,a=o.length,n=0;n<a;++n)for(var s=o[n],u=s.length,c,d=0;d<u;++d)(c=s[d])&&Pr(c,e,t,d,s,r||Gf(c,t));return new Mt(o,this._parents,e,t)}Bn.prototype.interrupt=$c;Bn.prototype.transition=Vf;var ba={},Kr={},jr=34,xn=10,Jr=13;function ko(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function zf(e,t){var r=ko(e);return function(o,a){return t(r(o),a,e)}}function Ca(e){var t=Object.create(null),r=[];return e.forEach(function(o){for(var a in o)a in t||r.push(t[a]=a)}),r}function Ye(e,t){var r=e+"",o=r.length;return o<t?new Array(t-o+1).join(0)+r:r}function Yf(e){return e<0?"-"+Ye(-e,6):e>9999?"+"+Ye(e,6):Ye(e,4)}function Xf(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),o=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Yf(e.getUTCFullYear())+"-"+Ye(e.getUTCMonth()+1,2)+"-"+Ye(e.getUTCDate(),2)+(a?"T"+Ye(t,2)+":"+Ye(r,2)+":"+Ye(o,2)+"."+Ye(a,3)+"Z":o?"T"+Ye(t,2)+":"+Ye(r,2)+":"+Ye(o,2)+"Z":r||t?"T"+Ye(t,2)+":"+Ye(r,2)+"Z":"")}function Zf(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function o(v,f){var i,h,g=a(v,function(m,y){if(i)return i(m,y-1);h=m,i=f?zf(m,f):ko(m)});return g.columns=h||[],g}function a(v,f){var i=[],h=v.length,g=0,m=0,y,E=h<=0,b=!1;v.charCodeAt(h-1)===xn&&--h,v.charCodeAt(h-1)===Jr&&--h;function w(){if(E)return Kr;if(b)return b=!1,ba;var T,A=g,x;if(v.charCodeAt(A)===jr){for(;g++<h&&v.charCodeAt(g)!==jr||v.charCodeAt(++g)===jr;);return(T=g)>=h?E=!0:(x=v.charCodeAt(g++))===xn?b=!0:x===Jr&&(b=!0,v.charCodeAt(g)===xn&&++g),v.slice(A+1,T-1).replace(/""/g,'"')}for(;g<h;){if((x=v.charCodeAt(T=g++))===xn)b=!0;else if(x===Jr)b=!0,v.charCodeAt(g)===xn&&++g;else if(x!==r)continue;return v.slice(A,T)}return E=!0,v.slice(A,h)}for(;(y=w())!==Kr;){for(var p=[];y!==ba&&y!==Kr;)p.push(y),y=w();f&&(p=f(p,m++))==null||i.push(p)}return i}function n(v,f){return v.map(function(i){return f.map(function(h){return l(i[h])}).join(e)})}function s(v,f){return f==null&&(f=Ca(v)),[f.map(l).join(e)].concat(n(v,f)).join(`
`)}function u(v,f){return f==null&&(f=Ca(v)),n(v,f).join(`
`)}function c(v){return v.map(d).join(`
`)}function d(v){return v.map(l).join(e)}function l(v){return v==null?"":v instanceof Date?Xf(v):t.test(v+="")?'"'+v.replace(/"/g,'""')+'"':v}return{parse:o,parseRows:a,format:s,formatBody:u,formatRows:c,formatRow:d,formatValue:l}}var qf=Zf(","),Kf=qf.parse;function jf(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Jf(e,t){return fetch(e,t).then(jf)}function Qf(e){return function(t,r,o){return arguments.length===2&&typeof r=="function"&&(o=r,r=void 0),Jf(t,r).then(function(a){return e(a,o)})}}var Li=Qf(Kf);function ed(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Tr(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,o=e.slice(0,r);return[o.length>1?o[0]+o.slice(2):o,+e.slice(r+1)]}function un(e){return e=Tr(Math.abs(e)),e?e[1]:NaN}function td(e,t){return function(r,o){for(var a=r.length,n=[],s=0,u=e[0],c=0;a>0&&u>0&&(c+u+1>o&&(u=Math.max(1,o-c)),n.push(r.substring(a-=u,a+u)),!((c+=u+1)>o));)u=e[s=(s+1)%e.length];return n.reverse().join(t)}}function nd(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var rd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sr(e){if(!(t=rd.exec(e)))throw new Error("invalid format: "+e);var t;return new Fi({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sr.prototype=Fi.prototype;function Fi(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Fi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function id(e){e:for(var t=e.length,r=1,o=-1,a;r<t;++r)switch(e[r]){case".":o=a=r;break;case"0":o===0&&(o=r),a=r;break;default:if(!+e[r])break e;o>0&&(o=0);break}return o>0?e.slice(0,o)+e.slice(a+1):e}var Lo;function ad(e,t){var r=Tr(e,t);if(!r)return e+"";var o=r[0],a=r[1],n=a-(Lo=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=o.length;return n===s?o:n>s?o+new Array(n-s+1).join("0"):n>0?o.slice(0,n)+"."+o.slice(n):"0."+new Array(1-n).join("0")+Tr(e,Math.max(0,t+n-1))[0]}function Da(e,t){var r=Tr(e,t);if(!r)return e+"";var o=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+o:o.length>a+1?o.slice(0,a+1)+"."+o.slice(a+1):o+new Array(a-o.length+2).join("0")}const Ma={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ed,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Da(e*100,t),r:Da,s:ad,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _a(e){return e}var Ia=Array.prototype.map,Oa=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function od(e){var t=e.grouping===void 0||e.thousands===void 0?_a:td(Ia.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",o=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",n=e.numerals===void 0?_a:nd(Ia.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"â":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(v){v=Sr(v);var f=v.fill,i=v.align,h=v.sign,g=v.symbol,m=v.zero,y=v.width,E=v.comma,b=v.precision,w=v.trim,p=v.type;p==="n"?(E=!0,p="g"):Ma[p]||(b===void 0&&(b=12),w=!0,p="g"),(m||f==="0"&&i==="=")&&(m=!0,f="0",i="=");var T=g==="$"?r:g==="#"&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",A=g==="$"?o:/[%p]/.test(p)?s:"",x=Ma[p],M=/[defgprs%]/.test(p);b=b===void 0?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function C(D){var _=T,I=A,N,P,R;if(p==="c")I=x(D)+I,D="";else{D=+D;var O=D<0||1/D<0;if(D=isNaN(D)?c:x(Math.abs(D),b),w&&(D=id(D)),O&&+D==0&&h!=="+"&&(O=!1),_=(O?h==="("?h:u:h==="-"||h==="("?"":h)+_,I=(p==="s"?Oa[8+Lo/3]:"")+I+(O&&h==="("?")":""),M){for(N=-1,P=D.length;++N<P;)if(R=D.charCodeAt(N),48>R||R>57){I=(R===46?a+D.slice(N+1):D.slice(N))+I,D=D.slice(0,N);break}}}E&&!m&&(D=t(D,1/0));var L=_.length+D.length+I.length,B=L<y?new Array(y-L+1).join(f):"";switch(E&&m&&(D=t(B+D,B.length?y-I.length:1/0),B=""),i){case"<":D=_+D+I+B;break;case"=":D=_+B+D+I;break;case"^":D=B.slice(0,L=B.length>>1)+_+D+I+B.slice(L);break;default:D=B+_+D+I;break}return n(D)}return C.toString=function(){return v+""},C}function l(v,f){var i=d((v=Sr(v),v.type="f",v)),h=Math.max(-8,Math.min(8,Math.floor(un(f)/3)))*3,g=Math.pow(10,-h),m=Oa[8+h/3];return function(y){return i(g*y)+m}}return{format:d,formatPrefix:l}}var Jn,Fo,Ho;sd({thousands:",",grouping:[3],currency:["$",""]});function sd(e){return Jn=od(e),Fo=Jn.format,Ho=Jn.formatPrefix,Jn}function ld(e){return Math.max(0,-un(Math.abs(e)))}function ud(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(un(t)/3)))*3-un(Math.abs(e)))}function cd(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,un(t)-un(e))+1}function fd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function dd(e){return function(){return e}}function hd(e){return+e}var Pa=[0,1];function Jt(e){return e}function fi(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:dd(isNaN(t)?NaN:.5)}function vd(e,t){var r;return e>t&&(r=e,e=t,t=r),function(o){return Math.max(e,Math.min(t,o))}}function gd(e,t,r){var o=e[0],a=e[1],n=t[0],s=t[1];return a<o?(o=fi(a,o),n=r(s,n)):(o=fi(o,a),n=r(n,s)),function(u){return n(o(u))}}function md(e,t,r){var o=Math.min(e.length,t.length)-1,a=new Array(o),n=new Array(o),s=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<o;)a[s]=fi(e[s],e[s+1]),n[s]=r(t[s],t[s+1]);return function(u){var c=nl(e,u,1,o)-1;return n[c](a[c](u))}}function pd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function yd(){var e=Pa,t=Pa,r=Pi,o,a,n,s=Jt,u,c,d;function l(){var f=Math.min(e.length,t.length);return s!==Jt&&(s=vd(e[0],e[f-1])),u=f>2?md:gd,c=d=null,v}function v(f){return f==null||isNaN(f=+f)?n:(c||(c=u(e.map(o),t,r)))(o(s(f)))}return v.invert=function(f){return s(a((d||(d=u(t,e.map(o),lt)))(f)))},v.domain=function(f){return arguments.length?(e=Array.from(f,hd),l()):e.slice()},v.range=function(f){return arguments.length?(t=Array.from(f),l()):t.slice()},v.rangeRound=function(f){return t=Array.from(f),r=Dc,l()},v.clamp=function(f){return arguments.length?(s=f?!0:Jt,l()):s!==Jt},v.interpolate=function(f){return arguments.length?(r=f,l()):r},v.unknown=function(f){return arguments.length?(n=f,v):n},function(f,i){return o=f,a=i,l()}}function xd(){return yd()(Jt,Jt)}function wd(e,t,r,o){var a=sl(e,t,r),n;switch(o=Sr(o??",f"),o.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return o.precision==null&&!isNaN(n=ud(a,s))&&(o.precision=n),Ho(o,s)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(n=cd(a,Math.max(Math.abs(e),Math.abs(t))))&&(o.precision=n-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(n=ld(a))&&(o.precision=n-(o.type==="%")*2);break}}return Fo(o)}function Td(e){var t=e.domain;return e.ticks=function(r){var o=t();return ol(o[0],o[o.length-1],r??10)},e.tickFormat=function(r,o){var a=t();return wd(a[0],a[a.length-1],r??10,o)},e.nice=function(r){r==null&&(r=10);var o=t(),a=0,n=o.length-1,s=o[a],u=o[n],c,d,l=10;for(u<s&&(d=s,s=u,u=d,d=a,a=n,n=d);l-- >0;){if(d=ei(s,u,r),d===c)return o[a]=s,o[n]=u,t(o);if(d>0)s=Math.floor(s/d)*d,u=Math.ceil(u/d)*d;else if(d<0)s=Math.ceil(s*d)/d,u=Math.floor(u*d)/d;else break;c=d}return e},e}function An(){var e=xd();return e.copy=function(){return pd(e,An())},fd.apply(e,arguments),Td(e)}function bn(e,t,r){this.k=e,this.x=t,this.y=r}bn.prototype={constructor:bn,scale:function(e){return e===1?this:new bn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new bn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};bn.prototype;function Ra(e){return Object.prototype.toString.call(e)==="[object Date]"}function Sd(e){return e}function Ct(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function We(e){const t=e-1;return t*t*t+1}function di(e,t){if(e===t||e!==e)return()=>e;const r=typeof e;if(r!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const o=t.map((a,n)=>di(e[n],a));return a=>o.map(n=>n(a))}if(r==="object"){if(!e||!t)throw new Error("Object cannot be null");if(Ra(e)&&Ra(t)){const n=e.getTime(),u=t.getTime()-n;return c=>new Date(n+c*u)}const o=Object.keys(t),a={};return o.forEach(n=>{a[n]=di(e[n],t[n])}),n=>{const s={};return o.forEach(u=>{s[u]=a[u](n)}),s}}if(r==="number"){const o=t-e;return a=>e+a*o}return()=>t}var bt,rn,Ln,Gt;const zi=class zi{constructor(t,r={}){vn(this,bt,ur(void 0));vn(this,rn,ur(void 0));vn(this,Ln);vn(this,Gt,null);ze(this,bt).v=ze(this,rn).v=t,Wr(this,Ln,r)}static of(t,r){const o=new zi(t(),r);return Ei(()=>{o.set(t())}),o}set(t,r){var v;k(ze(this,rn),t);let{delay:o=0,duration:a=400,easing:n=Sd,interpolate:s=di}={...ze(this,Ln),...r};if(a===0)return(v=ze(this,Gt))==null||v.abort(),k(ze(this,bt),t),Promise.resolve();const u=mt.now()+o;let c,d=!1,l=ze(this,Gt);return Wr(this,Gt,ao(f=>{if(f<u)return!0;if(!d){d=!0;const h=ze(this,bt).v;c=s(h,t),typeof a=="function"&&(a=a(h,t)),l==null||l.abort()}const i=f-u;return i>a?(k(ze(this,bt),t),!1):(k(ze(this,bt),c(n(i/a))),!0)})),ze(this,Gt).promise}get current(){return S(ze(this,bt))}get target(){return S(ze(this,rn))}set target(t){this.set(t)}};bt=new WeakMap,rn=new WeakMap,Ln=new WeakMap,Gt=new WeakMap;let Te=zi;var Ed=Ae('<div class="page-container-2 svelte-b0t0g9"><div class="game-container svelte-b0t0g9"><div class="instructions-container svelte-b0t0g9"><div id="game-title" class="svelte-b0t0g9"></div> <div id="instructions" class="svelte-b0t0g9"></div> <div class="tooltip-container svelte-b0t0g9"><div class="hint-button svelte-b0t0g9"><span class="svelte-b0t0g9">(?)</span> <span style="font-size:10px;" class="svelte-b0t0g9"> </span></div> <span class="tooltip-text svelte-b0t0g9">USE A HINT! I WONT JUDGE YOU...</span></div></div> <div class="game-contents svelte-b0t0g9"><div class="scatterplot-container"><svg overflow="visible"></svg></div></div></div></div> <div id="title" class="svelte-b0t0g9"></div>',1);function Ad(e,t){Tt(t,!1);let r="#2F2F2F",o="#e6e6e6",a="#880000",n="#E8FFB7",s=he(t,"gameCounter",12),u=he(t,"transitionHeight",12),c=he(t,"transitionWidth",12),d=0,l=$("");const v=$(new Te(0,{duration:1e3,easing:We}));let f=$(2),i=$(0),h=$();const g=$(new Te(u(),{duration:500,easing:We})),m=$(new Te(c(),{delay:500,duration:500,easing:We}));let y=$(),E=$(500),b=$(500);const w={top:40,right:40,bottom:40,left:40};function p(L){L>=1200?(q(g,S(g).target=650),q(m,S(m).target=700)):L>=900?(q(g,S(g).target=700),q(m,S(m).target=800)):L>=480?(q(g,S(g).target=700),q(m,S(m).target=480),k(E,400)):(q(g,S(g).target=600),q(m,S(m).target=350),k(b,450),k(E,300))}function T(){d=window.innerWidth,p(d)}_t(async()=>{s()==5&&(k(l,"display: flex;"),setTimeout(()=>{ue("title","SYNONYMS",70)},1e3),setTimeout(()=>{ue("title","",70)},2500),setTimeout(()=>{q(v,S(v).target=1),ue("noun","NOUN"),ue("adjective","ADJECTIVE"),ue("short","SHORT"),ue("long","LONG")},3e3),setTimeout(()=>{ue("instructions","HEAT OVER MEDIUM LOW. (4)"),ue("game-title","SYNONYMS")},4e3),setTimeout(()=>{k(i,1)},1e4)),typeof window<"u"&&(T(),await Cn(),window.addEventListener("resize",T));const L=w.left,B=S(E)-w.right,W=S(b)-w.bottom,Q=w.top,G=An().domain([-10,10]).range([L,B]),F=An().domain([-10,10]).range([W,Q]);let H=["","","",""],z=["EXTRA","VIRGIN","OLIVE","OIL"],Y=[["new","other","unused","additional","ancillary","supplemental"],["extra","further","added","special","extraneous","auxiliary"],["tip","more","surplus","optional","needless","supernumerary"],["perk","spare","leftover","adjunct","accessory","appendix"],["plus","reserve","excess","adornment","complement","extension"],["bonus","addition","affix","attachment","appendage","addendum"]],ee=[["pure","fresh","clean","sexless","unsullied","stainless"],["first","chaste","vestal","heatless","undefiled","unspoiled"],["neat","single","prudish","wholesome","virtuous","continent"],["monk","lady","virgin","virgin","monastic","abstinence"],["monk","lady","ascetic","ascetic","celibate","abstinence"],["nun","nun","maiden","maiden","celibate","anchorite"]],oe=[["green","tan","camo","military","blue-green","yellow-green"],["sea","sage","pine","tawny","viridian","chartreuse"],["pea","beryl","sage","kelly","emerald","peacock"],["moss","lime","olive","forest","vegetable","aquamarine"],["jade","drupe","drupe","snack","vegetable","stone fruit"],["fruit","fruit","Olea","Olea","pickle","appetizer"]],ce=[["Wet","slimy","glossy","shiny","slippery","lustrous"],["Slick","smooth","Greasy","Polished","fatty","adipose"],["Art","balm","Butter","Spread","sleek","anointed"],["Wax","rich","tallow","Lotion","Lubricant","Shortening"],["Oil","Ghee","petrol","Fresco","Canvas","Margarine"],["Lard","Lube","Picture","Painting","Pomade","butyraceous"]];const le=An().domain([L,B]).range([0,Y.length-1]),V=An().domain([W,Q]).range([Y.length-1,0]);let j=[{id:1,x:3,y:4,cx:-10,cy:5},{id:2,x:-4,y:-7,cx:-3,cy:-1},{id:3,x:-10,y:9,cx:-1,cy:-3},{id:4,x:7,y:9,cx:-10,cy:-6}];function U(ae){var ne="0123456789abcdef",ve=parseInt(ae);return ve==0||isNaN(ae)?"00":(ve=Math.round(Math.min(Math.max(0,ve),255)),ne.charAt((ve-ve%16)/16)+ne.charAt(ve%16))}function te(ae){return U(ae[0])+U(ae[1])+U(ae[2])}function J(ae){return ae.charAt(0)=="#"?ae.substring(1,7):ae}function se(ae){var ne=[];return ne[0]=parseInt(J(ae).substring(0,2),16),ne[1]=parseInt(J(ae).substring(2,4),16),ne[2]=parseInt(J(ae).substring(4,6),16),ne}function ue(ae,ne,ve=100){let Je=document.getElementById(ae);return new Promise(vt=>{let It=Je.innerHTML,nt=It.length,jt=0;function Bt(){nt>0?(Je.innerHTML=It.substring(0,nt-1),nt--,setTimeout(Bt,ve)):hn()}function hn(){jt<ne.length?(Je.innerHTML+=ne.charAt(jt),jt++,setTimeout(hn,ve)):vt()}Bt()})}function fe(ae,ne,ve){var Je=se(ae),vt=se(ne),It=ve,nt=0,jt=[];for(let hn=0;hn<It;hn++){var Bt=[];nt+=1/It,Bt[0]=Je[0]*nt+(1-nt)*vt[0],Bt[1]=Je[1]*nt+(1-nt)*vt[1],Bt[2]=Je[2]*nt+(1-nt)*vt[2],jt.push(te(Bt))}return jt}let ge=fe(a,o,30),K=!1;const ie=gt(S(y)),xe=vl(G).ticks(5).tickValues([]).tickSize(0),Re=gl(F).ticks(5).tickValues([]).tickSize(0);ie.append("g").attr("transform",`translate(0, ${F(0)})`).call(xe).selectAll("path").each(function(){const ae=gt(this),ne=this.getTotalLength();ae.attr("stroke",r).attr("stroke-width",1).attr("fill","none").attr("stroke-dasharray",ne).attr("stroke-dashoffset",ne).transition().delay(3500).duration(1e3).ease(yn).attr("stroke-dashoffset",0)}),ie.append("g").attr("transform",`translate(${G(0)}, 0)`).call(Re).selectAll("path").each(function(){const ae=gt(this),ne=this.getTotalLength();ae.attr("stroke",r).attr("stroke-width",1).attr("fill","none").attr("stroke-dasharray",ne).attr("stroke-dashoffset",ne).transition().delay(3e3).duration(1e3).ease(yn).attr("stroke-dashoffset",0)}),ie.append("text").attr("x",S(E)/2-14).attr("y",S(b)-22).attr("class","axis-label").attr("fill",r).attr("font-size",10).attr("font-family","ROMMONO").attr("letter-spacing",1).attr("id","noun"),ie.append("text").attr("x",S(E)/2-30).attr("y",30).attr("class","axis-label").attr("fill",r).attr("font-size",10).attr("font-family","ROMMONO").attr("letter-spacing",1).attr("id","adjective"),ie.append("text").attr("x",-4).attr("y",S(b)/2+4).attr("class","axis-label").attr("fill",r).attr("font-size",10).attr("font-family","ROMMONO").attr("letter-spacing",1).attr("id","short"),ie.append("text").attr("x",S(E)-30).attr("y",S(b)/2+4).attr("class","axis-label").attr("fill",r).attr("font-family","ROMMONO").attr("font-size",10).attr("letter-spacing",1).attr("id","long");const be=ic().on("drag",function(ae,ne){const[ve,Je]=ri(ae,ie.node());ne.x=Math.max(-10,Math.min(10,G.invert(ve))),ne.y=Math.max(-10,Math.min(10,F.invert(Je))),gt(this).attr("transform",`translate(${G(ne.x)},${F(ne.y)})`),gt(this).select("text").text(Se(ne.x,ne.y,ne.id).toUpperCase()),K&&gt(this).select("circle").attr("fill",we(ne.x,ne.y,ne.id,ne.cx,ne.cy)).style("filter",`drop-shadow(0px 0px 4px ${we(ne.x,ne.y,ne.id,ne.cx,ne.cy)})`),Kt(H,z)&&(fa(".label-text").transition().delay(500).duration(1e3).attr("fill",n),fa(".scatter-point").transition().delay(500).duration(1e3).attr("fill",n),setTimeout(()=>{q(v,S(v).target=0)},2e3),setTimeout(()=>{u(S(g).target),c(S(m).target),s(6)},3e3))});function Se(ae,ne,ve){return ve==1?(H[ve-1]=Y[Math.round(V(F(ne)))][Math.round(le(G(ae)))],H[ve-1]):ve==2?(H[ve-1]=ee[Math.round(V(F(ne)))][Math.round(le(G(ae)))],H[ve-1]):ve==3?(H[ve-1]=oe[Math.round(V(F(ne)))][Math.round(le(G(ae)))],H[ve-1]):(H[ve-1]=ce[Math.round(V(F(ne)))][Math.round(le(G(ae)))],H[ve-1])}function we(ae,ne,ve,Je,vt){return"#"+ge[Math.round(Me(ae,ne,Je,vt))]}function Me(ae,ne,ve,Je){const vt=ve-ae,It=Je-ne;return Math.sqrt(vt*vt+It*It)}var He=ie.selectAll("circle").data(j),je=He.enter().append("g").attr("transform",function(ae){return`translate(${G(ae.x)},${F(ae.y)})`}).call(be),_e=je.append("circle").attr("class","scatter-point").attr("r",0).attr("stroke","transparent").attr("fill",o).attr("stroke-width",50).style("filter",`drop-shadow(0px 0px 4px ${o})`).transition().delay((ae,ne)=>3e3+ne*100).duration(300).ease(yn).attr("r",7).transition().duration(200).ease(yn).attr("r",5);je.append("text").attr("class","label-text").attr("dy",-16).attr("text-anchor","middle").attr("fill",o).style("filter",`drop-shadow(0px 0px 4px ${o})`).style("opacity",0).text(ae=>Se(ae.x,ae.y,ae.id).toUpperCase()).transition().delay((ae,ne)=>3e3+ne*100).duration(600).ease(yn).style("opacity",1);let ot=0;k(h,function(){if(ot==0)_e.transition().duration(2e3).attr("r",10),je.append("text").attr("dy",function(ae){return 4}).attr("text-anchor","middle").attr("font-size",".7em").attr("font-weight","bold").attr("class","circle-numbers").attr("fill",r).text(function(ae){return ae.id}).attr("opacity",0).transition().duration(2e3).attr("opacity",1),ot++,k(f,1);else if(ot==1){let ae="";_e.transition().duration(2e3).attr("fill",function(ne){return ae=we(ne.x,ne.y,ne.id,ne.cx,ne.cy),ae}).style("filter",`drop-shadow(0px 0px 4px ${ae})`),K=!0,k(f,0)}});function Kt(ae,ne){if(ae.length!==ne.length)return!1;for(let ve=0;ve<ae.length;ve++)if(ae[ve].toUpperCase()!==ne[ve])return!1;return!0}}),wt();var A=Ed(),x=Ze(A),M=Z(x),C=Z(M),D=re(Z(C),4),_=Z(D),I=re(Z(_),2),N=Z(I,!0);X(I),X(_),at(2),X(D),X(C);var P=re(C,2),R=Z(P),O=Z(R);Vt(O,L=>k(y,L),()=>S(y)),X(R),X(P),X(M),X(x),at(2),Pe(()=>{de(x,S(l)),de(M,`--dark-gray: #2F2F2F; --mid-gray: #9A9A9A; --light-gray: #e6e6e6; width:${S(m).current+"px"}; height:${S(g).current+"px"};`),de(D,`opacity: ${S(i)??""}`),dt(N,S(f)),de(P,`opacity: ${S(v).current??""}`),me(O,"width",S(E)),me(O,"height",S(b))}),ye("click",_,function(...L){var B;(B=S(h))==null||B.apply(this,L)}),pe(e,A),St()}function Na(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,o)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Na(Object(r),!0).forEach(function(o){cn(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Na(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Dn(e){"@babel/helpers - typeof";return Dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(e)}function cn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bd(e,t){if(e==null)return{};var r={},o=Object.keys(e),a,n;for(n=0;n<o.length;n++)a=o[n],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Cd(e,t){if(e==null)return{};var r=bd(e,t),o,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Dd(e,t){return _d(e)||Od(e,t)||Hi(e,t)||Rd()}function it(e){return Md(e)||Id(e)||Hi(e)||Pd()}function Md(e){if(Array.isArray(e))return hi(e)}function _d(e){if(Array.isArray(e))return e}function Id(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Od(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o=[],a=!0,n=!1,s,u;try{for(r=r.call(e);!(a=(s=r.next()).done)&&(o.push(s.value),!(t&&o.length===t));a=!0);}catch(c){n=!0,u=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(n)throw u}}return o}}function Hi(e,t){if(e){if(typeof e=="string")return hi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hi(e,t)}}function hi(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function Pd(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rd(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wn(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Hi(e))||t){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,s=!1,u;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return n=c.done,c},e:function(c){s=!0,u=c},f:function(){try{!n&&r.return!=null&&r.return()}finally{if(s)throw u}}}}var Nd="finalize",kd="consider";function fn(e,t,r){e.dispatchEvent(new CustomEvent(Nd,{detail:{items:t,info:r}}))}function Ht(e,t,r){e.dispatchEvent(new CustomEvent(kd,{detail:{items:t,info:r}}))}var Rr="draggedEntered",Un="draggedLeft",Nr="draggedOverIndex",Bi="draggedLeftDocument",Ar={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Ld(e,t,r){e.dispatchEvent(new CustomEvent(Rr,{detail:{indexObj:t,draggedEl:r}}))}function Fd(e,t,r){e.dispatchEvent(new CustomEvent(Un,{detail:{draggedEl:t,type:Ar.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function Hd(e,t){e.dispatchEvent(new CustomEvent(Un,{detail:{draggedEl:t,type:Ar.OUTSIDE_OF_ANY}}))}function Bd(e,t,r){e.dispatchEvent(new CustomEvent(Nr,{detail:{indexObj:t,draggedEl:r}}))}function $d(e){window.dispatchEvent(new CustomEvent(Bi,{detail:{draggedEl:e}}))}var Ue={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Rr,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Nr,DRAGGED_LEFT:Un,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},Ke={POINTER:"pointer",KEYBOARD:"keyboard"},kr="isDndShadowItem",Lr="data-is-dnd-shadow-item-internal",Wd="data-is-dnd-shadow-item-hint",Ud="id:dnd-shadow-placeholder-0000",Gd="dnd-action-dragged-el",ke="id",vi=0;function Bo(){vi++}function $o(){if(vi===0)throw new Error("Bug! trying to decrement when there are no dropzones");vi--}var $i=typeof window>"u";function gi(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,o=t?Xd(e):e.getBoundingClientRect(),a=getComputedStyle(e),n=a.transform;if(n){var s,u,c,d;if(n.startsWith("matrix3d("))r=n.slice(9,-1).split(/, /),s=+r[0],u=+r[5],c=+r[12],d=+r[13];else if(n.startsWith("matrix("))r=n.slice(7,-1).split(/, /),s=+r[0],u=+r[3],c=+r[4],d=+r[5];else return o;var l=a.transformOrigin,v=o.x-c-(1-s)*parseFloat(l),f=o.y-d-(1-u)*parseFloat(l.slice(l.indexOf(" ")+1)),i=s?o.width/s:e.offsetWidth,h=u?o.height/u:e.offsetHeight;return{x:v,y:f,width:i,height:h,top:f,right:v+i,bottom:f+h,left:v}}else return o}function Wo(e){var t=gi(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Uo(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Go(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Vd(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Fr(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Rn(e){return Go(Uo(e))}function ka(e,t){var r=Rn(e),o=Wo(t);return Fr(r,o)}function zd(e,t){var r=Rn(e),o=Rn(t);return Vd(r,o)}function Yd(e){var t=Uo(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function Xd(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},o=e.parentElement;o&&o!==document.body;){var a=o.getBoundingClientRect(),n=window.getComputedStyle(o).overflowY,s=window.getComputedStyle(o).overflowX,u=n==="scroll"||n==="auto",c=s==="scroll"||s==="auto";u&&(r.top=Math.max(r.top,a.top),r.bottom=Math.min(r.bottom,a.bottom)),c&&(r.left=Math.max(r.left,a.left),r.right=Math.min(r.right,a.right)),o=o.parentElement}return r.top=Math.max(r.top,0),r.bottom=Math.min(r.bottom,window.innerHeight),r.left=Math.max(r.left,0),r.right=Math.min(r.right,window.innerWidth),{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}}var tn;function Wi(){tn=new Map}Wi();function Zd(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(Lr)});if(t>=0)return tn.has(e)||tn.set(e,new Map),tn.get(e).set(t,Wo(e.children[t])),t}function qd(e,t){if(!ka(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var o=Zd(t),a=0;a<r.length;a++)if(ka(e,r[a])){var n=tn.has(t)&&tn.get(t).get(a);return n&&!Fr(Rn(e),n)?{index:o,isProximityBased:!1}:{index:a,isProximityBased:!1}}for(var s=Number.MAX_VALUE,u=void 0,c=0;c<r.length;c++){var d=zd(e,r[c]);d<s&&(s=d,u=c)}return{index:u,isProximityBased:!0}}function Qn(e){return JSON.stringify(e,null,2)}function br(e){if(!e)throw new Error("cannot get depth of a falsy node");return Vo(e,0)}function Vo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?Vo(e.parentElement,t+1):t-1}function Kd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function jd(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var Jd=200,La=10,mi;function Qd(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Jd,o=arguments.length>3?arguments[3]:void 0,a,n,s=!1,u,c=Array.from(t).sort(function(l,v){return br(v)-br(l)});function d(){var l=Rn(e),v=o.multiScrollIfNeeded();if(!v&&u&&Math.abs(u.x-l.x)<La&&Math.abs(u.y-l.y)<La){mi=window.setTimeout(d,r);return}if(Yd(e)){$d(e);return}u=l;var f=!1,i=Wn(c),h;try{for(i.s();!(h=i.n()).done;){var g=h.value;v&&Wi();var m=qd(e,g);if(m!==null){var y=m.index;f=!0,g!==a?(a&&Fd(a,e,g),Ld(g,m,e),a=g):y!==n&&(Bd(g,m,e),n=y);break}}}catch(E){i.e(E)}finally{i.f()}!f&&s&&a?(Hd(a,e),a=void 0,n=void 0,s=!1):s=!0,mi=window.setTimeout(d,r)}d()}function eh(){clearTimeout(mi),Wi()}var wn=30;function th(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(n){var s=e,u=s.directionObj,c=s.stepPx;u&&(n.scrollBy(u.x*c,u.y*c),window.requestAnimationFrame(function(){return r(n)}))}function o(n){return wn-n}function a(n,s){if(!s)return!1;var u=nh(n,s),c=!!e.directionObj;if(u===null)return c&&t(),!1;var d=!1,l=!1;return s.scrollHeight>s.clientHeight&&(u.bottom<wn?(d=!0,e.directionObj={x:0,y:1},e.stepPx=o(u.bottom)):u.top<wn&&(d=!0,e.directionObj={x:0,y:-1},e.stepPx=o(u.top)),!c&&d)||s.scrollWidth>s.clientWidth&&(u.right<wn?(l=!0,e.directionObj={x:1,y:0},e.stepPx=o(u.right)):u.left<wn&&(l=!0,e.directionObj={x:-1,y:0},e.stepPx=o(u.left)),!c&&l)?(r(s),!0):(t(),!1)}return{scrollIfNeeded:a,resetScrolling:t}}function nh(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return Fr(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function rh(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=ah(e),o=Array.from(r).sort(function(c,d){return br(d)-br(c)}),a=th(),n=a.scrollIfNeeded,s=a.resetScrolling;function u(){var c=t();if(!c||!o)return!1;for(var d=o.filter(function(f){return Fr(c,f.getBoundingClientRect())||f===document.scrollingElement}),l=0;l<d.length;l++){var v=n(c,d[l]);if(v)return!0}return!1}return{multiScrollIfNeeded:r.size>0?u:function(){return!1},destroy:function(){return s()}}}function ih(e){if(!e)return[];for(var t=[],r=e;r;){var o=window.getComputedStyle(r),a=o.overflow;a.split(" ").some(function(n){return n.includes("auto")||n.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function ah(e){var t=new Set,r=Wn(e),o;try{for(r.s();!(o=r.n()).done;){var a=o.value;ih(a).forEach(function(n){return t.add(n)})}}catch(n){r.e(n)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function oh(e){var t=e.cloneNode(!0),r=[],o=e.tagName==="SELECT",a=o?[e]:it(e.querySelectorAll("select")),n=Wn(a),s;try{for(n.s();!(s=n.n()).done;){var u=s.value;r.push(u.value)}}catch(b){n.e(b)}finally{n.f()}if(a.length>0)for(var c=o?[t]:it(t.querySelectorAll("select")),d=0;d<c.length;d++){var l=c[d],v=r[d],f=l.querySelector('option[value="'.concat(v,'"'));f&&f.setAttribute("selected",!0)}var i=e.tagName==="CANVAS",h=i?[e]:it(e.querySelectorAll("canvas"));if(h.length>0)for(var g=i?[t]:it(t.querySelectorAll("canvas")),m=0;m<g.length;m++){var y=h[m],E=g[m];E.width=y.width,E.height=y.height,y.width>0&&y.height>0&&E.getContext("2d").drawImage(y,0,0)}return t}var Nn=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),sh=cn({},Nn.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function zo(e){if(!Nn[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(Nn)));return sh[e]}var lh=.2;function $t(e){return"".concat(e," ").concat(lh,"s ease")}function uh(e,t){var r=e.getBoundingClientRect(),o=oh(e);Yo(e,o),o.id=Gd,o.style.position="fixed";var a=r.top,n=r.left;if(o.style.top="".concat(a,"px"),o.style.left="".concat(n,"px"),t){var s=Go(r);a-=s.y-t.y,n-=s.x-t.x,window.setTimeout(function(){o.style.top="".concat(a,"px"),o.style.left="".concat(n,"px")},0)}return o.style.margin="0",o.style.boxSizing="border-box",o.style.height="".concat(r.height,"px"),o.style.width="".concat(r.width,"px"),o.style.transition="".concat($t("top"),", ").concat($t("left"),", ").concat($t("background-color"),", ").concat($t("opacity"),", ").concat($t("color")," "),window.setTimeout(function(){return o.style.transition+=", ".concat($t("width"),", ").concat($t("height"))},0),o.style.zIndex="9999",o.style.cursor="grabbing",o}function ch(e){e.style.cursor="grab"}function fh(e,t,r,o){Yo(t,e);var a=t.getBoundingClientRect(),n=e.getBoundingClientRect(),s=a.width-n.width,u=a.height-n.height;if(s||u){var c={left:(r-n.left)/n.width,top:(o-n.top)/n.height};zo(Nn.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(a.height,"px"),e.style.width="".concat(a.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-c.left*s,"px"),e.style.top="".concat(parseFloat(e.style.top)-c.top*u,"px")}}function Yo(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(o){return o.startsWith("background")||o.startsWith("padding")||o.startsWith("font")||o.startsWith("text")||o.startsWith("align")||o.startsWith("justify")||o.startsWith("display")||o.startsWith("flex")||o.startsWith("border")||o==="opacity"||o==="color"||o==="list-style-type"||zo(Nn.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(o==="width"||o==="height")}).forEach(function(o){return t.style.setProperty(o,r.getPropertyValue(o),r.getPropertyPriority(o))})}function dh(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function Xo(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function hh(e){e.style.visibility="hidden",e.setAttribute(Lr,"true")}function vh(e){e.style.visibility="",e.removeAttribute(Lr)}function or(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(o){var a=t(o);Object.keys(a).forEach(function(n){o.style[n]=a[n]}),r(o).forEach(function(n){return o.classList.add(n)})})}function Cr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(o){var a=t(o);Object.keys(a).forEach(function(n){o.style[n]=""}),r(o).forEach(function(n){return o.classList.contains(n)&&o.classList.remove(n)})})}function gh(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var mh="--any--",ph=100,yh=20,Fa=3,Ha={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Ba="data-is-dnd-original-dragged-item",st,Be,Xe,Hr,Ee,Br,Lt,Fe,Rt,Qe,Pt=!1,Ui=!1,Gi,Gn=!1,sr=[],Mn,ft=new Map,Ce=new Map,Qr=new WeakMap;function xh(e,t){ft.has(t)||ft.set(t,new Set),ft.get(t).has(e)||(ft.get(t).add(e),Bo())}function $a(e,t){ft.get(t).delete(e),$o(),ft.get(t).size===0&&ft.delete(t)}function wh(){var e=ft.get(Hr),t=Wn(e),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;o.addEventListener(Rr,Zo),o.addEventListener(Un,qo),o.addEventListener(Nr,Ko)}}catch(s){t.e(s)}finally{t.f()}window.addEventListener(Bi,dn);var a=Math.max.apply(Math,it(Array.from(e.keys()).map(function(s){return Ce.get(s).dropAnimationDurationMs}))),n=a===0?yh:Math.max(a,ph);Mn=rh(e,function(){return Qe}),Qd(Be,e,n*1.07,Mn)}function Th(){var e=ft.get(Hr),t=Wn(e),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;o.removeEventListener(Rr,Zo),o.removeEventListener(Un,qo),o.removeEventListener(Nr,Ko)}}catch(a){t.e(a)}finally{t.f()}window.removeEventListener(Bi,dn),Mn&&(Mn.destroy(),Mn=void 0),eh()}function $r(e){return e.findIndex(function(t){return!!t[kr]})}function Sh(e){var t;return Er(Er({},e),{},(t={},cn(t,kr,!0),cn(t,ke,Ud),t))}function Zo(e){var t=Ce.get(e.currentTarget),r=t.items,o=t.dropFromOthersDisabled;if(!(o&&e.currentTarget!==Ee)){if(Gn=!1,r=r.filter(function(l){return l[ke]!==Lt[ke]}),Ee!==e.currentTarget){var a=Ce.get(Ee).items,n=a.filter(function(l){return!l[kr]});Ht(Ee,n,{trigger:Ue.DRAGGED_ENTERED_ANOTHER,id:Xe[ke],source:Ke.POINTER})}var s=e.detail.indexObj,u=s.index,c=s.isProximityBased,d=c&&u===e.currentTarget.children.length-1?u+1:u;Fe=e.currentTarget,r.splice(d,0,Lt),Ht(e.currentTarget,r,{trigger:Ue.DRAGGED_ENTERED,id:Xe[ke],source:Ke.POINTER})}}function qo(e){if(Pt){var t=Ce.get(e.currentTarget),r=t.items,o=t.dropFromOthersDisabled;if(!(o&&e.currentTarget!==Ee&&e.currentTarget!==Fe)){var a=it(r),n=$r(a);n!==-1&&a.splice(n,1);var s=Fe;Fe=void 0;var u=e.detail,c=u.type,d=u.theOtherDz;if(c===Ar.OUTSIDE_OF_ANY||c===Ar.LEFT_FOR_ANOTHER&&d!==Ee&&Ce.get(d).dropFromOthersDisabled){Gn=!0,Fe=Ee;var l=s===Ee?a:it(Ce.get(Ee).items);l.splice(Br,0,Lt),Ht(Ee,l,{trigger:Ue.DRAGGED_LEFT_ALL,id:Xe[ke],source:Ke.POINTER})}Ht(e.currentTarget,a,{trigger:Ue.DRAGGED_LEFT,id:Xe[ke],source:Ke.POINTER})}}}function Ko(e){var t=Ce.get(e.currentTarget),r=t.items,o=t.dropFromOthersDisabled;if(!(o&&e.currentTarget!==Ee)){var a=it(r);Gn=!1;var n=e.detail.indexObj.index,s=$r(a);s!==-1&&a.splice(s,1),a.splice(n,0,Lt),Ht(e.currentTarget,a,{trigger:Ue.DRAGGED_OVER_INDEX,id:Xe[ke],source:Ke.POINTER})}}function Dr(e){e.preventDefault();var t=e.touches?e.touches[0]:e;Qe={x:t.clientX,y:t.clientY},Be.style.transform="translate3d(".concat(Qe.x-Rt.x,"px, ").concat(Qe.y-Rt.y,"px, 0)")}function dn(){Ui=!0,window.removeEventListener("mousemove",Dr),window.removeEventListener("touchmove",Dr),window.removeEventListener("mouseup",dn),window.removeEventListener("touchend",dn),Th(),ch(Be),Fe||(Fe=Ee);var e=Ce.get(Fe),t=e.items,r=e.type;Cr(ft.get(r),function(n){return Ce.get(n).dropTargetStyle},function(n){return Ce.get(n).dropTargetClasses});var o=$r(t);o===-1&&Fe===Ee&&(o=Br),t=t.map(function(n){return n[kr]?Xe:n});function a(){Gi(),fn(Fe,t,{trigger:Gn?Ue.DROPPED_OUTSIDE_OF_ANY:Ue.DROPPED_INTO_ZONE,id:Xe[ke],source:Ke.POINTER}),Fe!==Ee&&fn(Ee,Ce.get(Ee).items,{trigger:Ue.DROPPED_INTO_ANOTHER,id:Xe[ke],source:Ke.POINTER});var n=Array.from(Fe.children).find(function(s){return s.getAttribute(Lr)});n&&vh(n),bh()}Ce.get(Fe).dropAnimationDisabled?a():Eh(o,a)}function Eh(e,t){var r=e>-1?gi(Fe.children[e],!1):gi(Fe,!1),o={x:r.left-parseFloat(Be.style.left),y:r.top-parseFloat(Be.style.top)},a=Ce.get(Fe),n=a.dropAnimationDurationMs,s="transform ".concat(n,"ms ease");Be.style.transition=Be.style.transition?Be.style.transition+","+s:s,Be.style.transform="translate3d(".concat(o.x,"px, ").concat(o.y,"px, 0)"),window.setTimeout(t,n)}function Ah(e,t){sr.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){Xo(e),document.body.appendChild(e)})}function bh(){Be.remove(),st.remove(),sr.length&&(sr.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),sr=[]),Be=void 0,st=void 0,Xe=void 0,Hr=void 0,Ee=void 0,Br=void 0,Lt=void 0,Fe=void 0,Rt=void 0,Qe=void 0,Pt=!1,Ui=!1,Gi=void 0,Gn=!1}function Ch(e,t){var r=!1,o={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Ha,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1},a=new Map;function n(){window.addEventListener("mousemove",c,{passive:!1}),window.addEventListener("touchmove",c,{passive:!1,capture:!1}),window.addEventListener("mouseup",u,{passive:!1}),window.addEventListener("touchend",u,{passive:!1})}function s(){window.removeEventListener("mousemove",c),window.removeEventListener("touchmove",c),window.removeEventListener("mouseup",u),window.removeEventListener("touchend",u)}function u(f){if(s(),st=void 0,Rt=void 0,Qe=void 0,f.type==="touchend"){var i=new Event("click",{bubbles:!0,cancelable:!0});f.target.dispatchEvent(i)}}function c(f){f.preventDefault();var i=f.touches?f.touches[0]:f;Qe={x:i.clientX,y:i.clientY},(Math.abs(Qe.x-Rt.x)>=Fa||Math.abs(Qe.y-Rt.y)>=Fa)&&(s(),l())}function d(f){if(!(f.target!==f.currentTarget&&(f.target.value!==void 0||f.target.isContentEditable))&&!f.button&&!Pt){f.preventDefault(),f.stopPropagation();var i=f.touches?f.touches[0]:f;Rt={x:i.clientX,y:i.clientY},Qe=Er({},Rt),st=f.currentTarget,n()}}function l(){Pt=!0;var f=a.get(st);Br=f,Ee=st.parentElement;var i=Ee.closest("dialog")||Ee.closest("[popover]")||Ee.getRootNode(),h=i.body||i,g=o.items,m=o.type,y=o.centreDraggedOnCursor,E=it(g);Xe=E[f],Hr=m,Lt=Sh(Xe),Be=uh(st,y&&Qe),h.appendChild(Be);function b(){st.parentElement?window.requestAnimationFrame(b):(st.setAttribute(Ba,!0),h.appendChild(st),wh(),Xo(st),Lt[ke]=Xe[ke],Be.focus())}window.requestAnimationFrame(b),or(Array.from(ft.get(o.type)).filter(function(w){return w===Ee||!Ce.get(w).dropFromOthersDisabled}),function(w){return Ce.get(w).dropTargetStyle},function(w){return Ce.get(w).dropTargetClasses}),E.splice(f,1,Lt),Gi=gh(Ee),Ht(Ee,E,{trigger:Ue.DRAG_STARTED,id:Xe[ke],source:Ke.POINTER}),window.addEventListener("mousemove",Dr,{passive:!1}),window.addEventListener("touchmove",Dr,{passive:!1,capture:!1}),window.addEventListener("mouseup",dn,{passive:!1}),window.addEventListener("touchend",dn,{passive:!1})}function v(f){var i=f.items,h=i===void 0?void 0:i,g=f.flipDurationMs,m=g===void 0?0:g,y=f.type,E=y===void 0?mh:y,b=f.dragDisabled,w=b===void 0?!1:b,p=f.morphDisabled,T=p===void 0?!1:p,A=f.dropFromOthersDisabled,x=A===void 0?!1:A,M=f.dropTargetStyle,C=M===void 0?Ha:M,D=f.dropTargetClasses,_=D===void 0?[]:D,I=f.transformDraggedElement,N=I===void 0?function(){}:I,P=f.centreDraggedOnCursor,R=P===void 0?!1:P,O=f.dropAnimationDisabled,L=O===void 0?!1:O;o.dropAnimationDurationMs=m,o.type&&E!==o.type&&$a(e,o.type),o.type=E,o.items=it(h),o.dragDisabled=w,o.morphDisabled=T,o.transformDraggedElement=N,o.centreDraggedOnCursor=R,o.dropAnimationDisabled=L,r&&Pt&&!Ui&&(!Kd(C,o.dropTargetStyle)||!jd(_,o.dropTargetClasses))&&(Cr([e],function(){return o.dropTargetStyle},function(){return _}),or([e],function(){return C},function(){return _})),o.dropTargetStyle=C,o.dropTargetClasses=it(_);function B(F,H){return Ce.get(F)?Ce.get(F)[H]:o[H]}r&&Pt&&o.dropFromOthersDisabled!==x&&(x?Cr([e],function(F){return B(F,"dropTargetStyle")},function(F){return B(F,"dropTargetClasses")}):or([e],function(F){return B(F,"dropTargetStyle")},function(F){return B(F,"dropTargetClasses")})),o.dropFromOthersDisabled=x,Ce.set(e,o),xh(e,E);for(var W=Pt?$r(o.items):-1,Q=0;Q<e.children.length;Q++){var G=e.children[Q];if(dh(G,w),Q===W){T||fh(Be,G,Qe.x,Qe.y),o.transformDraggedElement(Be,Xe,Q),hh(G);continue}G.removeEventListener("mousedown",Qr.get(G)),G.removeEventListener("touchstart",Qr.get(G)),w||(G.addEventListener("mousedown",d),G.addEventListener("touchstart",d),Qr.set(G,d)),a.set(G,Q),r||(r=!0)}}return v(t),{update:function(i){v(i)},destroy:function(){function i(){$a(e,Ce.get(e).type),Ce.delete(e)}Pt&&!e.closest("[".concat(Ba,"]"))?Ah(e,i):i()}}}var er,pi={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},jo=(er={},cn(er,pi.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),cn(er,pi.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),er),Dh="dnd-action-aria-alert",Oe;function yi(){Oe||(Oe=document.createElement("div"),function(){Oe.id=Dh,Oe.style.position="fixed",Oe.style.bottom="0",Oe.style.left="0",Oe.style.zIndex="-5",Oe.style.opacity="0",Oe.style.height="0",Oe.style.width="0",Oe.setAttribute("role","alert")}(),document.body.prepend(Oe),Object.entries(jo).forEach(function(e){var t=Dd(e,2),r=t[0],o=t[1];return document.body.prepend(Ih(r,o))}))}function Mh(){return $i?null:(document.readyState==="complete"?yi():window.addEventListener("DOMContentLoaded",yi),Er({},pi))}function _h(){$i||!Oe||(Object.keys(jo).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),Oe.remove(),Oe=void 0)}function Ih(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function nn(e){if(!$i){Oe||yi(),Oe.innerHTML="";var t=document.createTextNode(e);Oe.appendChild(t),Oe.style.display="none",Oe.style.display="inline"}}var Oh="--any--",Wa={outline:"rgba(255, 255, 102, 0.7) solid 2px"},rt=!1,xi,$e,Yt="",Wt,pt,Nt="",Mr=new WeakSet,Ua=new WeakMap,Ga=new WeakMap,wi=new Map,Le=new Map,ct=new Map,_r;function Ph(e,t){ct.size===0&&(_r=Mh(),window.addEventListener("keydown",Jo),window.addEventListener("click",Qo)),ct.has(t)||ct.set(t,new Set),ct.get(t).has(e)||(ct.get(t).add(e),Bo())}function Va(e,t){$e===e&&kn(),ct.get(t).delete(e),$o(),ct.get(t).size===0&&ct.delete(t),ct.size===0&&(window.removeEventListener("keydown",Jo),window.removeEventListener("click",Qo),_r=void 0,_h())}function Jo(e){if(rt)switch(e.key){case"Escape":{kn();break}}}function Qo(){rt&&(Mr.has(document.activeElement)||kn())}function Rh(e){if(rt){var t=e.currentTarget;if(t!==$e){Yt=t.getAttribute("aria-label")||"";var r=Le.get($e),o=r.items,a=o.find(function(v){return v[ke]===pt}),n=o.indexOf(a),s=o.splice(n,1)[0],u=Le.get(t),c=u.items,d=u.autoAriaDisabled;t.getBoundingClientRect().top<$e.getBoundingClientRect().top||t.getBoundingClientRect().left<$e.getBoundingClientRect().left?(c.push(s),d||nn("Moved item ".concat(Nt," to the end of the list ").concat(Yt))):(c.unshift(s),d||nn("Moved item ".concat(Nt," to the beginning of the list ").concat(Yt)));var l=$e;fn(l,o,{trigger:Ue.DROPPED_INTO_ANOTHER,id:pt,source:Ke.KEYBOARD}),fn(t,c,{trigger:Ue.DROPPED_INTO_ZONE,id:pt,source:Ke.KEYBOARD}),$e=t}}}function es(){wi.forEach(function(e,t){var r=e.update;return r(Le.get(t))})}function kn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;Le.get($e).autoAriaDisabled||nn("Stopped dragging item ".concat(Nt)),Mr.has(document.activeElement)&&document.activeElement.blur(),e&&Ht($e,Le.get($e).items,{trigger:Ue.DRAG_STOPPED,id:pt,source:Ke.KEYBOARD}),Cr(ct.get(xi),function(t){return Le.get(t).dropTargetStyle},function(t){return Le.get(t).dropTargetClasses}),Wt=null,pt=null,Nt="",xi=null,$e=null,Yt="",rt=!1,es()}function Nh(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Wa,dropTargetClasses:[],autoAriaDisabled:!1};function o(l,v,f){l.length<=1||l.splice(f,1,l.splice(v,1,l[f])[0])}function a(l){switch(l.key){case"Enter":case" ":{if((l.target.disabled!==void 0||l.target.href||l.target.isContentEditable)&&!Mr.has(l.target))return;l.preventDefault(),l.stopPropagation(),rt?kn():n(l);break}case"ArrowDown":case"ArrowRight":{if(!rt)return;l.preventDefault(),l.stopPropagation();var v=Le.get(e),f=v.items,i=Array.from(e.children),h=i.indexOf(l.currentTarget);h<i.length-1&&(r.autoAriaDisabled||nn("Moved item ".concat(Nt," to position ").concat(h+2," in the list ").concat(Yt)),o(f,h,h+1),fn(e,f,{trigger:Ue.DROPPED_INTO_ZONE,id:pt,source:Ke.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!rt)return;l.preventDefault(),l.stopPropagation();var g=Le.get(e),m=g.items,y=Array.from(e.children),E=y.indexOf(l.currentTarget);E>0&&(r.autoAriaDisabled||nn("Moved item ".concat(Nt," to position ").concat(E," in the list ").concat(Yt)),o(m,E,E-1),fn(e,m,{trigger:Ue.DROPPED_INTO_ZONE,id:pt,source:Ke.KEYBOARD}));break}}}function n(l){u(l.currentTarget),$e=e,xi=r.type,rt=!0;var v=Array.from(ct.get(r.type)).filter(function(i){return i===$e||!Le.get(i).dropFromOthersDisabled});if(or(v,function(i){return Le.get(i).dropTargetStyle},function(i){return Le.get(i).dropTargetClasses}),!r.autoAriaDisabled){var f="Started dragging item ".concat(Nt,". Use the arrow keys to move it within its list ").concat(Yt);v.length>1&&(f+=", or tab to another list in order to move the item into it"),nn(f)}Ht(e,Le.get(e).items,{trigger:Ue.DRAG_STARTED,id:pt,source:Ke.KEYBOARD}),es()}function s(l){rt&&l.currentTarget!==Wt&&(l.stopPropagation(),kn(!1),n(l))}function u(l){var v=Le.get(e),f=v.items,i=Array.from(e.children),h=i.indexOf(l);Wt=l,Wt.tabIndex=r.zoneItemTabIndex,pt=f[h][ke],Nt=i[h].getAttribute("aria-label")||""}function c(l){var v=l.items,f=v===void 0?[]:v,i=l.type,h=i===void 0?Oh:i,g=l.dragDisabled,m=g===void 0?!1:g,y=l.zoneTabIndex,E=y===void 0?0:y,b=l.zoneItemTabIndex,w=b===void 0?0:b,p=l.dropFromOthersDisabled,T=p===void 0?!1:p,A=l.dropTargetStyle,x=A===void 0?Wa:A,M=l.dropTargetClasses,C=M===void 0?[]:M,D=l.autoAriaDisabled,_=D===void 0?!1:D;r.items=it(f),r.dragDisabled=m,r.dropFromOthersDisabled=T,r.zoneTabIndex=E,r.zoneItemTabIndex=w,r.dropTargetStyle=x,r.dropTargetClasses=C,r.autoAriaDisabled=_,r.type&&h!==r.type&&Va(e,r.type),r.type=h,Ph(e,h),_||(e.setAttribute("aria-disabled",m),e.setAttribute("role","list"),e.setAttribute("aria-describedby",m?_r.DND_ZONE_DRAG_DISABLED:_r.DND_ZONE_ACTIVE)),Le.set(e,r),rt?e.tabIndex=e===$e||Wt.contains(e)||r.dropFromOthersDisabled||$e&&r.type!==Le.get($e).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",Rh);for(var I=function(R){var O=e.children[R];Mr.add(O),O.tabIndex=rt?-1:r.zoneItemTabIndex,_||O.setAttribute("role","listitem"),O.removeEventListener("keydown",Ua.get(O)),O.removeEventListener("click",Ga.get(O)),m||(O.addEventListener("keydown",a),Ua.set(O,a),O.addEventListener("click",s),Ga.set(O,s)),rt&&r.items[R][ke]===pt&&(Wt=O,Wt.tabIndex=r.zoneItemTabIndex,O.focus())},N=0;N<e.children.length;N++)I(N)}c(t);var d={update:function(v){c(v)},destroy:function(){Va(e,r.type),Le.delete(e),wi.delete(e)}};return wi.set(e,d),d}var kh=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","dropAnimationDisabled"];function Dt(e,t){if(Lh(e))return{update:function(){},destroy:function(){}};za(t);var r=Ch(e,t),o=Nh(e,t);return{update:function(n){za(n),r.update(n),o.update(n)},destroy:function(){r.destroy(),o.destroy()}}}function Lh(e){return!!e.closest("[".concat(Wd,'="true"]'))}function za(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,o=e.zoneItemTabIndex;e.dropTargetStyle;var a=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor,e.dropAnimationDisabled;var n=Cd(e,kh);if(Object.keys(n).length>0&&console.warn("dndzone will ignore unknown options",n),!t)throw new Error("no 'items' key provided to dndzone");var s=t.find(function(u){return!{}.hasOwnProperty.call(u,ke)});if(s)throw new Error("missing '".concat(ke,"' property for item ").concat(Qn(s)));if(a&&!Array.isArray(a))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(Dn(a),", ").concat(Qn(a)));if(r&&!Ya(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(Dn(r),", ").concat(Qn(r)));if(o&&!Ya(o))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(Dn(o),", ").concat(Qn(o)))}function Ya(e){return!isNaN(e)&&function(t){return(t|0)===t}(parseFloat(e))}function Fh(e,{from:t,to:r},o={}){var{delay:a=0,duration:n=T=>Math.sqrt(T)*120,easing:s=We}=o,u=getComputedStyle(e),c=u.transform==="none"?"":u.transform,[d,l]=u.transformOrigin.split(" ").map(parseFloat);d/=e.clientWidth,l/=e.clientHeight;var v=Hh(e),f=e.clientWidth/r.width/v,i=e.clientHeight/r.height/v,h=t.left+t.width*d,g=t.top+t.height*l,m=r.left+r.width*d,y=r.top+r.height*l,E=(h-m)*f,b=(g-y)*i,w=t.width/r.width,p=t.height/r.height;return{delay:a,duration:typeof n=="function"?n(Math.sqrt(E*E+b*b)):n,easing:s,css:(T,A)=>{var x=A*E,M=A*b,C=T+A*w,D=T+A*p;return`transform: ${c} translate(${x}px, ${M}px) scale(${C}, ${D});`}}}function Hh(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}var Bh=Ae('<div><div class="letter no-select svelte-exnumh"> </div></div>');function Vi(e,t){Tt(t,!1);let r=he(t,"word",8),o=he(t,"correct",8,""),a=he(t,"shouldBounce",12,!1),n=he(t,"index",8,0),s=$(),u=$(!1),c=0;a()?k(s,0):k(s,1),_t(()=>{a()&&(c=n()*100,setTimeout(()=>{k(u,!0),setTimeout(()=>{a(!1),k(u,!1),k(s,1)},600)},c))}),wt();var d=Bh(),l=Z(d),v=Z(l,!0);X(l),X(d),Pe(f=>{Xt(d,1,`square ${o()??""} ${S(u)?"bounce-in":""}`,"svelte-exnumh"),de(d,`--dark-gray: #2F2F2F; --mid-gray: #9A9A9A; --light-gray: #e6e6e6; --correct-green: #E8FFB7; opacity:${S(s)??""}`),dt(v,f)},[()=>r().toUpperCase()],on),pe(e,d),St()}var $h=Ae('<div class="square svelte-4b7z1d"></div>');function Wh(e,t){Tt(t,!1);const r=$();let o=he(t,"items",28,()=>[]),a=he(t,"disableDrag",8,!1),n=he(t,"x",8,0),s=he(t,"y",8,0),u=he(t,"slot",12),c=he(t,"index",8,0);function d(v){o(v.detail.items)}yt(()=>(fr(o()),fr(a())),()=>{k(r,{dropFromOthersDisabled:o().length,items:o(),dropTargetStyle:{},flipDurationMs:100,dropFromOthersDisabled:a()})}),Hn(),wt();var l=$h();tt(l,5,o,v=>v.id,(v,f)=>{Vi(v,{get word(){return S(f).word},shouldBounce:!0,get index(){return c()}})}),X(l),Vt(l,v=>u(v),()=>u()),bi(l,(v,f)=>Dt==null?void 0:Dt(v,f),()=>S(r)),Ft(()=>ye("consider",l,d)),Ft(()=>ye("finalize",l,d)),Pe(()=>de(l,`transform:translate(${n()??""}vw,${s()??""}vh)`)),pe(e,l),St()}new TextEncoder;const Uh=e=>e;function ts(e,{delay:t=0,duration:r=400,easing:o=Uh}={}){const a=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:o,css:n=>`opacity: ${n*a}`}}var Gh=Ae('<div class="slot-container svelte-1chu96y"><!></div>'),Vh=Ae('<div class="tile-container svelte-1chu96y"><div style="z-index: 1; position: relative;"><!></div></div>'),zh=Ae(`<div class="game-container svelte-1chu96y"><div class="instructions-container svelte-1chu96y"><div></div> <div><div id="instructions" class="svelte-1chu96y"></div> <div><div id="hint2" style="display:inline" class="svelte-1chu96y"></div></div> <div id="instructions2" class="svelte-1chu96y"></div></div> <div class="tooltip-container svelte-1chu96y"><div class="hint-button svelte-1chu96y"><span class="svelte-1chu96y">(?)</span> <span class="svelte-1chu96y"> </span></div> <span class="tooltip-text svelte-1chu96y">Use a hint! I won't judge you...</span></div></div> <div id="hint"></div> <div class="grid svelte-1chu96y"></div> <div class="rack svelte-1chu96y"></div> <div class="level-complete"></div></div>`);function Yh(e,t){Tt(t,!1);let r=he(t,"itemsStart",24,()=>[]),o=he(t,"gameNumber",12,0),a=$(!1);const n=$(new Te(500,{duration:500,easing:Ct})),s=$(new Te(500,{duration:500,easing:Ct}));let u=0;function c(P){console.log(P),P>=1200?(q(n,S(n).target=500),q(s,S(s).target=700)):P>=900?(q(n,S(n).target=500),q(s,S(s).target=550)):P>=480?(q(n,S(n).target=500),q(s,S(s).target=450)):(q(n,S(n).target=500),q(s,S(s).target=350))}function d(){u=window.innerWidth,c(u)}let l=$(!1),v=$(0),f=$(""),i=$(1),h=$([]),g=!1,m=$(!1),y=$(!1);function E(P,R,O=100){let L=document.getElementById(P),B=0;P==="hint"&&S(m)===!1&&(k(y,!1),setTimeout(()=>{k(m,!0)},10),B=2e3),setTimeout(()=>new Promise(W=>{let Q=L.innerHTML,G=Q.length,F=0;function H(){G>0?(L.innerHTML=Q.substring(0,G-1),G--,setTimeout(H,O)):z()}function z(){F<R.length?(L.innerHTML+=R.charAt(F),F++,setTimeout(z,O)):(g=!1,W())}H()}),B)}let b=0,w=$(3),p=he(t,"glowCart",12,!1);function T(){o()==0?x(S(h),r())&&(setTimeout(()=>{k(f,"correct"),k(i,0)},700),setTimeout(()=>{k(h,[]),o(1),k(i,1),k(f,""),setTimeout(()=>{k(v,1)},1e4)},3e3)):o()==1?x(S(h),r())?setTimeout(()=>{k(l,!0)},1e3):x(S(h),M(r()))&&(setTimeout(()=>{k(f,"correct"),k(i,0),k(l,!1),k(v,0),E("hint","",50),setTimeout(()=>{S(m)===!0&&k(y,!0),k(m,!1)},3e3)},700),setTimeout(()=>{k(h,[]),o(2),k(i,1),k(f,""),k(w,4),setTimeout(()=>{k(v,1)},1e4)},3e3)):o()==2&&S(h).length==r().length&&setTimeout(()=>{k(l,!0)},1e3)}async function A(){if(S(v)>0){if(g)return;g=!0,o()==1?b==0?(E("hint","HAVE YOU TRIED DIFFERENT ORDERS?"),k(w,1),b++):b==1&&(E("hint","TRY A DIFFERENT ORDER, LIKE WORD LENGTH OR ALPHABETICAL..."),k(w,0),b=0):o()==2&&(b==0?(E("hint2","YOUR ORDER"),k(w,3),b++):b==1?(E("hint","WHAT ELSE CAN ORDER MEAN?"),k(w,2),b++):b==2?(E("hint","HAVE YOU TRIED LOOKING AROUND THE PAGE?"),k(w,1),b++):b==3&&(E("hint","REALLY LOOK!"),p(!0),k(w,0),b=1))}}function x(P,R){if(P.length!==R.length)return!1;for(let O=0;O<P.length;O++)if(P[O].word!==R[O].word)return!1;return!0}function M(P){return[...P].sort((R,O)=>R.word.localeCompare(O.word))}function C(P){k(h,P.detail.items)}const D=100;_t(()=>(typeof window<"u"&&(d(),window.addEventListener("resize",d),k(a,!0)),setTimeout(()=>{E("instructions","PLACE THESE WORDS IN "),setTimeout(()=>{E("hint2","ORDER")},2e3),setTimeout(()=>{E("instructions2",".")},2500)},500),window.addEventListener("mouseup",T),()=>{window.removeEventListener("mouseup",T)})),wt();var _=an(),I=Ze(_);{var N=P=>{var R=zh();de(R,"--dark-gray: #2F2F2F; --mid-gray: #9A9A9A; --light-gray: #e6e6e6; --error-red: #880000;");var O=Z(R),L=re(Z(O),2),B=re(Z(L),2);let W;at(2),X(L);var Q=re(L,2),G=Z(Q),F=re(Z(G),2),H=Z(F,!0);X(F),X(G),at(2),X(Q),X(O);var z=re(O,2);let Y;var ee=re(z,2);tt(ee,5,r,kt,(ce,le,V)=>{var j=Gh(),U=Z(j);const te=on(()=>[S(le)]);Wh(U,{disableDrag:!0,get items(){return S(te)},index:V}),X(j),Pe(()=>de(j,`
			opacity: ${S(i)??""};
			position: absolute;
			left: ${S(s).target*S(le).x/100}px;
			top: ${S(n).target*S(le).y/100}px;
		  `)),pe(ce,j)}),X(ee);var oe=re(ee,2);tt(oe,15,()=>S(h),ce=>ce.id,(ce,le)=>{var V=Vh(),j=Z(V),U=Z(j);Vi(U,{get correct(){return S(f)},get word(){return S(le).word}}),X(j),X(V),Zs(V,()=>Fh,()=>({duration:D})),pe(ce,V)}),X(oe),bi(oe,(ce,le)=>Dt==null?void 0:Dt(ce,le),()=>({items:S(h),flipDurationMs:D,morphDisabled:!0,dropTargetStyle:{}})),Ft(()=>ye("consider",oe,C)),Ft(()=>ye("finalize",oe,C)),at(2),X(R),Pe((ce,le)=>{W=Xt(B,1,"underline-animation svelte-1chu96y",null,W,ce),de(Q,`opacity: ${S(v)??""}`),de(G,S(v)?"cursor: pointer;":""),dt(H,S(w)),Y=Xt(z,1,"svelte-1chu96y",null,Y,le)},[()=>({underlined:S(l)}),()=>({"animate-hint":S(m),"animate-hint-out":S(y)})],on),ye("click",G,A),pe(P,R)};Ne(I,P=>{S(a)&&P(N)})}pe(e,_),St()}var Xh=Ae(`<div class="modal-backdrop svelte-t1drr6"><div class="modal-content svelte-t1drr6"><div class="svelte-t1drr6">Why don't you finish this game before trying out some others?</div></div></div>`),Zh=Ae('<div class="modal-backdrop svelte-t1drr6"><div class="modal-content svelte-t1drr6"><div class="svelte-t1drr6">This is a game by Ashley Cai, Brown|RISD 2025.</div></div></div>'),qh=Ae('<div class="page-container-1 svelte-t1drr6"><div class="cart svelte-t1drr6"><div class="cart-separator svelte-t1drr6"></div> <div class="cart-dropbox svelte-t1drr6"></div></div> <div class="page-contents svelte-t1drr6"><div class="header-container svelte-t1drr6"><div class="logo svelte-t1drr6">*</div> <div class="buttons svelte-t1drr6"><div class="svelte-t1drr6">MORE GAMES</div> <div class="svelte-t1drr6">ABOUT</div> <div class="tooltip-container svelte-t1drr6"><div class="svelte-t1drr6"><svg viewBox="0 0 512 450" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15 15.5H102L116.263 77M164.5 285L116.263 77M116.263 77H492.5L437.5 285H165C147 285 133 298 133 317C133 336 151 345 167 345C183 345 349.333 345 437.5 345" stroke-width="30" stroke-linecap="round" class="svelte-t1drr6"></path><circle cx="194.5" cy="406.5" r="28.5" stroke-width="30" class="svelte-t1drr6"></circle><circle cx="405.5" cy="406.5" r="28.5" stroke-width="30" class="svelte-t1drr6"></circle></svg></div> <span class="tooltip-text svelte-t1drr6">Shhh... try again later</span></div></div></div> <div class="main-content svelte-t1drr6"><!></div> <div class="footer svelte-t1drr6"><div class="separator svelte-t1drr6"></div> <div class="footer-text svelte-t1drr6"><div class="svelte-t1drr6">Â© 2025 HANGONTOEVERYWORD.com. All Rights Reserved.</div> <div>CHECK OUT</div></div></div></div> <!> <!></div>');function Kh(e,t){Tt(t,!1);const r=$(),o=$(),a=$();let n=$(""),s=he(t,"transitionHeight",12),u=he(t,"transitionWidth",12);const c=$(new Te(0,{duration:500,easing:We})),d=$(new Te(0,{duration:500,easing:We})),l=new Te(1,{duration:1e3,easing:We});let v="#2F2F2F",f="#9A9A9A",i="#e6e6e6",h=he(t,"gameCounter",12,0),g=$(0),m=$(0);_t(()=>{k(m,window.innerWidth);const K=()=>{const ie=window.innerWidth,xe=window.innerHeight;q(d,S(d).target=ie),q(c,S(c).target=xe)};K(),window.addEventListener("resize",K)});let y=$("-102vw"),E=$(""),b=$(f),w=$(1);function p(){S(g)==2&&(S(y)=="-92vw"?(k(y,"-102vw"),k(b,f)):(k(y,"-92vw"),k(b,v)))}let T=0,A=[[{id:T++,word:"HANG",x:60,y:20},{id:T++,word:"ON",x:10,y:15},{id:T++,word:"TO",x:66,y:60},{id:T++,word:"EVERY",x:40,y:70},{id:T++,word:"WORD",x:24,y:54}],[{id:T++,word:"KEEP",x:10,y:67},{id:T++,word:"AN",x:65,y:27},{id:T++,word:"EYE",x:34,y:56},{id:T++,word:"OUT",x:24,y:15}],[{id:T++,word:"CART",x:45,y:17},{id:T++,word:"BEFORE",x:7,y:24},{id:T++,word:"THE",x:14,y:63},{id:T++,word:"HORSE",x:65,y:47}]],x=$([]),M=$(!1);function C(){S(x).length==4&&(k(w,0),setTimeout(()=>{k(y,"0")},1e3),setTimeout(()=>{k(E,"top: 0; left: 0; bottom: 0; right: 0;"),k(n,"display: none;"),s(S(c).target),u(S(d).target),h(1)},2e3))}function D(K){k(x,K.detail.items)}const _=100;let I=$(!1),N=$(!1);function P(){k(I,!S(I))}function R(){k(N,!S(N))}function O(){k(I,!1),k(N,!1)}yt(()=>(S(y),S(m)),()=>{k(r,S(y)==="-92vw"?S(m)*.06:S(m)*.005)}),yt(()=>S(r),()=>{k(o,`${S(r)}px`)}),yt(()=>{},()=>{k(a,!1)}),yt(()=>S(x),()=>{k(M,S(x).length===4)}),Hn(),wt();var L=qh(),B=Z(L),W=Z(B),Q=re(W,2);tt(Q,5,()=>S(x),K=>K.id,(K,ie)=>{Vi(K,{get word(){return S(ie).word}})}),X(Q),bi(Q,(K,ie)=>Dt==null?void 0:Dt(K,ie),()=>({items:S(x),flipDurationMs:_,morphDisabled:!0,dropTargetStyle:{}})),Ft(()=>ye("consider",Q,D)),Ft(()=>ye("finalize",Q,D)),X(B);var G=re(B,2),F=Z(G),H=re(Z(F),2),z=Z(H),Y=re(z,2),ee=re(Y,2),oe=Z(ee),ce=Z(oe);X(oe);var le=re(oe,2);X(ee),X(H),X(F);var V=re(F,2),j=Z(V);Yh(j,{get itemsStart(){return A[S(g)]},get glowCart(){return S(a)},set glowCart(K){k(a,K)},get gameNumber(){return S(g)},set gameNumber(K){k(g,K)},$$legacy:!0}),X(V);var U=re(V,2),te=re(Z(U),2),J=re(Z(te),2);X(te),X(U),X(G);var se=re(G,2);{var ue=K=>{var ie=Xh(),xe=Z(ie);X(ie),ye("click",xe,oa(function(Re){sa.call(this,t,Re)})),ye("click",ie,O),pe(K,ie)};Ne(se,K=>{S(I)&&K(ue)})}var fe=re(se,2);{var ge=K=>{var ie=Zh(),xe=Z(ie);X(ie),ye("click",xe,oa(function(Re){sa.call(this,t,Re)})),ye("click",ie,O),pe(K,ie)};Ne(fe,K=>{S(N)&&K(ge)})}X(L),Pe(()=>{de(L,`${S(n)??""} --dark-gray: #2F2F2F; --mid-gray: #9A9A9A; --light-gray: #e6e6e6`),de(B,`right: ${S(y)??""}; opacity:${l.current??""}; height: ${S(c).current+"px"}; width: ${S(d).current+"px"}; ${S(E)??""}`),de(W,`opacity: ${S(w)??""}`),de(Q,`opacity: ${S(w)??""}`),de(G,`opacity: ${S(w)??""}`),de(H,`margin-right:${S(o)??""}`),Xt(ce,0,`cart-button ${S(a)?"glow":""}`,"svelte-t1drr6"),de(ce,`stroke:${(S(a)?i:S(b))??""}`),de(le,`opacity: ${S(g)===2?"0":"1"}`),Xt(J,1,`checkout ${S(M)?"glow":""}`,"svelte-t1drr6"),de(J,`color:${S(b)??""}`)}),ye("click",z,P),ye("click",Y,R),ye("click",oe,p),ye("click",J,C),pe(e,L),St()}var jh=Ae('<div class="win-condition svelte-54kap3"></div>'),Jh=Ae(`<div class="page-container-1 svelte-54kap3"><div class="game-words-container svelte-54kap3"><div class="svelte-54kap3"></div> <div class="game-container-1 svelte-54kap3"><div class="game-content-1 svelte-54kap3"><div class="header-container svelte-54kap3"><div id="game-title" class="svelte-54kap3"></div> <div class="counter svelte-54kap3"><span contenteditable="false" class="svelte-54kap3"></span>/<span contenteditable="false" class="svelte-54kap3"></span></div> <div class="tooltip-container svelte-54kap3"><div class="hint-button svelte-54kap3"><span class="svelte-54kap3">(?)</span> <span style="font-size:10px;" class="svelte-54kap3"> </span></div> <span class="tooltip-text svelte-54kap3">Use a hint! I won't judge you...</span></div></div> <div id="hint" class="svelte-54kap3"></div> <div contenteditable="false" class="svelte-54kap3"><p class="svelte-54kap3"><!></p> <p id="highlighted-para" contenteditable="false" class="svelte-54kap3"></p></div></div></div> <div class="roots svelte-54kap3" contenteditable="false"></div></div></div> <div id="title" class="svelte-54kap3"></div> <!>`,1);function Qh(e,t){Tt(t,!1);let r=he(t,"transitionHeight",12),o=he(t,"transitionWidth",12),a="",n=$(""),s=$(0),u=$(0),c=$(0),d,l=he(t,"gameCounter",12),v=0;const f=$(new Te(0,{duration:1e3,easing:We})),i=$(new Te(r(),{delay:500,duration:500,easing:Ct})),h=$(new Te(o(),{duration:500,easing:Ct})),g=$(new Te(0,{delay:1e3,duration:500,easing:Ct}));function m(U){U>=1200?(q(h,S(h).target=400),q(i,S(i).target=525)):U>=900?(q(h,S(h).target=400),q(i,S(i).target=525)):U>=480?(q(h,S(h).target=400),q(i,S(i).target=525)):(q(h,S(h).target=320),q(i,S(i).target=600)),q(g,S(g).target=10)}function y(){v=window.innerWidth,m(v)}function E(U,te,J=5){const se=document.getElementById(U),ue=te.split(/(\s+)/);se.innerHTML="",ue.forEach((fe,ge)=>{const K=document.createElement("span");if(K.textContent=fe,fe.trim()===""){K.style.whiteSpace="pre",K.style.display="inline-block",se.appendChild(K);return}const ie=Math.floor(Math.random()*60-30),xe=Math.floor(Math.random()*60-30);K.style.opacity=0,K.style.display="inline-block",K.style.transition="opacity 0.4s ease, transform 0.4s ease",K.style.transform=`translate(${ie}px, ${xe}px)`,se.appendChild(K),setTimeout(()=>{K.style.opacity=1,K.style.transform="translate(0px, 0px)"},ge*J)})}_t(()=>{l()==1&&(setTimeout(()=>{M("title","ETYMOLOGY")},1e3),setTimeout(()=>{M("title","")},2500),setTimeout(()=>{q(f,S(f).target=1),setTimeout(()=>{E("highlighted-para","The gnome, capable and congenial, is alone in the immense hospice, impervious is the attenuation of agency. This innate fusion, this adult protagonist, added capacity. Essential is the essence of the command, the quintessential hospitality. There, this agnostic agent click, complete and agile, attended the hospitable agenda. The diagnosis is circumspect, the ignoble circumstance that demand attenuation. Capiche? The top gnome intend not abnegate the capacity of captivating, inciting hostility in the perfunctory agency of the industry. Circa the perennial diagnosis, the plebeian renegade performed the perfuse effusion of essence, the anagogical fusion of physiognomy and genealogy. The plebiscite inflict not confusion; the essence managed circumnavigating the perimeter of congenital antagonism. Adorned in the negligee of ignorance, the plebe manufactured the symmetry of the circumstance. Thereabout, that perfumed hostage diffused the hostility of effusive compliment. The perplexed gnome demanded cryogenic supply, piecemeal, capable of negotiating tender, refunds. The circumstance abated, agonized, confused the hospitality of the adult gnome, instantly. The protagonist atoned, permanently, presently. None ignored the circuit of the metronome, the circumference of isometric supply. Alone, not lonely, the left gnome is capable of the intrinsic introspect, that instant of perspective in the permanent interior. Invert the corner circumstance, yes, and the quintessential one of the introduction is increasingly impervious. Represent the gentile, the genteel, the gentryâyes, the gnome is indigenous of the genre."),a="'The gnome, capable and congenial, is alone in the immense hospice, impervious is the attenuation of agency. This innate fusion, this adult protagonist, added capacity. Essential is the essence of the command, the quintessential hospitality. There, this agnostic agent click, complete and agile, attended the hospitable agenda. The diagnosis is circumspect, the ignoble circumstance that demand attenuation. Capiche? The top gnome intend not abnegate the capacity of captivating, inciting hostility in the perfunctory agency of the industry. Circa the perennial diagnosis, the plebeian renegade performed the perfuse effusion of essence, the anagogical fusion of physiognomy and genealogy. The plebiscite inflict not confusion; the essence managed circumnavigating the perimeter of congenital antagonism. Adorned in the negligee of ignorance, the plebe manufactured the symmetry of the circumstance. Thereabout, that perfumed hostage diffused the hostility of effusive compliment. The perplexed gnome demanded cryogenic supply, piecemeal, capable of negotiating tender, refunds. The circumstance abated, agonized, confused the hospitality of the adult gnome, instantly. The protagonist atoned, permanently, presently. None ignored the circuit of the metronome, the circumference of isometric supply. Alone, not lonely, the left gnome is capable of the intrinsic introspect, that instant of perspective in the permanent interior. Invert the corner circumstance, yes, and the quintessential one of the introduction is increasingly impervious. Represent the gentile, the genteel, the gentryâyes, the gnome is indigenous of the genre.'"},200),setTimeout(()=>{M("game-title","ETYMOLOGY")},400)},3500),setTimeout(()=>{k(c,1)},2e4)),typeof window<"u"&&(y(),window.addEventListener("resize",y)),Li("./cognates.csv").then(function(U){let te=Object.keys(U[0]);d={definition:{},words:{}},te.forEach(J=>{let se=U.map(ue=>ue[J]);d.definition[J]=se.shift(),d.words[J]=se.filter(ue=>ue.trim().toLowerCase()!=="")}),k(u,Object.keys(d.definition).length)})});let b=$(a);function w(){const U=window.getSelection();if(!U.rangeCount)return;const te=U.getRangeAt(0);document.querySelector("#highlighted-para").contains(te.commonAncestorContainer)||U.removeAllRanges(),k(b,p(U==null?void 0:U.toString()))}function p(U){let te=U.replace(/[^\w\s]|_/g,"").replace(/\s+/g," ").split(" ").map(K=>K.trim()).filter(Boolean),J=[],se=[];te.forEach(K=>{let ie=A(K);ie.length>0&&(J=J.concat(ie[1]),se=se.concat(ie[0]))});let ue=[...new Set(se)],fe="";if(k(s,ue.length),ue.forEach(K=>{let ie=d.definition[K];fe=fe+`<div class="root-def"><span class='bold-root'>${K.toUpperCase()}</span><br><span class='root-def-text'>${ie.toUpperCase()}</span></div>`}),k(n,fe),J.length===0)return a.replace(/<span class="highlighted">(.*?)<\/span>/gi,"$1");const ge=new RegExp(`\\b(${J.join("|")})\\b`,"gi");return a.replace(U,`<span class="highlighted">${U}</span>`).replace(ge,K=>`<span class="highlighted">${K}</span>`)}function T(){setTimeout(()=>{q(f,S(f).target=0)},0),setTimeout(()=>{r(S(i).target),o(S(h).target),l(2)},1e3)}function A(U){for(let te in d.words)if(d.words[te].includes(U.toLowerCase()))return[te,d.words[te]];return[]}let x=!1;function M(U,te,J=100){let se=document.getElementById(U);return new Promise(ue=>{let fe=se.innerHTML,ge=fe.length,K=0;function ie(){ge>0?(se.innerHTML=fe.substring(0,ge-1),ge--,setTimeout(ie,J)):xe()}function xe(){K<te.length?(se.innerHTML+=te.charAt(K),K++,setTimeout(xe,J)):(x=!1,ue())}ie()})}let C=0,D=$(2);async function _(){x||(x=!0,C==0?(M("hint","WHAT WORDS AREN'T BEING HIGHLIGHTED?"),k(D,1),C++):C==1&&(M("hint","IS THERE A MESSAGE IN THE UNHIGHLIGHTED WORDS?"),k(D,0),C=0))}Ai(()=>{typeof window<"u"&&window.removeEventListener("resize",y)}),wt();var I=Jh(),N=Ze(I),P=Z(N);de(P,"--dark-gray: #2F2F2F; --mid-gray: #9A9A9A; --light-gray: #e6e6e6; --error-red: #880000");var R=re(Z(P),2),O=Z(R),L=Z(O),B=re(Z(L),2),W=Z(B),Q=re(W,2);X(B);var G=re(B,2),F=Z(G),H=re(Z(F),2),z=Z(H,!0);X(H),X(F),at(2),X(G),X(L);var Y=re(L,4),ee=Z(Y),oe=Z(ee);Ne(oe,U=>{}),X(ee);var ce=re(ee,2);X(Y),X(O),X(R);var le=re(R,2);X(P),X(N);var V=re(N,4);{var j=U=>{var te=jh();ye("click",te,T),pe(U,te)};Ne(V,U=>{l()===1&&U(j)})}Pe(()=>{de(R,` height: ${S(i).current+"px"}; width: ${S(h).current+"px"};`),de(O,`opacity:${S(f).current??""}`),de(G,`opacity: ${S(c)??""}`),dt(z,S(D)),de(le,`opacity:${S(f).current??""}; width: ${S(g)??""}vw`)}),Xn("innerHTML",W,()=>S(s),U=>k(s,U)),Xn("innerHTML",Q,()=>S(u),U=>k(u,U)),ye("click",F,_),ye("mouseup",ce,w),Xn("innerHTML",ce,()=>S(b),U=>k(b,U)),Xn("innerHTML",le,()=>S(n),U=>k(n,U)),pe(e,I),St()}var ev=Fn('<g><circle class="circle svelte-oi0hdq"></circle><text class="venn-circle-label svelte-oi0hdq" text-anchor="middle"></text></g>'),tv=Fn('<text class="overlap-text svelte-oi0hdq" text-anchor="center"> </text>'),nv=Ae("<div> </div>"),rv=Ae(`<div class="page-container-2 svelte-oi0hdq"><div class="game-container svelte-oi0hdq"><div class="game-contents svelte-oi0hdq"><div class="header-container svelte-oi0hdq"><div id="game-title" class="svelte-oi0hdq"></div> <div id="instructions" class="svelte-oi0hdq"></div> <div class="tooltip-container svelte-oi0hdq"><div class="hint-button svelte-oi0hdq"><span class="svelte-oi0hdq">(?)</span> <span style="font-size:10px;" class="svelte-oi0hdq"> </span></div> <span class="tooltip-text svelte-oi0hdq">Use a hint! I won't judge you...</span></div></div> <div id="hint" class="svelte-oi0hdq"></div> <svg class="svelte-oi0hdq"><!><!></svg> <div class="rack svelte-oi0hdq"></div></div></div></div> <div id="title" class="svelte-oi0hdq"></div>`,1);function iv(e,t){Tt(t,!1);const[r,o]=Rs(),a=()=>Vn(S(P),"$circlesData",r),n=()=>Vn(_,"$rackWords",r),s=()=>Vn(L,"$overlaps",r),u=()=>Vn(D,"$greenWords",r);let c="#2F2F2F",d=he(t,"gameCounter",12),l=he(t,"transitionHeight",12),v=he(t,"transitionWidth",12),f=0,i=3,h=0,g=$(!1),m=$();const y=$(new Te(0,{duration:1e3,easing:We})),E=$(new Te(l(),{duration:500,easing:We})),b=$(new Te(v(),{delay:500,duration:500,easing:We}));let w=0,p="",T=$(0),A=$(0);function x(V){console.log(V),S(T)>=1200?(q(E,S(E).target=700),q(b,S(b).target=1e3),h=100,k(T,1e3),k(A,500),w=210):V>=900?(q(E,S(E).target=700),q(b,S(b).target=800),h=100,k(T,800),k(A,k(A,500)),w=210):V>=480?(q(E,S(E).target=600),q(b,S(b).target=480),h=60,i=2,k(T,450),k(A,525),w=125):(q(E,S(E).target=600),q(b,S(b).target=350),h=55,i=2,k(T,340),k(A,400),w=125)}function M(){f=window.innerWidth,x(f)}let C={};const D=zn([]);_t(()=>{d()==4&&(setTimeout(()=>{H("title","JARGON")},1e3),setTimeout(()=>{H("title","")},2500),setTimeout(()=>{q(y,S(y).target=1)},3500),setTimeout(()=>{H("game-title","JARGON"),H("instructions","EXTREMELY DARK. (2)"),q(y,S(y).target=1)},4500)),typeof window<"u"&&(M(),window.addEventListener("resize",M)),console.log(i),k(g,!0),Li("./jargon.csv").then(function(V){Object.keys(V[0]).forEach(U=>{let te=V.map(J=>J[U]);te=te.map(J=>J.toUpperCase()),C[U]=te.filter(J=>J.trim()!=="")})}),console.log(C),R()});const _=zn([]);function I(V){_.update(j=>j.includes(V)||j.length>=4?j:[...j,V])}function N(V){_.update(j=>j.filter(U=>U!==V))}let P=$();function R(){Ps(k(P,zn([{id:1,cx:150,cy:150,r:h,domain:"JOURNALISM",el:null},{id:2,cx:375,cy:150,r:h,domain:"MUSIC",el:null},{id:3,cx:600,cy:150,r:h,domain:"CHESS",el:null},{id:4,cx:825,cy:375,r:h,domain:"COOKING",el:null},{id:5,cx:150,cy:375,r:h,domain:"CODING",el:null},{id:6,cx:825,cy:375,r:h,domain:"MAGIC",el:null}])),"$circlesData",r);const V=S(T)/(i+1);S(P).update(j=>j.map((U,te)=>{const J=Math.floor(te/i),se=te%i;return{...U,cx:(se+1)*V,cy:(J+1)*w-60,el:null}})),Cn().then(()=>{ea(S(P)).forEach((U,te)=>{const J=U.el;if(J){const se=2*Math.PI*U.r;J.setAttribute("stroke-dasharray",se),J.setAttribute("stroke-dashoffset",se),setTimeout(()=>{J.animate([{strokeDashoffset:se},{strokeDashoffset:0}],{duration:1e3,easing:"ease-out",fill:"forwards"})},3500+te*300)}})}),Cn().then(()=>{ea(S(P)).forEach((U,te)=>{const J=U.textEl;J&&(J.textContent="",setTimeout(()=>{O(J,U.domain,50)},3500+te*300))})})}function O(V,j,U=50){let te=0;function J(){te<j.length&&(V.textContent+=j[te],te++,setTimeout(J,U))}J()}const L=zn([]);let B=null;function W(V,j){B=j;const U=V.clientX-j.cx,te=V.clientY-j.cy;function J(ue){B.cx=Math.max(B.r*1.5,Math.min(S(T)-B.r*1.5,ue.clientX-U)),B.cy=Math.max(B.r,Math.min(S(A)-B.r,ue.clientY-te)),S(P).set([...a()]),G()}function se(){window.removeEventListener("mousemove",J),window.removeEventListener("mouseup",se)}window.addEventListener("mousemove",J),window.addEventListener("mouseup",se)}function Q(V,j){return C[V].filter(te=>C[j].includes(te))}function G(){const V=a(),j=[];for(let U=0;U<V.length;U++)for(let te=U+1;te<V.length;te++){const J=V[U],se=V[te],ue=J.cx-se.cx,fe=J.cy-se.cy;if(Math.sqrt(ue*ue+fe*fe)<J.r+se.r){const K=(J.cx+se.cx)/2,ie=(J.cy+se.cy)/2,xe=Q(J.domain,se.domain);j.push({cx:K,cy:ie,text:xe})}}L.set(j)}let F=!1;function H(V,j,U=100){let te=document.getElementById(V);return new Promise(J=>{let se=te.innerHTML,ue=se.length,fe=0;function ge(){ue>0?(te.innerHTML=se.substring(0,ue-1),ue--,setTimeout(ge,U)):K()}function K(){fe<j.length?(te.innerHTML+=j.charAt(fe),fe++,setTimeout(K,U)):(F=!1,J())}ge()})}let z=0,Y=$(2);async function ee(){F||(F=!0,z==0?(H("hint","TRY EXPLORING THE INTERSECTIONS."),k(Y,1),z++):z==1&&(H("hint","WHAT'S ANOTHER 2-WORD WAY TO SAY THIS?"),k(Y,0),z=0))}yt(()=>(n(),S(b),S(E)),()=>{n()[0]=="PITCH"&&n()[1]=="BLACK"&&(async()=>(await Cn(),await new Promise(V=>setTimeout(V,500)),D.set(["PITCH","BLACK"]),setTimeout(()=>{q(y,S(y).target=0)},1e3),setTimeout(()=>{v(S(b).target),l(S(E).target),d(5)},2e3)))()}),Hn(),wt();var oe=an(),ce=Ze(oe);{var le=V=>{var j=rv(),U=Ze(j),te=Z(U),J=Z(te),se=Z(J),ue=re(Z(se),4);de(ue,"opacity: 1");var fe=Z(ue),ge=re(Z(fe),2),K=Z(ge,!0);X(ge),X(fe),at(2),X(ue),X(se);var ie=re(se,4),xe=Z(ie);tt(xe,1,a,be=>be.id,(be,Se,we)=>{var Me=ev(),He=Z(Me);Vt(He,(_e,ot)=>(ot.el=_e,Ji(()=>a()),Qi(r,"$circlesData")),_e=>_e==null?void 0:_e.el,()=>[S(Se)]);var je=re(He);me(je,"fill",c),Vt(je,(_e,ot)=>(ot.textEl=_e,Ji(()=>a()),Qi(r,"$circlesData")),_e=>_e==null?void 0:_e.textEl,()=>[S(Se)]),X(Me),Pe(()=>{me(Me,"transform",`translate(${S(Se).cx??""},${S(Se).cy??""})`),me(He,"r",S(Se).r)}),ye("mousedown",Me,_e=>W(_e,S(Se))),pe(be,Me)});var Re=re(xe);tt(Re,1,s,kt,(be,Se)=>{let we=()=>S(Se).cx,Me=()=>S(Se).cy,He=()=>S(Se).text;var je=an(),_e=Ze(je);tt(_e,1,He,kt,(ot,Kt,ae)=>{var ne=tv(),ve=Z(ne,!0);X(ne),Pe(()=>{me(ne,"x",we()),me(ne,"y",Me()+ae*20),dt(ve,S(Kt))}),ye("click",ne,()=>I(S(Kt))),pe(ot,ne)}),pe(be,je)}),X(ie),Vt(ie,be=>k(m,be),()=>S(m));var De=re(ie,2);tt(De,5,n,be=>be,(be,Se)=>{var we=nv();let Me;var He=Z(we,!0);X(we),Pe(je=>{Me=Xt(we,1,"rack-word svelte-oi0hdq",null,Me,je),dt(He,S(Se))},[()=>({green:u().includes(S(Se))})],on),ye("click",we,()=>N(S(Se))),oo(3,we,()=>ts),pe(be,we)}),X(De),X(J),X(te),X(U);var Ve=re(U,2);de(Ve,p),Pe(()=>{de(te,`--dark-gray: #2F2F2F; --mid-gray: #9A9A9A; --light-gray: #e6e6e6; --correct-green: #E8FFB7; --error-red: #880000; height: ${S(E).current+"px"}; width: ${S(b).current+"px"};`),de(J,` opacity:${S(y).current??""};`),dt(K,S(Y)),de(ie,`width: ${S(T)??""}px; height: ${S(A)??""}px`)}),ye("click",fe,ee),pe(V,j)};Ne(ce,V=>{S(g)&&V(le)})}pe(e,oe),St(),o()}var av=Fn('<line stroke-width="1" class="svelte-12f127f"></line>'),ov=Fn('<line stroke-width="1" stroke-dasharray="4" class="svelte-12f127f"></line>'),sv=Fn("<!><!>",1),lv=Ae('<div class="dot-container svelte-12f127f"><input type="checkbox"> <div class="label svelte-12f127f"> </div></div>'),uv=Ae(`<div class="page-container svelte-12f127f"><div class="game-board svelte-12f127f"><div class="click-fade-zone svelte-12f127f"></div> <div class="game-contents svelte-12f127f"><div class="instructions-container svelte-12f127f"><div id="game-title" class="svelte-12f127f"></div> <div id="instructions" class="svelte-12f127f"></div> <div class="tooltip-container svelte-12f127f"><div class="hint-button svelte-12f127f"><span class="svelte-12f127f">(?)</span> <span style="font-size:10px;" class="svelte-12f127f"> </span></div> <span class="tooltip-text svelte-12f127f">USE A HINT! I WON'T JUDGE YOU...</span></div></div> <div id="hint" class="svelte-12f127f"></div> <div class="connect-container svelte-12f127f"><svg class="dotsSVG svelte-12f127f"></svg> <!></div></div></div></div> <div id="title" class="svelte-12f127f"></div>`,1);function cv(e,t){Tt(t,!1);const r=$(),o=$(),a=$();let n="#e6e6e6",s="#E8FFB7",u=he(t,"gameCounter",12),c=he(t,"transitionHeight",12),d=he(t,"transitionWidth",12),l=$(""),v=0,f=$(0),i=$(null),h=$({setIndex:null,dotIndex:null}),g=$(0);const m=$(new Te(c(),{duration:500,easing:Ct})),y=$(new Te(d(),{delay:500,duration:500,easing:Ct}));function E(F){F>=1200?(q(m,S(m).target=700),q(y,S(y).target=1e3)):F>=900?(q(m,S(m).target=700),q(y,S(y).target=800)):F>=480?(q(m,S(m).target=600),q(y,S(y).target=480)):(q(m,S(m).target=600),q(y,S(y).target=350))}function b(){v=window.innerWidth,E(v)}let w=new Set,p=$([{id:1,color:n,dots:[{x:423,y:999,label:"UNDER"},{x:581,y:830,label:"YOUR"},{x:727,y:726,label:"THUMB"}],currentStep:0,lines:[]},{id:2,color:n,dots:[{x:727,y:726,label:"THUMB"},{x:908,y:677,label:"HIS"},{x:908,y:878,label:"NOSE"},{x:1170,y:499,label:"AT"}],currentStep:0,lines:[]},{id:3,color:n,dots:[{x:1170,y:499,label:"AT"},{x:908,y:150,label:"THE"},{x:908,y:358,label:"END"},{x:703,y:422,label:"OF"},{x:529,y:547,label:"MY"},{x:407,y:885,label:"ROPE"}],currentStep:0,lines:[]},{id:4,color:n,dots:[{x:719,y:300,label:"SHAPE"},{x:629,y:396,label:"UP"},{x:411,y:396,label:"OR"},{x:355,y:434,label:"SHIP"},{x:269,y:576,label:"OUT"}],currentStep:0,lines:[]},{id:5,color:n,dots:[{x:252,y:314,label:"ALL"},{x:355,y:229,label:"BENT"},{x:719,y:229,label:"OUT"},{x:771,y:267,label:"OF"},{x:719,y:300,label:"SHAPE"}],currentStep:0,lines:[]},{id:6,color:n,dots:[{x:407,y:1133,label:"LET"},{x:316,y:1063,label:"THE"},{x:269,y:976,label:"CAT"},{x:269,y:576,label:"OUT"},{x:269,y:430,label:"OF"},{x:388,y:292,label:"THE"},{x:595,y:292,label:"BAG"}],currentStep:0,lines:[]},{id:7,color:n,dots:[{x:252,y:314,label:"ALL"},{x:124,y:482,label:"TALK"},{x:124,y:1035,label:"AND"},{x:189,y:1186,label:"NO"},{x:346,y:1314,label:"ACTION"}],currentStep:0,lines:[]},{id:8,color:n,dots:[{x:1175,y:910,label:"IF"},{x:1175,y:1020,label:"YOU"},{x:1005,y:1204,label:"HAVE"},{x:906,y:1204,label:"NOTHING"},{x:792,y:1204,label:"NICE"},{x:665,y:1204,label:"TO"},{x:551,y:1204,label:"SAY"},{x:381,y:1204,label:"DONT"},{x:263,y:1125,label:"SAY"},{x:203,y:1007,label:"ANYTHING"},{x:203,y:430,label:"AT"},{x:252,y:314,label:"ALL"}],currentStep:0,lines:[]},{id:9,color:n,dots:[{x:381,y:1204,label:"DONT"},{x:407,y:1133,label:"LET"},{x:845,y:1133,label:"THE"},{x:984,y:1133,label:"BED"},{x:1074,y:1083,label:"BUGS"},{x:1118,y:1012,label:"BITE"}],currentStep:0,lines:[]},{id:10,color:n,dots:[{x:1118,y:1012,label:"BITE"},{x:1118,y:799,label:"OFF"},{x:1152,y:730,label:"MORE"},{x:1175,y:799,label:"THAN"},{x:1175,y:1020,label:"YOU"},{x:1118,y:1125,label:"CAN"},{x:990,y:1273,label:"CHEW"}],currentStep:0,lines:[]},{id:11,color:n,dots:[{x:1118,y:1125,label:"CAN"},{x:927,y:1321,label:"OF"},{x:468,y:1321,label:"WORMS"}],currentStep:0,lines:[]},{id:12,color:n,dots:[{x:1118,y:799,label:"OFF"},{x:845,y:1133,label:"THE"},{x:680,y:1321,label:"CUFF"}],currentStep:0,lines:[]}]);function T(F,H,z,Y,ee,oe=!0,ce=0){const le=Y/H,V=ee/z;let j=0,U=0,te=le,J=V;if(oe){const se=Math.min(le,V);j=(Y-H*se)/2,U=(ee-z*se)/2,te=J=se}return U+=ce,F.map(se=>({...se,dots:se.dots.map(ue=>({...ue,x:ue.x*te+j,y:ue.y*J+U}))}))}let A=$({x:0,y:0}),x=$();function M(F,H){const z=S(p)[F];return w.has(z.id)?!1:z.currentStep>0&&z.currentStep<z.dots.length?H===z.currentStep:!S(p).some(ee=>!w.has(ee.id)&&ee.currentStep>0&&ee.currentStep<ee.dots.length)&&H===0}function C(F,H){const z=S(p)[F];return H>z.currentStep?!0:S(p).some((ee,oe)=>oe!==F&&!w.has(ee.id)&&ee.currentStep>0&&ee.currentStep<ee.dots.length)}function D(F,H){const z=S(p)[F];w.has(z.id)||S(p).some((ee,oe)=>oe!==F&&!w.has(ee.id)&&ee.currentStep>0&&ee.currentStep<ee.dots.length)||H===z.currentStep&&(z.currentStep>0&&(z.lines=[...z.lines,{from:z.dots[z.currentStep-1],to:z.dots[z.currentStep]}]),z.currentStep+=1,z.currentStep===z.dots.length&&w.add(z.id),q(p,S(p)[F]={...z}),k(p,[...S(p)]))}function _(F,H){const z=S(p)[F],Y=!S(p).some(ee=>!w.has(ee.id)&&ee.currentStep>0&&ee.currentStep<ee.dots.length);return!w.has(z.id)&&z.currentStep===0&&H===0&&Y}function I(){S(r)&&setTimeout(()=>{k(i,S(f));const F=setInterval(()=>{k(i,S(i)-1),S(i)<=0&&(R("instructions",""),clearInterval(F),k(l,"display: none;"),u(4),c(gameHeight.target),d(gameWidth.target))},20)},500)}let N=$(!1);_t(()=>{u()==3&&(k(l,"display: flex;"),setTimeout(()=>{R("title","CLICHÃ")},1e3),setTimeout(()=>{R("title","")},2500),setTimeout(()=>{R("instructions","SHARE YOUR THOUGHTS."),R("game-title","CLICHÃ")},4500),setTimeout(()=>{k(g,1)},1e4)),typeof window<"u"&&(b(),k(p,T(S(p),1300,1477,S(y).target,S(m).target-100,!0,0)),window.addEventListener("resize",b)),k(N,!0),setTimeout(()=>{const z=S(p).reduce((ee,oe)=>ee+oe.dots.length,0),Y=setInterval(()=>{k(f,S(f)+1),S(f)>z+10&&clearInterval(Y)},20)},3e3);function H(z){var ee;const Y=(ee=S(x))==null?void 0:ee.getBoundingClientRect();Y&&(q(A,S(A).x=z.clientX-Y.left),q(A,S(A).y=z.clientY-Y.top-70))}return window.addEventListener("mousemove",H),()=>window.removeEventListener("mousemove",H)});let P=!1;function R(F,H,z=100){let Y=document.getElementById(F);return new Promise(ee=>{let oe=Y.innerHTML,ce=oe.length,le=0;function V(){ce>0?(Y.innerHTML=oe.substring(0,ce-1),ce--,setTimeout(V,z)):j()}function j(){le<H.length?(Y.innerHTML+=H.charAt(le),le++,setTimeout(j,z)):(P=!1,ee())}V()})}let O=0,L=$(2);async function B(){P||(P=!0,O==0?(R("hint","DON'T FORGET THE OVERLAPS."),k(L,1),O++):O==1&&(R("hint","FOLLOW THE ARROW..."),k(L,0),O=0))}yt(()=>S(p),()=>{k(r,S(p).every(F=>F.currentStep===F.dots.length))}),yt(()=>S(p),()=>{k(o,S(p).flatMap((F,H)=>F.dots.map((z,Y)=>({setIndex:H,dotIndex:Y,dot:z}))))}),yt(()=>S(p),()=>{k(a,(()=>{for(const F of S(p))for(const H of F.dots)if(H.label==="AT")return H;return null})())}),Hn(),wt();var W=an(),Q=Ze(W);{var G=F=>{var H=uv(),z=Ze(H),Y=Z(z),ee=Z(Y),oe=re(ee,2),ce=Z(oe),le=re(Z(ce),4),V=Z(le),j=re(Z(V),2),U=Z(j,!0);X(j),X(V),at(2),X(le),X(ce);var te=re(ce,4),J=Z(te);tt(J,5,()=>S(p),kt,(ue,fe)=>{var ge=sv(),K=Ze(ge);tt(K,1,()=>S(fe).lines,kt,(Re,De)=>{var Ve=av();Pe(()=>{me(Ve,"x1",S(De).from.x),me(Ve,"y1",S(De).from.y),me(Ve,"x2",S(De).to.x),me(Ve,"y2",S(De).to.y),me(Ve,"stroke",S(r)?s:S(fe).color)}),pe(Re,Ve)});var ie=re(K);{var xe=Re=>{var De=ov();Pe(()=>{me(De,"x1",S(fe).dots[S(fe).currentStep-1].x),me(De,"y1",S(fe).dots[S(fe).currentStep-1].y),me(De,"x2",S(A).x),me(De,"y2",S(A).y),me(De,"stroke",S(fe).color)}),pe(Re,De)};Ne(ie,Re=>{S(fe).currentStep>0&&S(fe).currentStep<S(fe).dots.length&&Re(xe)})}pe(ue,ge)}),X(J);var se=re(J,2);tt(se,1,()=>S(o),kt,(ue,fe,ge)=>{let K=()=>S(fe).setIndex,ie=()=>S(fe).dotIndex,xe=()=>S(fe).dot;var Re=an(),De=Ze(Re);{var Ve=be=>{var Se=lv(),we=Z(Se);Us(we);var Me=re(we,2),He=Z(Me,!0);X(Me),X(Se),Pe((je,_e,ot,Kt,ae)=>{de(Se,`
                left: ${xe().x??""}px;
                top: ${xe().y??""}px;
                opacity: 1;
                transform: translate(-50%, -25%) scale(1);
                pointer-events: ${je??""};
                transition: opacity 0.4s ease, transform 0.4s ease;
              `),de(we,`pointer-events: ${_e??""};`),Xt(we,1,`dot-radio 
                ${ot??""}
                ${Kt??""}`,"svelte-12f127f"),Gs(we,ie()<S(p)[K()].currentStep),we.disabled=ae,dt(He,xe().label)},[()=>M(K(),ie())?"auto":"none",()=>M(K(),ie())?"auto":"none",()=>_(K(),ie())?"first-clickable":"",()=>M(K(),ie())&&S(h).setIndex===K()&&S(h).dotIndex===ie()?"pulse-on-hover":"",()=>C(K(),ie())],on),ye("change",we,()=>D(K(),ie())),ye("mouseenter",we,()=>{k(h,{setIndex:K(),dotIndex:ie()})}),ye("mouseleave",we,()=>{k(h,{setIndex:null,dotIndex:null})}),pe(be,Se)};Ne(De,be=>{ge<S(f)&&(S(i)===null||ge<S(i))&&be(Ve)})}pe(ue,Re)}),X(te),X(oe),X(Y),Vt(Y,ue=>k(x,ue),()=>S(x)),X(z),at(2),Pe(()=>{de(z,S(l)),de(Y,`${S(l)??""} --dark-gray: #2F2F2F; --mid-gray: #9A9A9A; --light-gray: #e6e6e6;  --error-red: #880000; width: ${S(y).current??""}px; height:${S(m).current??""}px;`),de(ee,`
    left: ${S(a)?S(a).x+10:0}px;
  `),de(V,`opacity: ${S(g)??""}`),dt(U,S(L)),me(J,"width",S(y).target),me(J,"height",`calc(${S(m).target??""}-2em)`)}),ye("click",ee,I),ye("click",V,B),pe(F,H)};Ne(Q,F=>{S(N)&&F(G)})}pe(e,W),St()}var fv=Ae('<div class="pegman-container svelte-wi2rx2"><div class="label svelte-wi2rx2"> </div> <div class="pegman svelte-wi2rx2"></div> <div class="pegman-shadow svelte-wi2rx2">IN</div></div>'),dv=Ae(`<div class="page-container svelte-wi2rx2"><div class="game-container svelte-wi2rx2"><div class="game-contents svelte-wi2rx2"><div class="instructions-container svelte-wi2rx2"><div id="game-title" class="svelte-wi2rx2"></div> <div class="svelte-wi2rx2"></div> <div class="tooltip-container svelte-wi2rx2"><div class="hint-button svelte-wi2rx2"><span class="svelte-wi2rx2">(?)</span> <span style="font-size:10px;" class="svelte-wi2rx2"> </span></div> <span class="tooltip-text svelte-wi2rx2">USE A HINT! I WON'T JUDGE YOU...</span></div></div> <div id="hint" class="svelte-wi2rx2"></div> <div id="map" class="svelte-wi2rx2"><div class="circle-container svelte-wi2rx2"><div class="drawn-circle svelte-wi2rx2"></div></div> <div id="circle" class="svelte-wi2rx2"></div> <!></div></div></div></div> <div id="title" class="svelte-wi2rx2"></div>`,1);function hv(e,t){Tt(t,!1);let r=he(t,"transitionHeight",12),o=he(t,"transitionWidth",12),a=he(t,"gameCounter",12),n=$(""),s=$(0),u=$(!1),c=0;const d=$(new Te(0,{duration:1e3,easing:We}));let l=$(new Te(r(),{delay:500,duration:500,easing:Ct})),v=$(new Te(o(),{duration:500,easing:Ct}));function f(x){x>=1200?(q(v,S(v).target=700),q(l,S(l).target=700)):x>=900?(q(v,S(v).target=700),q(l,S(l).target=700)):x>=480?(q(v,S(v).target=480),q(l,S(l).target=500)):(q(v,S(v).target=300),q(l,S(l).target=600))}function i(){c=window.innerWidth,f(c)}let h=$([{name:"COMMON",x:0,y:0,landed:!1},{name:"CHARGE",x:0,y:0,landed:!1},{name:"FIND",x:0,y:0,landed:!1},{name:"SHOCK",x:0,y:0,landed:!1},{name:"FIGURE",x:0,y:0,landed:!1},{name:"FREAK",x:0,y:0,landed:!1},{name:"PROGRESS",x:0,y:0,landed:!1},{name:"CARRY",x:0,y:0,landed:!1},{name:"POINT",x:0,y:0,landed:!1},{name:"VAIN",x:0,y:0,landed:!1}]),g=["CHARGE","COMMON","PROGRESS","SHOCK","VAIN"];_t(async()=>{a()==2&&(k(n,"display: flex;"),setTimeout(()=>{y("title","METAPHORS")},1e3),setTimeout(()=>{y("title","")},2500),setTimeout(()=>{q(d,S(d).target=1)},3500),setTimeout(()=>{y("game-title","METAPHORS")},4500),setTimeout(()=>{k(s,1)},1e4)),typeof window<"u"&&(i(),await Cn(),window.addEventListener("resize",i),k(u,!0),requestAnimationFrame(()=>{const x=document.getElementById("map");x.style.width=S(v).target,x.style.height=S(l).target;const M=x.getBoundingClientRect();if(M.width===0||M.height===0){console.warn("Map dimensions not ready, retrying...");return}S(h).forEach(O=>{O.x=Math.random()*M.width,O.y=Math.random()*(M.height-100)});const C=document.querySelectorAll(".pegman-container"),D=25,_=50,N=document.getElementById("circle").getBoundingClientRect();N.left+N.width/2,N.top+N.height/2,N.width/2;function P(){const O=document.querySelectorAll(".pegman"),B=document.getElementById("circle").getBoundingClientRect(),W={x:B.left+B.width/2,y:B.top+B.height/2},Q=B.width/2,G=[];return O.forEach(F=>{const H=F.getBoundingClientRect(),z=H.left+H.width/2,Y=H.top+H.height/2,ee=z-W.x,oe=Y-W.y,ce=Math.sqrt(ee*ee+oe*oe);let le=F.nextElementSibling;if(ce<=Q){const V=F.previousElementSibling;V&&G.push(V.textContent.trim()),le.innerHTML="IN"}else le.innerHTML="OUT"}),G}function R(){setTimeout(()=>{document.querySelectorAll(".pegman").forEach(L=>{L.style.transition="opacity 0.5s linear",L.style.opacity="0",setTimeout(()=>{L.classList.add("correct"),L.style.backgroundImage="var(--pegman-correct)",L.style.opacity="1"},0)})},0),setTimeout(()=>{q(d,S(d).target=0)},3e3),setTimeout(()=>{r(S(l).target),o(S(v).target),a(3)},4e3)}C.forEach((O,L)=>{let B=!1,W=0,Q=0,G,F=0,H=S(h)[L].x,z=S(h)[L].y;S(h)[L].landed===!1?O.animate([{translate:`${S(h)[L].x}px -100px`,scale:"1 1",opacity:0,offset:0},{translate:`${S(h)[L].x}px ${S(h)[L].y-20}px`,scale:"0.8 1.2",opacity:1,offset:.7},{translate:`${S(h)[L].x}px ${S(h)[L].y+10}px`,scale:"1.3 0.7",offset:.85},{translate:`${S(h)[L].x}px ${S(h)[L].y}px`,scale:"1 1",offset:1}],{delay:3300,duration:100+L*100,easing:"ease-out",fill:"forwards"}):O.animate({translate:`${S(h)[L].x}px ${S(h)[L].y}px`},{duration:.01,fill:"forwards"});const Y=ce=>{B=!0,Q=ce.clientY-z,W=ce.clientX-H,O.animate({translate:`${S(h)[L].x}px ${S(h)[L].y}px `},{duration:.01,fill:"forwards"})},ee=ce=>{if(!B)return;let le=ce.clientX-W,V=ce.clientY-Q;const j=35,U=50;le=Math.max(0,Math.min(le,M.width-j)),V=Math.max(0,Math.min(V,M.height-50-U)),H=le,z=V,q(h,S(h)[L].x=H),q(h,S(h)[L].y=z),k(h,[...S(h)]);let te=Math.max(-50,Math.min(_,H-F));O.setAttribute("style",`--r: ${te}deg`),O.animate({translate:`${H}px ${z}px `},{duration:100,fill:"forwards"}),clearTimeout(G),G=setTimeout(()=>{F=H,O.setAttribute("style","--r: 0")},D)},oe=()=>{B=!1,O.setAttribute("style","--r: 0"),G=setTimeout(()=>{F=0},D),P().sort().join(",")===g.join(",")&&R()};O.addEventListener("mousedown",Y),document.addEventListener("mousemove",ee),document.addEventListener("mouseup",oe)})}))});let m=!1;function y(x,M,C=100){let D=document.getElementById(x);return new Promise(_=>{let I=D.innerHTML,N=I.length,P=0;function R(){N>0?(D.innerHTML=I.substring(0,N-1),N--,setTimeout(R,C)):O()}function O(){P<M.length?(D.innerHTML+=M.charAt(P),P++,setTimeout(O,C)):(m=!1,_())}R()})}let E=0,b=$(3);async function w(){m||(m=!0,E==0?(document.querySelectorAll(".pegman-shadow").forEach(M=>{M.setAttribute("style","filter:blur(0px)")}),k(b,2),E++,setTimeout(()=>{m=!1},5e3)):E==1?(y("hint","TRY MOVING THE WORDS IN AND OUT OF THE CIRCLE."),k(b,1),E++):E==2&&(y("hint","HOW DO THEIR LABELS INTERACT WITH THEIR POSITIONS?"),k(b,0),E=1))}Ai(()=>{typeof window<"u"&&window.removeEventListener("resize",i)}),wt();var p=an(),T=Ze(p);{var A=x=>{var M=dv(),C=Ze(M),D=Z(C),_=Z(D),I=Z(_),N=re(Z(I),4),P=Z(N),R=re(Z(P),2),O=Z(R,!0);X(R),X(P),at(2),X(N),X(I);var L=re(I,4),B=re(Z(L),4);tt(B,1,()=>S(h),kt,(W,Q,G)=>{var F=fv(),H=Z(F),z=Z(H,!0);X(H);var Y=re(H,2);me(Y,"data-index",G),at(2),X(F),Pe(()=>dt(z,S(Q).name)),pe(W,F)}),X(L),X(_),X(D),X(C),at(2),Pe(()=>{de(C,S(n)),de(D,`${S(n)??""} --dark-gray: #2F2F2F; --mid-gray: #9A9A9A; --light-gray: #e6e6e6;  --error-red: #880000; height: ${S(l).current+"px"}; width: ${S(v).current+"px"};`),de(_,`opacity:${S(d).current??""}; height: ${S(l).current+"px"}; width: ${S(v).current+"px"};`),de(N,`opacity: ${S(s)??""}`),dt(O,S(b)),de(L,`height: calc(${S(l).target??""}px - 7em); width: calc(${S(v).target??""}px - 6em);`)}),ye("click",P,w),pe(x,M)};Ne(T,x=>{S(u)&&x(A)})}pe(e,p),St()}var Xa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lr={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var gv=lr.exports,Za;function mv(){return Za||(Za=1,function(e,t){(function(o,a){e.exports=a()})(gv,function(){return function(r){var o={};function a(n){if(o[n])return o[n].exports;var s=o[n]={i:n,l:!1,exports:{}};return r[n].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=r,a.c=o,a.d=function(n,s,u){a.o(n,s)||Object.defineProperty(n,s,{enumerable:!0,get:u})},a.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},a.t=function(n,s){if(s&1&&(n=a(n)),s&8||s&4&&typeof n=="object"&&n&&n.__esModule)return n;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:n}),s&2&&typeof n!="string")for(var c in n)a.d(u,c,(function(d){return n[d]}).bind(null,c));return u},a.n=function(n){var s=n&&n.__esModule?function(){return n.default}:function(){return n};return a.d(s,"a",s),s},a.o=function(n,s){return Object.prototype.hasOwnProperty.call(n,s)},a.p="",a(a.s=20)}([function(r,o){var a={};r.exports=a,function(){a._baseDelta=1e3/60,a._nextId=0,a._seed=0,a._nowStartTime=+new Date,a._warnedOnce={},a._decomp=null,a.extend=function(s,u){var c,d;typeof u=="boolean"?(c=2,d=u):(c=1,d=!0);for(var l=c;l<arguments.length;l++){var v=arguments[l];if(v)for(var f in v)d&&v[f]&&v[f].constructor===Object&&(!s[f]||s[f].constructor===Object)?(s[f]=s[f]||{},a.extend(s[f],d,v[f])):s[f]=v[f]}return s},a.clone=function(s,u){return a.extend({},u,s)},a.keys=function(s){if(Object.keys)return Object.keys(s);var u=[];for(var c in s)u.push(c);return u},a.values=function(s){var u=[];if(Object.keys){for(var c=Object.keys(s),d=0;d<c.length;d++)u.push(s[c[d]]);return u}for(var l in s)u.push(s[l]);return u},a.get=function(s,u,c,d){u=u.split(".").slice(c,d);for(var l=0;l<u.length;l+=1)s=s[u[l]];return s},a.set=function(s,u,c,d,l){var v=u.split(".").slice(d,l);return a.get(s,u,0,-1)[v[v.length-1]]=c,c},a.shuffle=function(s){for(var u=s.length-1;u>0;u--){var c=Math.floor(a.random()*(u+1)),d=s[u];s[u]=s[c],s[c]=d}return s},a.choose=function(s){return s[Math.floor(a.random()*s.length)]},a.isElement=function(s){return typeof HTMLElement<"u"?s instanceof HTMLElement:!!(s&&s.nodeType&&s.nodeName)},a.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"},a.isFunction=function(s){return typeof s=="function"},a.isPlainObject=function(s){return typeof s=="object"&&s.constructor===Object},a.isString=function(s){return toString.call(s)==="[object String]"},a.clamp=function(s,u,c){return s<u?u:s>c?c:s},a.sign=function(s){return s<0?-1:1},a.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-a._nowStartTime},a.random=function(s,u){return s=typeof s<"u"?s:0,u=typeof u<"u"?u:1,s+n()*(u-s)};var n=function(){return a._seed=(a._seed*9301+49297)%233280,a._seed/233280};a.colorToNumber=function(s){return s=s.replace("#",""),s.length==3&&(s=s.charAt(0)+s.charAt(0)+s.charAt(1)+s.charAt(1)+s.charAt(2)+s.charAt(2)),parseInt(s,16)},a.logLevel=1,a.log=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.info=function(){console&&a.logLevel>0&&a.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warn=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warnOnce=function(){var s=Array.prototype.slice.call(arguments).join(" ");a._warnedOnce[s]||(a.warn(s),a._warnedOnce[s]=!0)},a.deprecated=function(s,u,c){s[u]=a.chain(function(){a.warnOnce("ð deprecated ð",c)},s[u])},a.nextId=function(){return a._nextId++},a.indexOf=function(s,u){if(s.indexOf)return s.indexOf(u);for(var c=0;c<s.length;c++)if(s[c]===u)return c;return-1},a.map=function(s,u){if(s.map)return s.map(u);for(var c=[],d=0;d<s.length;d+=1)c.push(u(s[d]));return c},a.topologicalSort=function(s){var u=[],c=[],d=[];for(var l in s)!c[l]&&!d[l]&&a._topologicalSort(l,c,d,s,u);return u},a._topologicalSort=function(s,u,c,d,l){var v=d[s]||[];c[s]=!0;for(var f=0;f<v.length;f+=1){var i=v[f];c[i]||u[i]||a._topologicalSort(i,u,c,d,l)}c[s]=!1,u[s]=!0,l.push(s)},a.chain=function(){for(var s=[],u=0;u<arguments.length;u+=1){var c=arguments[u];c._chained?s.push.apply(s,c._chained):s.push(c)}var d=function(){for(var l,v=new Array(arguments.length),f=0,i=arguments.length;f<i;f++)v[f]=arguments[f];for(f=0;f<s.length;f+=1){var h=s[f].apply(l,v);typeof h<"u"&&(l=h)}return l};return d._chained=s,d},a.chainPathBefore=function(s,u,c){return a.set(s,u,a.chain(c,a.get(s,u)))},a.chainPathAfter=function(s,u,c){return a.set(s,u,a.chain(a.get(s,u),c))},a.setDecomp=function(s){a._decomp=s},a.getDecomp=function(){var s=a._decomp;try{!s&&typeof window<"u"&&(s=window.decomp),!s&&typeof Xa<"u"&&(s=Xa.decomp)}catch{s=null}return s}}()},function(r,o){var a={};r.exports=a,function(){a.create=function(n){var s={min:{x:0,y:0},max:{x:0,y:0}};return n&&a.update(s,n),s},a.update=function(n,s,u){n.min.x=1/0,n.max.x=-1/0,n.min.y=1/0,n.max.y=-1/0;for(var c=0;c<s.length;c++){var d=s[c];d.x>n.max.x&&(n.max.x=d.x),d.x<n.min.x&&(n.min.x=d.x),d.y>n.max.y&&(n.max.y=d.y),d.y<n.min.y&&(n.min.y=d.y)}u&&(u.x>0?n.max.x+=u.x:n.min.x+=u.x,u.y>0?n.max.y+=u.y:n.min.y+=u.y)},a.contains=function(n,s){return s.x>=n.min.x&&s.x<=n.max.x&&s.y>=n.min.y&&s.y<=n.max.y},a.overlaps=function(n,s){return n.min.x<=s.max.x&&n.max.x>=s.min.x&&n.max.y>=s.min.y&&n.min.y<=s.max.y},a.translate=function(n,s){n.min.x+=s.x,n.max.x+=s.x,n.min.y+=s.y,n.max.y+=s.y},a.shift=function(n,s){var u=n.max.x-n.min.x,c=n.max.y-n.min.y;n.min.x=s.x,n.max.x=s.x+u,n.min.y=s.y,n.max.y=s.y+c}}()},function(r,o){var a={};r.exports=a,function(){a.create=function(n,s){return{x:n||0,y:s||0}},a.clone=function(n){return{x:n.x,y:n.y}},a.magnitude=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},a.magnitudeSquared=function(n){return n.x*n.x+n.y*n.y},a.rotate=function(n,s,u){var c=Math.cos(s),d=Math.sin(s);u||(u={});var l=n.x*c-n.y*d;return u.y=n.x*d+n.y*c,u.x=l,u},a.rotateAbout=function(n,s,u,c){var d=Math.cos(s),l=Math.sin(s);c||(c={});var v=u.x+((n.x-u.x)*d-(n.y-u.y)*l);return c.y=u.y+((n.x-u.x)*l+(n.y-u.y)*d),c.x=v,c},a.normalise=function(n){var s=a.magnitude(n);return s===0?{x:0,y:0}:{x:n.x/s,y:n.y/s}},a.dot=function(n,s){return n.x*s.x+n.y*s.y},a.cross=function(n,s){return n.x*s.y-n.y*s.x},a.cross3=function(n,s,u){return(s.x-n.x)*(u.y-n.y)-(s.y-n.y)*(u.x-n.x)},a.add=function(n,s,u){return u||(u={}),u.x=n.x+s.x,u.y=n.y+s.y,u},a.sub=function(n,s,u){return u||(u={}),u.x=n.x-s.x,u.y=n.y-s.y,u},a.mult=function(n,s){return{x:n.x*s,y:n.y*s}},a.div=function(n,s){return{x:n.x/s,y:n.y/s}},a.perp=function(n,s){return s=s===!0?-1:1,{x:s*-n.y,y:s*n.x}},a.neg=function(n){return{x:-n.x,y:-n.y}},a.angle=function(n,s){return Math.atan2(s.y-n.y,s.x-n.x)},a._temp=[a.create(),a.create(),a.create(),a.create(),a.create(),a.create()]}()},function(r,o,a){var n={};r.exports=n;var s=a(2),u=a(0);(function(){n.create=function(c,d){for(var l=[],v=0;v<c.length;v++){var f=c[v],i={x:f.x,y:f.y,index:v,body:d,isInternal:!1};l.push(i)}return l},n.fromPath=function(c,d){var l=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,v=[];return c.replace(l,function(f,i,h){v.push({x:parseFloat(i),y:parseFloat(h)})}),n.create(v,d)},n.centre=function(c){for(var d=n.area(c,!0),l={x:0,y:0},v,f,i,h=0;h<c.length;h++)i=(h+1)%c.length,v=s.cross(c[h],c[i]),f=s.mult(s.add(c[h],c[i]),v),l=s.add(l,f);return s.div(l,6*d)},n.mean=function(c){for(var d={x:0,y:0},l=0;l<c.length;l++)d.x+=c[l].x,d.y+=c[l].y;return s.div(d,c.length)},n.area=function(c,d){for(var l=0,v=c.length-1,f=0;f<c.length;f++)l+=(c[v].x-c[f].x)*(c[v].y+c[f].y),v=f;return d?l/2:Math.abs(l)/2},n.inertia=function(c,d){for(var l=0,v=0,f=c,i,h,g=0;g<f.length;g++)h=(g+1)%f.length,i=Math.abs(s.cross(f[h],f[g])),l+=i*(s.dot(f[h],f[h])+s.dot(f[h],f[g])+s.dot(f[g],f[g])),v+=i;return d/6*(l/v)},n.translate=function(c,d,l){l=typeof l<"u"?l:1;var v=c.length,f=d.x*l,i=d.y*l,h;for(h=0;h<v;h++)c[h].x+=f,c[h].y+=i;return c},n.rotate=function(c,d,l){if(d!==0){var v=Math.cos(d),f=Math.sin(d),i=l.x,h=l.y,g=c.length,m,y,E,b;for(b=0;b<g;b++)m=c[b],y=m.x-i,E=m.y-h,m.x=i+(y*v-E*f),m.y=h+(y*f+E*v);return c}},n.contains=function(c,d){for(var l=d.x,v=d.y,f=c.length,i=c[f-1],h,g=0;g<f;g++){if(h=c[g],(l-i.x)*(h.y-i.y)+(v-i.y)*(i.x-h.x)>0)return!1;i=h}return!0},n.scale=function(c,d,l,v){if(d===1&&l===1)return c;v=v||n.centre(c);for(var f,i,h=0;h<c.length;h++)f=c[h],i=s.sub(f,v),c[h].x=v.x+i.x*d,c[h].y=v.y+i.y*l;return c},n.chamfer=function(c,d,l,v,f){typeof d=="number"?d=[d]:d=d||[8],l=typeof l<"u"?l:-1,v=v||2,f=f||14;for(var i=[],h=0;h<c.length;h++){var g=c[h-1>=0?h-1:c.length-1],m=c[h],y=c[(h+1)%c.length],E=d[h<d.length?h:d.length-1];if(E===0){i.push(m);continue}var b=s.normalise({x:m.y-g.y,y:g.x-m.x}),w=s.normalise({x:y.y-m.y,y:m.x-y.x}),p=Math.sqrt(2*Math.pow(E,2)),T=s.mult(u.clone(b),E),A=s.normalise(s.mult(s.add(b,w),.5)),x=s.sub(m,s.mult(A,p)),M=l;l===-1&&(M=Math.pow(E,.32)*1.75),M=u.clamp(M,v,f),M%2===1&&(M+=1);for(var C=Math.acos(s.dot(b,w)),D=C/M,_=0;_<M;_++)i.push(s.add(s.rotate(T,D*_),x))}return i},n.clockwiseSort=function(c){var d=n.mean(c);return c.sort(function(l,v){return s.angle(d,l)-s.angle(d,v)}),c},n.isConvex=function(c){var d=0,l=c.length,v,f,i,h;if(l<3)return null;for(v=0;v<l;v++)if(f=(v+1)%l,i=(v+2)%l,h=(c[f].x-c[v].x)*(c[i].y-c[f].y),h-=(c[f].y-c[v].y)*(c[i].x-c[f].x),h<0?d|=1:h>0&&(d|=2),d===3)return!1;return d!==0?!0:null},n.hull=function(c){var d=[],l=[],v,f;for(c=c.slice(0),c.sort(function(i,h){var g=i.x-h.x;return g!==0?g:i.y-h.y}),f=0;f<c.length;f+=1){for(v=c[f];l.length>=2&&s.cross3(l[l.length-2],l[l.length-1],v)<=0;)l.pop();l.push(v)}for(f=c.length-1;f>=0;f-=1){for(v=c[f];d.length>=2&&s.cross3(d[d.length-2],d[d.length-1],v)<=0;)d.pop();d.push(v)}return d.pop(),l.pop(),d.concat(l)}})()},function(r,o,a){var n={};r.exports=n;var s=a(3),u=a(2),c=a(7),d=a(0),l=a(1),v=a(11);(function(){n._timeCorrection=!0,n._inertiaScale=4,n._nextCollidingGroupId=1,n._nextNonCollidingGroupId=-1,n._nextCategory=1,n._baseDelta=1e3/60,n.create=function(i){var h={id:d.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:s.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},g=d.extend(h,i);return f(g,i),g},n.nextGroup=function(i){return i?n._nextNonCollidingGroupId--:n._nextCollidingGroupId++},n.nextCategory=function(){return n._nextCategory=n._nextCategory<<1,n._nextCategory};var f=function(i,h){h=h||{},n.set(i,{bounds:i.bounds||l.create(i.vertices),positionPrev:i.positionPrev||u.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),s.rotate(i.vertices,i.angle,i.position),v.rotate(i.axes,i.angle),l.update(i.bounds,i.vertices,i.velocity),n.set(i,{axes:h.axes||i.axes,area:h.area||i.area,mass:h.mass||i.mass,inertia:h.inertia||i.inertia});var g=i.isStatic?"#14151f":d.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),m=i.isStatic?"#555":"#ccc",y=i.isStatic&&i.render.fillStyle===null?1:0;i.render.fillStyle=i.render.fillStyle||g,i.render.strokeStyle=i.render.strokeStyle||m,i.render.lineWidth=i.render.lineWidth||y,i.render.sprite.xOffset+=-(i.bounds.min.x-i.position.x)/(i.bounds.max.x-i.bounds.min.x),i.render.sprite.yOffset+=-(i.bounds.min.y-i.position.y)/(i.bounds.max.y-i.bounds.min.y)};n.set=function(i,h,g){var m;typeof h=="string"&&(m=h,h={},h[m]=g);for(m in h)if(Object.prototype.hasOwnProperty.call(h,m))switch(g=h[m],m){case"isStatic":n.setStatic(i,g);break;case"isSleeping":c.set(i,g);break;case"mass":n.setMass(i,g);break;case"density":n.setDensity(i,g);break;case"inertia":n.setInertia(i,g);break;case"vertices":n.setVertices(i,g);break;case"position":n.setPosition(i,g);break;case"angle":n.setAngle(i,g);break;case"velocity":n.setVelocity(i,g);break;case"angularVelocity":n.setAngularVelocity(i,g);break;case"speed":n.setSpeed(i,g);break;case"angularSpeed":n.setAngularSpeed(i,g);break;case"parts":n.setParts(i,g);break;case"centre":n.setCentre(i,g);break;default:i[m]=g}},n.setStatic=function(i,h){for(var g=0;g<i.parts.length;g++){var m=i.parts[g];h?(m.isStatic||(m._original={restitution:m.restitution,friction:m.friction,mass:m.mass,inertia:m.inertia,density:m.density,inverseMass:m.inverseMass,inverseInertia:m.inverseInertia}),m.restitution=0,m.friction=1,m.mass=m.inertia=m.density=1/0,m.inverseMass=m.inverseInertia=0,m.positionPrev.x=m.position.x,m.positionPrev.y=m.position.y,m.anglePrev=m.angle,m.angularVelocity=0,m.speed=0,m.angularSpeed=0,m.motion=0):m._original&&(m.restitution=m._original.restitution,m.friction=m._original.friction,m.mass=m._original.mass,m.inertia=m._original.inertia,m.density=m._original.density,m.inverseMass=m._original.inverseMass,m.inverseInertia=m._original.inverseInertia,m._original=null),m.isStatic=h}},n.setMass=function(i,h){var g=i.inertia/(i.mass/6);i.inertia=g*(h/6),i.inverseInertia=1/i.inertia,i.mass=h,i.inverseMass=1/i.mass,i.density=i.mass/i.area},n.setDensity=function(i,h){n.setMass(i,h*i.area),i.density=h},n.setInertia=function(i,h){i.inertia=h,i.inverseInertia=1/i.inertia},n.setVertices=function(i,h){h[0].body===i?i.vertices=h:i.vertices=s.create(h,i),i.axes=v.fromVertices(i.vertices),i.area=s.area(i.vertices),n.setMass(i,i.density*i.area);var g=s.centre(i.vertices);s.translate(i.vertices,g,-1),n.setInertia(i,n._inertiaScale*s.inertia(i.vertices,i.mass)),s.translate(i.vertices,i.position),l.update(i.bounds,i.vertices,i.velocity)},n.setParts=function(i,h,g){var m;for(h=h.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,m=0;m<h.length;m++){var y=h[m];y!==i&&(y.parent=i,i.parts.push(y))}if(i.parts.length!==1){if(g=typeof g<"u"?g:!0,g){var E=[];for(m=0;m<h.length;m++)E=E.concat(h[m].vertices);s.clockwiseSort(E);var b=s.hull(E),w=s.centre(b);n.setVertices(i,b),s.translate(i.vertices,w)}var p=n._totalProperties(i);i.area=p.area,i.parent=i,i.position.x=p.centre.x,i.position.y=p.centre.y,i.positionPrev.x=p.centre.x,i.positionPrev.y=p.centre.y,n.setMass(i,p.mass),n.setInertia(i,p.inertia),n.setPosition(i,p.centre)}},n.setCentre=function(i,h,g){g?(i.positionPrev.x+=h.x,i.positionPrev.y+=h.y,i.position.x+=h.x,i.position.y+=h.y):(i.positionPrev.x=h.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=h.y-(i.position.y-i.positionPrev.y),i.position.x=h.x,i.position.y=h.y)},n.setPosition=function(i,h,g){var m=u.sub(h,i.position);g?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=m.x,i.velocity.y=m.y,i.speed=u.magnitude(m)):(i.positionPrev.x+=m.x,i.positionPrev.y+=m.y);for(var y=0;y<i.parts.length;y++){var E=i.parts[y];E.position.x+=m.x,E.position.y+=m.y,s.translate(E.vertices,m),l.update(E.bounds,E.vertices,i.velocity)}},n.setAngle=function(i,h,g){var m=h-i.angle;g?(i.anglePrev=i.angle,i.angularVelocity=m,i.angularSpeed=Math.abs(m)):i.anglePrev+=m;for(var y=0;y<i.parts.length;y++){var E=i.parts[y];E.angle+=m,s.rotate(E.vertices,m,i.position),v.rotate(E.axes,m),l.update(E.bounds,E.vertices,i.velocity),y>0&&u.rotateAbout(E.position,m,i.position,E.position)}},n.setVelocity=function(i,h){var g=i.deltaTime/n._baseDelta;i.positionPrev.x=i.position.x-h.x*g,i.positionPrev.y=i.position.y-h.y*g,i.velocity.x=(i.position.x-i.positionPrev.x)/g,i.velocity.y=(i.position.y-i.positionPrev.y)/g,i.speed=u.magnitude(i.velocity)},n.getVelocity=function(i){var h=n._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*h,y:(i.position.y-i.positionPrev.y)*h}},n.getSpeed=function(i){return u.magnitude(n.getVelocity(i))},n.setSpeed=function(i,h){n.setVelocity(i,u.mult(u.normalise(n.getVelocity(i)),h))},n.setAngularVelocity=function(i,h){var g=i.deltaTime/n._baseDelta;i.anglePrev=i.angle-h*g,i.angularVelocity=(i.angle-i.anglePrev)/g,i.angularSpeed=Math.abs(i.angularVelocity)},n.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*n._baseDelta/i.deltaTime},n.getAngularSpeed=function(i){return Math.abs(n.getAngularVelocity(i))},n.setAngularSpeed=function(i,h){n.setAngularVelocity(i,d.sign(n.getAngularVelocity(i))*h)},n.translate=function(i,h,g){n.setPosition(i,u.add(i.position,h),g)},n.rotate=function(i,h,g,m){if(!g)n.setAngle(i,i.angle+h,m);else{var y=Math.cos(h),E=Math.sin(h),b=i.position.x-g.x,w=i.position.y-g.y;n.setPosition(i,{x:g.x+(b*y-w*E),y:g.y+(b*E+w*y)},m),n.setAngle(i,i.angle+h,m)}},n.scale=function(i,h,g,m){var y=0,E=0;m=m||i.position;for(var b=0;b<i.parts.length;b++){var w=i.parts[b];s.scale(w.vertices,h,g,m),w.axes=v.fromVertices(w.vertices),w.area=s.area(w.vertices),n.setMass(w,i.density*w.area),s.translate(w.vertices,{x:-w.position.x,y:-w.position.y}),n.setInertia(w,n._inertiaScale*s.inertia(w.vertices,w.mass)),s.translate(w.vertices,{x:w.position.x,y:w.position.y}),b>0&&(y+=w.area,E+=w.inertia),w.position.x=m.x+(w.position.x-m.x)*h,w.position.y=m.y+(w.position.y-m.y)*g,l.update(w.bounds,w.vertices,i.velocity)}i.parts.length>1&&(i.area=y,i.isStatic||(n.setMass(i,i.density*y),n.setInertia(i,E))),i.circleRadius&&(h===g?i.circleRadius*=h:i.circleRadius=null)},n.update=function(i,h){h=(typeof h<"u"?h:1e3/60)*i.timeScale;var g=h*h,m=n._timeCorrection?h/(i.deltaTime||h):1,y=1-i.frictionAir*(h/d._baseDelta),E=(i.position.x-i.positionPrev.x)*m,b=(i.position.y-i.positionPrev.y)*m;i.velocity.x=E*y+i.force.x/i.mass*g,i.velocity.y=b*y+i.force.y/i.mass*g,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=h,i.angularVelocity=(i.angle-i.anglePrev)*y*m+i.torque/i.inertia*g,i.anglePrev=i.angle,i.angle+=i.angularVelocity;for(var w=0;w<i.parts.length;w++){var p=i.parts[w];s.translate(p.vertices,i.velocity),w>0&&(p.position.x+=i.velocity.x,p.position.y+=i.velocity.y),i.angularVelocity!==0&&(s.rotate(p.vertices,i.angularVelocity,i.position),v.rotate(p.axes,i.angularVelocity),w>0&&u.rotateAbout(p.position,i.angularVelocity,i.position,p.position)),l.update(p.bounds,p.vertices,i.velocity)}},n.updateVelocities=function(i){var h=n._baseDelta/i.deltaTime,g=i.velocity;g.x=(i.position.x-i.positionPrev.x)*h,g.y=(i.position.y-i.positionPrev.y)*h,i.speed=Math.sqrt(g.x*g.x+g.y*g.y),i.angularVelocity=(i.angle-i.anglePrev)*h,i.angularSpeed=Math.abs(i.angularVelocity)},n.applyForce=function(i,h,g){var m={x:h.x-i.position.x,y:h.y-i.position.y};i.force.x+=g.x,i.force.y+=g.y,i.torque+=m.x*g.y-m.y*g.x},n._totalProperties=function(i){for(var h={mass:0,area:0,inertia:0,centre:{x:0,y:0}},g=i.parts.length===1?0:1;g<i.parts.length;g++){var m=i.parts[g],y=m.mass!==1/0?m.mass:1;h.mass+=y,h.area+=m.area,h.inertia+=m.inertia,h.centre=u.add(h.centre,u.mult(m.position,y))}return h.centre=u.div(h.centre,h.mass),h}})()},function(r,o,a){var n={};r.exports=n;var s=a(0);(function(){n.on=function(u,c,d){for(var l=c.split(" "),v,f=0;f<l.length;f++)v=l[f],u.events=u.events||{},u.events[v]=u.events[v]||[],u.events[v].push(d);return d},n.off=function(u,c,d){if(!c){u.events={};return}typeof c=="function"&&(d=c,c=s.keys(u.events).join(" "));for(var l=c.split(" "),v=0;v<l.length;v++){var f=u.events[l[v]],i=[];if(d&&f)for(var h=0;h<f.length;h++)f[h]!==d&&i.push(f[h]);u.events[l[v]]=i}},n.trigger=function(u,c,d){var l,v,f,i,h=u.events;if(h&&s.keys(h).length>0){d||(d={}),l=c.split(" ");for(var g=0;g<l.length;g++)if(v=l[g],f=h[v],f){i=s.clone(d,!1),i.name=v,i.source=u;for(var m=0;m<f.length;m++)f[m].apply(u,[i])}}}})()},function(r,o,a){var n={};r.exports=n;var s=a(5),u=a(0),c=a(1),d=a(4);(function(){n.create=function(l){return u.extend({id:u.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},l)},n.setModified=function(l,v,f,i){if(l.isModified=v,v&&l.cache&&(l.cache.allBodies=null,l.cache.allConstraints=null,l.cache.allComposites=null),f&&l.parent&&n.setModified(l.parent,v,f,i),i)for(var h=0;h<l.composites.length;h++){var g=l.composites[h];n.setModified(g,v,f,i)}},n.add=function(l,v){var f=[].concat(v);s.trigger(l,"beforeAdd",{object:v});for(var i=0;i<f.length;i++){var h=f[i];switch(h.type){case"body":if(h.parent!==h){u.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}n.addBody(l,h);break;case"constraint":n.addConstraint(l,h);break;case"composite":n.addComposite(l,h);break;case"mouseConstraint":n.addConstraint(l,h.constraint);break}}return s.trigger(l,"afterAdd",{object:v}),l},n.remove=function(l,v,f){var i=[].concat(v);s.trigger(l,"beforeRemove",{object:v});for(var h=0;h<i.length;h++){var g=i[h];switch(g.type){case"body":n.removeBody(l,g,f);break;case"constraint":n.removeConstraint(l,g,f);break;case"composite":n.removeComposite(l,g,f);break;case"mouseConstraint":n.removeConstraint(l,g.constraint);break}}return s.trigger(l,"afterRemove",{object:v}),l},n.addComposite=function(l,v){return l.composites.push(v),v.parent=l,n.setModified(l,!0,!0,!1),l},n.removeComposite=function(l,v,f){var i=u.indexOf(l.composites,v);if(i!==-1){var h=n.allBodies(v);n.removeCompositeAt(l,i);for(var g=0;g<h.length;g++)h[g].sleepCounter=0}if(f)for(var g=0;g<l.composites.length;g++)n.removeComposite(l.composites[g],v,!0);return l},n.removeCompositeAt=function(l,v){return l.composites.splice(v,1),n.setModified(l,!0,!0,!1),l},n.addBody=function(l,v){return l.bodies.push(v),n.setModified(l,!0,!0,!1),l},n.removeBody=function(l,v,f){var i=u.indexOf(l.bodies,v);if(i!==-1&&(n.removeBodyAt(l,i),v.sleepCounter=0),f)for(var h=0;h<l.composites.length;h++)n.removeBody(l.composites[h],v,!0);return l},n.removeBodyAt=function(l,v){return l.bodies.splice(v,1),n.setModified(l,!0,!0,!1),l},n.addConstraint=function(l,v){return l.constraints.push(v),n.setModified(l,!0,!0,!1),l},n.removeConstraint=function(l,v,f){var i=u.indexOf(l.constraints,v);if(i!==-1&&n.removeConstraintAt(l,i),f)for(var h=0;h<l.composites.length;h++)n.removeConstraint(l.composites[h],v,!0);return l},n.removeConstraintAt=function(l,v){return l.constraints.splice(v,1),n.setModified(l,!0,!0,!1),l},n.clear=function(l,v,f){if(f)for(var i=0;i<l.composites.length;i++)n.clear(l.composites[i],v,!0);return v?l.bodies=l.bodies.filter(function(h){return h.isStatic}):l.bodies.length=0,l.constraints.length=0,l.composites.length=0,n.setModified(l,!0,!0,!1),l},n.allBodies=function(l){if(l.cache&&l.cache.allBodies)return l.cache.allBodies;for(var v=[].concat(l.bodies),f=0;f<l.composites.length;f++)v=v.concat(n.allBodies(l.composites[f]));return l.cache&&(l.cache.allBodies=v),v},n.allConstraints=function(l){if(l.cache&&l.cache.allConstraints)return l.cache.allConstraints;for(var v=[].concat(l.constraints),f=0;f<l.composites.length;f++)v=v.concat(n.allConstraints(l.composites[f]));return l.cache&&(l.cache.allConstraints=v),v},n.allComposites=function(l){if(l.cache&&l.cache.allComposites)return l.cache.allComposites;for(var v=[].concat(l.composites),f=0;f<l.composites.length;f++)v=v.concat(n.allComposites(l.composites[f]));return l.cache&&(l.cache.allComposites=v),v},n.get=function(l,v,f){var i,h;switch(f){case"body":i=n.allBodies(l);break;case"constraint":i=n.allConstraints(l);break;case"composite":i=n.allComposites(l).concat(l);break}return i?(h=i.filter(function(g){return g.id.toString()===v.toString()}),h.length===0?null:h[0]):null},n.move=function(l,v,f){return n.remove(l,v),n.add(f,v),l},n.rebase=function(l){for(var v=n.allBodies(l).concat(n.allConstraints(l)).concat(n.allComposites(l)),f=0;f<v.length;f++)v[f].id=u.nextId();return l},n.translate=function(l,v,f){for(var i=f?n.allBodies(l):l.bodies,h=0;h<i.length;h++)d.translate(i[h],v);return l},n.rotate=function(l,v,f,i){for(var h=Math.cos(v),g=Math.sin(v),m=i?n.allBodies(l):l.bodies,y=0;y<m.length;y++){var E=m[y],b=E.position.x-f.x,w=E.position.y-f.y;d.setPosition(E,{x:f.x+(b*h-w*g),y:f.y+(b*g+w*h)}),d.rotate(E,v)}return l},n.scale=function(l,v,f,i,h){for(var g=h?n.allBodies(l):l.bodies,m=0;m<g.length;m++){var y=g[m],E=y.position.x-i.x,b=y.position.y-i.y;d.setPosition(y,{x:i.x+E*v,y:i.y+b*f}),d.scale(y,v,f)}return l},n.bounds=function(l){for(var v=n.allBodies(l),f=[],i=0;i<v.length;i+=1){var h=v[i];f.push(h.bounds.min,h.bounds.max)}return c.create(f)}})()},function(r,o,a){var n={};r.exports=n;var s=a(4),u=a(5),c=a(0);(function(){n._motionWakeThreshold=.18,n._motionSleepThreshold=.08,n._minBias=.9,n.update=function(d,l){for(var v=l/c._baseDelta,f=n._motionSleepThreshold,i=0;i<d.length;i++){var h=d[i],g=s.getSpeed(h),m=s.getAngularSpeed(h),y=g*g+m*m;if(h.force.x!==0||h.force.y!==0){n.set(h,!1);continue}var E=Math.min(h.motion,y),b=Math.max(h.motion,y);h.motion=n._minBias*E+(1-n._minBias)*b,h.sleepThreshold>0&&h.motion<f?(h.sleepCounter+=1,h.sleepCounter>=h.sleepThreshold/v&&n.set(h,!0)):h.sleepCounter>0&&(h.sleepCounter-=1)}},n.afterCollisions=function(d){for(var l=n._motionSleepThreshold,v=0;v<d.length;v++){var f=d[v];if(f.isActive){var i=f.collision,h=i.bodyA.parent,g=i.bodyB.parent;if(!(h.isSleeping&&g.isSleeping||h.isStatic||g.isStatic)&&(h.isSleeping||g.isSleeping)){var m=h.isSleeping&&!h.isStatic?h:g,y=m===h?g:h;!m.isStatic&&y.motion>l&&n.set(m,!1)}}}},n.set=function(d,l){var v=d.isSleeping;l?(d.isSleeping=!0,d.sleepCounter=d.sleepThreshold,d.positionImpulse.x=0,d.positionImpulse.y=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.speed=0,d.angularSpeed=0,d.motion=0,v||u.trigger(d,"sleepStart")):(d.isSleeping=!1,d.sleepCounter=0,v&&u.trigger(d,"sleepEnd"))}})()},function(r,o,a){var n={};r.exports=n;var s=a(3),u=a(9);(function(){var c=[],d={overlap:0,axis:null},l={overlap:0,axis:null};n.create=function(v,f){return{pair:null,collided:!1,bodyA:v,bodyB:f,parentA:v.parent,parentB:f.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},n.collides=function(v,f,i){if(n._overlapAxes(d,v.vertices,f.vertices,v.axes),d.overlap<=0||(n._overlapAxes(l,f.vertices,v.vertices,f.axes),l.overlap<=0))return null;var h=i&&i.table[u.id(v,f)],g;h?g=h.collision:(g=n.create(v,f),g.collided=!0,g.bodyA=v.id<f.id?v:f,g.bodyB=v.id<f.id?f:v,g.parentA=g.bodyA.parent,g.parentB=g.bodyB.parent),v=g.bodyA,f=g.bodyB;var m;d.overlap<l.overlap?m=d:m=l;var y=g.normal,E=g.tangent,b=g.penetration,w=g.supports,p=m.overlap,T=m.axis,A=T.x,x=T.y,M=f.position.x-v.position.x,C=f.position.y-v.position.y;A*M+x*C>=0&&(A=-A,x=-x),y.x=A,y.y=x,E.x=-x,E.y=A,b.x=A*p,b.y=x*p,g.depth=p;var D=n._findSupports(v,f,y,1),_=0;if(s.contains(v.vertices,D[0])&&(w[_++]=D[0]),s.contains(v.vertices,D[1])&&(w[_++]=D[1]),_<2){var I=n._findSupports(f,v,y,-1);s.contains(f.vertices,I[0])&&(w[_++]=I[0]),_<2&&s.contains(f.vertices,I[1])&&(w[_++]=I[1])}return _===0&&(w[_++]=D[0]),g.supportCount=_,g},n._overlapAxes=function(v,f,i,h){var g=f.length,m=i.length,y=f[0].x,E=f[0].y,b=i[0].x,w=i[0].y,p=h.length,T=Number.MAX_VALUE,A=0,x,M,C,D,_,I;for(_=0;_<p;_++){var N=h[_],P=N.x,R=N.y,O=y*P+E*R,L=b*P+w*R,B=O,W=L;for(I=1;I<g;I+=1)D=f[I].x*P+f[I].y*R,D>B?B=D:D<O&&(O=D);for(I=1;I<m;I+=1)D=i[I].x*P+i[I].y*R,D>W?W=D:D<L&&(L=D);if(M=B-L,C=W-O,x=M<C?M:C,x<T&&(T=x,A=_,x<=0))break}v.axis=h[A],v.overlap=T},n._findSupports=function(v,f,i,h){var g=f.vertices,m=g.length,y=v.position.x,E=v.position.y,b=i.x*h,w=i.y*h,p=g[0],T=p,A=b*(y-T.x)+w*(E-T.y),x,M,C;for(C=1;C<m;C+=1)T=g[C],M=b*(y-T.x)+w*(E-T.y),M<A&&(A=M,p=T);return x=g[(m+p.index-1)%m],A=b*(y-x.x)+w*(E-x.y),T=g[(p.index+1)%m],b*(y-T.x)+w*(E-T.y)<A?(c[0]=p,c[1]=T,c):(c[0]=p,c[1]=x,c)}})()},function(r,o,a){var n={};r.exports=n;var s=a(16);(function(){n.create=function(u,c){var d=u.bodyA,l=u.bodyB,v={id:n.id(d,l),bodyA:d,bodyB:l,collision:u,contacts:[s.create(),s.create()],contactCount:0,separation:0,isActive:!0,isSensor:d.isSensor||l.isSensor,timeCreated:c,timeUpdated:c,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return n.update(v,u,c),v},n.update=function(u,c,d){var l=c.supports,v=c.supportCount,f=u.contacts,i=c.parentA,h=c.parentB;u.isActive=!0,u.timeUpdated=d,u.collision=c,u.separation=c.depth,u.inverseMass=i.inverseMass+h.inverseMass,u.friction=i.friction<h.friction?i.friction:h.friction,u.frictionStatic=i.frictionStatic>h.frictionStatic?i.frictionStatic:h.frictionStatic,u.restitution=i.restitution>h.restitution?i.restitution:h.restitution,u.slop=i.slop>h.slop?i.slop:h.slop,u.contactCount=v,c.pair=u;var g=l[0],m=f[0],y=l[1],E=f[1];(E.vertex===g||m.vertex===y)&&(f[1]=m,f[0]=m=E,E=f[1]),m.vertex=g,E.vertex=y},n.setActive=function(u,c,d){c?(u.isActive=!0,u.timeUpdated=d):(u.isActive=!1,u.contactCount=0)},n.id=function(u,c){return u.id<c.id?u.id.toString(36)+":"+c.id.toString(36):c.id.toString(36)+":"+u.id.toString(36)}})()},function(r,o,a){var n={};r.exports=n;var s=a(3),u=a(2),c=a(7),d=a(1),l=a(11),v=a(0);(function(){n._warming=.4,n._torqueDampen=1,n._minLength=1e-6,n.create=function(f){var i=f;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var h=i.bodyA?u.add(i.bodyA.position,i.pointA):i.pointA,g=i.bodyB?u.add(i.bodyB.position,i.pointB):i.pointB,m=u.magnitude(u.sub(h,g));i.length=typeof i.length<"u"?i.length:m,i.id=i.id||v.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var y={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return i.length===0&&i.stiffness>.1?(y.type="pin",y.anchors=!1):i.stiffness<.9&&(y.type="spring"),i.render=v.extend(y,i.render),i},n.preSolveAll=function(f){for(var i=0;i<f.length;i+=1){var h=f[i],g=h.constraintImpulse;h.isStatic||g.x===0&&g.y===0&&g.angle===0||(h.position.x+=g.x,h.position.y+=g.y,h.angle+=g.angle)}},n.solveAll=function(f,i){for(var h=v.clamp(i/v._baseDelta,0,1),g=0;g<f.length;g+=1){var m=f[g],y=!m.bodyA||m.bodyA&&m.bodyA.isStatic,E=!m.bodyB||m.bodyB&&m.bodyB.isStatic;(y||E)&&n.solve(f[g],h)}for(g=0;g<f.length;g+=1)m=f[g],y=!m.bodyA||m.bodyA&&m.bodyA.isStatic,E=!m.bodyB||m.bodyB&&m.bodyB.isStatic,!y&&!E&&n.solve(f[g],h)},n.solve=function(f,i){var h=f.bodyA,g=f.bodyB,m=f.pointA,y=f.pointB;if(!(!h&&!g)){h&&!h.isStatic&&(u.rotate(m,h.angle-f.angleA,m),f.angleA=h.angle),g&&!g.isStatic&&(u.rotate(y,g.angle-f.angleB,y),f.angleB=g.angle);var E=m,b=y;if(h&&(E=u.add(h.position,m)),g&&(b=u.add(g.position,y)),!(!E||!b)){var w=u.sub(E,b),p=u.magnitude(w);p<n._minLength&&(p=n._minLength);var T=(p-f.length)/p,A=f.stiffness>=1||f.length===0,x=A?f.stiffness*i:f.stiffness*i*i,M=f.damping*i,C=u.mult(w,T*x),D=(h?h.inverseMass:0)+(g?g.inverseMass:0),_=(h?h.inverseInertia:0)+(g?g.inverseInertia:0),I=D+_,N,P,R,O,L;if(M>0){var B=u.create();R=u.div(w,p),L=u.sub(g&&u.sub(g.position,g.positionPrev)||B,h&&u.sub(h.position,h.positionPrev)||B),O=u.dot(R,L)}h&&!h.isStatic&&(P=h.inverseMass/D,h.constraintImpulse.x-=C.x*P,h.constraintImpulse.y-=C.y*P,h.position.x-=C.x*P,h.position.y-=C.y*P,M>0&&(h.positionPrev.x-=M*R.x*O*P,h.positionPrev.y-=M*R.y*O*P),N=u.cross(m,C)/I*n._torqueDampen*h.inverseInertia*(1-f.angularStiffness),h.constraintImpulse.angle-=N,h.angle-=N),g&&!g.isStatic&&(P=g.inverseMass/D,g.constraintImpulse.x+=C.x*P,g.constraintImpulse.y+=C.y*P,g.position.x+=C.x*P,g.position.y+=C.y*P,M>0&&(g.positionPrev.x+=M*R.x*O*P,g.positionPrev.y+=M*R.y*O*P),N=u.cross(y,C)/I*n._torqueDampen*g.inverseInertia*(1-f.angularStiffness),g.constraintImpulse.angle+=N,g.angle+=N)}}},n.postSolveAll=function(f){for(var i=0;i<f.length;i++){var h=f[i],g=h.constraintImpulse;if(!(h.isStatic||g.x===0&&g.y===0&&g.angle===0)){c.set(h,!1);for(var m=0;m<h.parts.length;m++){var y=h.parts[m];s.translate(y.vertices,g),m>0&&(y.position.x+=g.x,y.position.y+=g.y),g.angle!==0&&(s.rotate(y.vertices,g.angle,h.position),l.rotate(y.axes,g.angle),m>0&&u.rotateAbout(y.position,g.angle,h.position,y.position)),d.update(y.bounds,y.vertices,h.velocity)}g.angle*=n._warming,g.x*=n._warming,g.y*=n._warming}}},n.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),y:(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0)}},n.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),y:(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0)}},n.currentLength=function(f){var i=(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),h=(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0),g=(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),m=(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0),y=i-g,E=h-m;return Math.sqrt(y*y+E*E)}})()},function(r,o,a){var n={};r.exports=n;var s=a(2),u=a(0);(function(){n.fromVertices=function(c){for(var d={},l=0;l<c.length;l++){var v=(l+1)%c.length,f=s.normalise({x:c[v].y-c[l].y,y:c[l].x-c[v].x}),i=f.y===0?1/0:f.x/f.y;i=i.toFixed(3).toString(),d[i]=f}return u.values(d)},n.rotate=function(c,d){if(d!==0)for(var l=Math.cos(d),v=Math.sin(d),f=0;f<c.length;f++){var i=c[f],h;h=i.x*l-i.y*v,i.y=i.x*v+i.y*l,i.x=h}}})()},function(r,o,a){var n={};r.exports=n;var s=a(3),u=a(0),c=a(4),d=a(1),l=a(2);(function(){n.rectangle=function(v,f,i,h,g){g=g||{};var m={label:"Rectangle Body",position:{x:v,y:f},vertices:s.fromPath("L 0 0 L "+i+" 0 L "+i+" "+h+" L 0 "+h)};if(g.chamfer){var y=g.chamfer;m.vertices=s.chamfer(m.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete g.chamfer}return c.create(u.extend({},m,g))},n.trapezoid=function(v,f,i,h,g,m){m=m||{},g>=1&&u.warn("Bodies.trapezoid: slope parameter must be < 1."),g*=.5;var y=(1-g*2)*i,E=i*g,b=E+y,w=b+E,p;g<.5?p="L 0 0 L "+E+" "+-h+" L "+b+" "+-h+" L "+w+" 0":p="L 0 0 L "+b+" "+-h+" L "+w+" 0";var T={label:"Trapezoid Body",position:{x:v,y:f},vertices:s.fromPath(p)};if(m.chamfer){var A=m.chamfer;T.vertices=s.chamfer(T.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete m.chamfer}return c.create(u.extend({},T,m))},n.circle=function(v,f,i,h,g){h=h||{};var m={label:"Circle Body",circleRadius:i};g=g||25;var y=Math.ceil(Math.max(10,Math.min(g,i)));return y%2===1&&(y+=1),n.polygon(v,f,y,i,u.extend({},m,h))},n.polygon=function(v,f,i,h,g){if(g=g||{},i<3)return n.circle(v,f,h,g);for(var m=2*Math.PI/i,y="",E=m*.5,b=0;b<i;b+=1){var w=E+b*m,p=Math.cos(w)*h,T=Math.sin(w)*h;y+="L "+p.toFixed(3)+" "+T.toFixed(3)+" "}var A={label:"Polygon Body",position:{x:v,y:f},vertices:s.fromPath(y)};if(g.chamfer){var x=g.chamfer;A.vertices=s.chamfer(A.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete g.chamfer}return c.create(u.extend({},A,g))},n.fromVertices=function(v,f,i,h,g,m,y,E){var b=u.getDecomp(),w,p,T,A,x,M,C,D,_,I,N;for(w=!!(b&&b.quickDecomp),h=h||{},T=[],g=typeof g<"u"?g:!1,m=typeof m<"u"?m:.01,y=typeof y<"u"?y:10,E=typeof E<"u"?E:.01,u.isArray(i[0])||(i=[i]),I=0;I<i.length;I+=1)if(M=i[I],A=s.isConvex(M),x=!A,x&&!w&&u.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),A||!w)A?M=s.clockwiseSort(M):M=s.hull(M),T.push({position:{x:v,y:f},vertices:M});else{var P=M.map(function(Y){return[Y.x,Y.y]});b.makeCCW(P),m!==!1&&b.removeCollinearPoints(P,m),E!==!1&&b.removeDuplicatePoints&&b.removeDuplicatePoints(P,E);var R=b.quickDecomp(P);for(C=0;C<R.length;C++){var O=R[C],L=O.map(function(Y){return{x:Y[0],y:Y[1]}});y>0&&s.area(L)<y||T.push({position:s.centre(L),vertices:L})}}for(C=0;C<T.length;C++)T[C]=c.create(u.extend(T[C],h));if(g){var B=5;for(C=0;C<T.length;C++){var W=T[C];for(D=C+1;D<T.length;D++){var Q=T[D];if(d.overlaps(W.bounds,Q.bounds)){var G=W.vertices,F=Q.vertices;for(_=0;_<W.vertices.length;_++)for(N=0;N<Q.vertices.length;N++){var H=l.magnitudeSquared(l.sub(G[(_+1)%G.length],F[N])),z=l.magnitudeSquared(l.sub(G[_],F[(N+1)%F.length]));H<B&&z<B&&(G[_].isInternal=!0,F[N].isInternal=!0)}}}}}return T.length>1?(p=c.create(u.extend({parts:T.slice(0)},h)),c.setPosition(p,{x:v,y:f}),p):T[0]}})()},function(r,o,a){var n={};r.exports=n;var s=a(0),u=a(8);(function(){n.create=function(c){var d={bodies:[],collisions:[],pairs:null};return s.extend(d,c)},n.setBodies=function(c,d){c.bodies=d.slice(0)},n.clear=function(c){c.bodies=[],c.collisions=[]},n.collisions=function(c){var d=c.pairs,l=c.bodies,v=l.length,f=n.canCollide,i=u.collides,h=c.collisions,g=0,m,y;for(l.sort(n._compareBoundsX),m=0;m<v;m++){var E=l[m],b=E.bounds,w=E.bounds.max.x,p=E.bounds.max.y,T=E.bounds.min.y,A=E.isStatic||E.isSleeping,x=E.parts.length,M=x===1;for(y=m+1;y<v;y++){var C=l[y],D=C.bounds;if(D.min.x>w)break;if(!(p<D.min.y||T>D.max.y)&&!(A&&(C.isStatic||C.isSleeping))&&f(E.collisionFilter,C.collisionFilter)){var _=C.parts.length;if(M&&_===1){var I=i(E,C,d);I&&(h[g++]=I)}else for(var N=x>1?1:0,P=_>1?1:0,R=N;R<x;R++)for(var O=E.parts[R],b=O.bounds,L=P;L<_;L++){var B=C.parts[L],D=B.bounds;if(!(b.min.x>D.max.x||b.max.x<D.min.x||b.max.y<D.min.y||b.min.y>D.max.y)){var I=i(O,B,d);I&&(h[g++]=I)}}}}}return h.length!==g&&(h.length=g),h},n.canCollide=function(c,d){return c.group===d.group&&c.group!==0?c.group>0:(c.mask&d.category)!==0&&(d.mask&c.category)!==0},n._compareBoundsX=function(c,d){return c.bounds.min.x-d.bounds.min.x}})()},function(r,o,a){var n={};r.exports=n;var s=a(0);(function(){n.create=function(u){var c={};return u||s.log("Mouse.create: element was undefined, defaulting to document.body","warn"),c.element=u||document.body,c.absolute={x:0,y:0},c.position={x:0,y:0},c.mousedownPosition={x:0,y:0},c.mouseupPosition={x:0,y:0},c.offset={x:0,y:0},c.scale={x:1,y:1},c.wheelDelta=0,c.button=-1,c.pixelRatio=parseInt(c.element.getAttribute("data-pixel-ratio"),10)||1,c.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},c.mousemove=function(d){var l=n._getRelativeMousePosition(d,c.element,c.pixelRatio),v=d.changedTouches;v&&(c.button=0,d.preventDefault()),c.absolute.x=l.x,c.absolute.y=l.y,c.position.x=c.absolute.x*c.scale.x+c.offset.x,c.position.y=c.absolute.y*c.scale.y+c.offset.y,c.sourceEvents.mousemove=d},c.mousedown=function(d){var l=n._getRelativeMousePosition(d,c.element,c.pixelRatio),v=d.changedTouches;v?(c.button=0,d.preventDefault()):c.button=d.button,c.absolute.x=l.x,c.absolute.y=l.y,c.position.x=c.absolute.x*c.scale.x+c.offset.x,c.position.y=c.absolute.y*c.scale.y+c.offset.y,c.mousedownPosition.x=c.position.x,c.mousedownPosition.y=c.position.y,c.sourceEvents.mousedown=d},c.mouseup=function(d){var l=n._getRelativeMousePosition(d,c.element,c.pixelRatio),v=d.changedTouches;v&&d.preventDefault(),c.button=-1,c.absolute.x=l.x,c.absolute.y=l.y,c.position.x=c.absolute.x*c.scale.x+c.offset.x,c.position.y=c.absolute.y*c.scale.y+c.offset.y,c.mouseupPosition.x=c.position.x,c.mouseupPosition.y=c.position.y,c.sourceEvents.mouseup=d},c.mousewheel=function(d){c.wheelDelta=Math.max(-1,Math.min(1,d.wheelDelta||-d.detail)),d.preventDefault(),c.sourceEvents.mousewheel=d},n.setElement(c,c.element),c},n.setElement=function(u,c){u.element=c,c.addEventListener("mousemove",u.mousemove,{passive:!0}),c.addEventListener("mousedown",u.mousedown,{passive:!0}),c.addEventListener("mouseup",u.mouseup,{passive:!0}),c.addEventListener("wheel",u.mousewheel,{passive:!1}),c.addEventListener("touchmove",u.mousemove,{passive:!1}),c.addEventListener("touchstart",u.mousedown,{passive:!1}),c.addEventListener("touchend",u.mouseup,{passive:!1})},n.clearSourceEvents=function(u){u.sourceEvents.mousemove=null,u.sourceEvents.mousedown=null,u.sourceEvents.mouseup=null,u.sourceEvents.mousewheel=null,u.wheelDelta=0},n.setOffset=function(u,c){u.offset.x=c.x,u.offset.y=c.y,u.position.x=u.absolute.x*u.scale.x+u.offset.x,u.position.y=u.absolute.y*u.scale.y+u.offset.y},n.setScale=function(u,c){u.scale.x=c.x,u.scale.y=c.y,u.position.x=u.absolute.x*u.scale.x+u.offset.x,u.position.y=u.absolute.y*u.scale.y+u.offset.y},n._getRelativeMousePosition=function(u,c,d){var l=c.getBoundingClientRect(),v=document.documentElement||document.body.parentNode||document.body,f=window.pageXOffset!==void 0?window.pageXOffset:v.scrollLeft,i=window.pageYOffset!==void 0?window.pageYOffset:v.scrollTop,h=u.changedTouches,g,m;return h?(g=h[0].pageX-l.left-f,m=h[0].pageY-l.top-i):(g=u.pageX-l.left-f,m=u.pageY-l.top-i),{x:g/(c.clientWidth/(c.width||c.clientWidth)*d),y:m/(c.clientHeight/(c.height||c.clientHeight)*d)}}})()},function(r,o,a){var n={};r.exports=n;var s=a(0);(function(){n._registry={},n.register=function(u){if(n.isPlugin(u)||s.warn("Plugin.register:",n.toString(u),"does not implement all required fields."),u.name in n._registry){var c=n._registry[u.name],d=n.versionParse(u.version).number,l=n.versionParse(c.version).number;d>l?(s.warn("Plugin.register:",n.toString(c),"was upgraded to",n.toString(u)),n._registry[u.name]=u):d<l?s.warn("Plugin.register:",n.toString(c),"can not be downgraded to",n.toString(u)):u!==c&&s.warn("Plugin.register:",n.toString(u),"is already registered to different plugin object")}else n._registry[u.name]=u;return u},n.resolve=function(u){return n._registry[n.dependencyParse(u).name]},n.toString=function(u){return typeof u=="string"?u:(u.name||"anonymous")+"@"+(u.version||u.range||"0.0.0")},n.isPlugin=function(u){return u&&u.name&&u.version&&u.install},n.isUsed=function(u,c){return u.used.indexOf(c)>-1},n.isFor=function(u,c){var d=u.for&&n.dependencyParse(u.for);return!u.for||c.name===d.name&&n.versionSatisfies(c.version,d.range)},n.use=function(u,c){if(u.uses=(u.uses||[]).concat(c||[]),u.uses.length===0){s.warn("Plugin.use:",n.toString(u),"does not specify any dependencies to install.");return}for(var d=n.dependencies(u),l=s.topologicalSort(d),v=[],f=0;f<l.length;f+=1)if(l[f]!==u.name){var i=n.resolve(l[f]);if(!i){v.push("â "+l[f]);continue}n.isUsed(u,i.name)||(n.isFor(i,u)||(s.warn("Plugin.use:",n.toString(i),"is for",i.for,"but installed on",n.toString(u)+"."),i._warned=!0),i.install?i.install(u):(s.warn("Plugin.use:",n.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(v.push("ð¶ "+n.toString(i)),delete i._warned):v.push("â "+n.toString(i)),u.used.push(i.name))}v.length>0&&s.info(v.join("  "))},n.dependencies=function(u,c){var d=n.dependencyParse(u),l=d.name;if(c=c||{},!(l in c)){u=n.resolve(u)||u,c[l]=s.map(u.uses||[],function(f){n.isPlugin(f)&&n.register(f);var i=n.dependencyParse(f),h=n.resolve(f);return h&&!n.versionSatisfies(h.version,i.range)?(s.warn("Plugin.dependencies:",n.toString(h),"does not satisfy",n.toString(i),"used by",n.toString(d)+"."),h._warned=!0,u._warned=!0):h||(s.warn("Plugin.dependencies:",n.toString(f),"used by",n.toString(d),"could not be resolved."),u._warned=!0),i.name});for(var v=0;v<c[l].length;v+=1)n.dependencies(c[l][v],c);return c}},n.dependencyParse=function(u){if(s.isString(u)){var c=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return c.test(u)||s.warn("Plugin.dependencyParse:",u,"is not a valid dependency string."),{name:u.split("@")[0],range:u.split("@")[1]||"*"}}return{name:u.name,range:u.range||u.version}},n.versionParse=function(u){var c=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;c.test(u)||s.warn("Plugin.versionParse:",u,"is not a valid version or range.");var d=c.exec(u),l=Number(d[4]),v=Number(d[5]),f=Number(d[6]);return{isRange:!!(d[1]||d[2]),version:d[3],range:u,operator:d[1]||d[2]||"",major:l,minor:v,patch:f,parts:[l,v,f],prerelease:d[7],number:l*1e8+v*1e4+f}},n.versionSatisfies=function(u,c){c=c||"*";var d=n.versionParse(c),l=n.versionParse(u);if(d.isRange){if(d.operator==="*"||u==="*")return!0;if(d.operator===">")return l.number>d.number;if(d.operator===">=")return l.number>=d.number;if(d.operator==="~")return l.major===d.major&&l.minor===d.minor&&l.patch>=d.patch;if(d.operator==="^")return d.major>0?l.major===d.major&&l.number>=d.number:d.minor>0?l.minor===d.minor&&l.patch>=d.patch:l.patch===d.patch}return u===c||u==="*"}})()},function(r,o){var a={};r.exports=a,function(){a.create=function(n){return{vertex:n,normalImpulse:0,tangentImpulse:0}}}()},function(r,o,a){var n={};r.exports=n;var s=a(7),u=a(18),c=a(13),d=a(19),l=a(5),v=a(6),f=a(10),i=a(0),h=a(4);(function(){n._deltaMax=1e3/60,n.create=function(g){g=g||{};var m={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},y=i.extend(m,g);return y.world=g.world||v.create({label:"World"}),y.pairs=g.pairs||d.create(),y.detector=g.detector||c.create(),y.detector.pairs=y.pairs,y.grid={buckets:[]},y.world.gravity=y.gravity,y.broadphase=y.grid,y.metrics={},y},n.update=function(g,m){var y=i.now(),E=g.world,b=g.detector,w=g.pairs,p=g.timing,T=p.timestamp,A;m>n._deltaMax&&i.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",n._deltaMax.toFixed(3),"ms."),m=typeof m<"u"?m:i._baseDelta,m*=p.timeScale,p.timestamp+=m,p.lastDelta=m;var x={timestamp:p.timestamp,delta:m};l.trigger(g,"beforeUpdate",x);var M=v.allBodies(E),C=v.allConstraints(E);for(E.isModified&&(c.setBodies(b,M),v.setModified(E,!1,!1,!0)),g.enableSleeping&&s.update(M,m),n._bodiesApplyGravity(M,g.gravity),m>0&&n._bodiesUpdate(M,m),l.trigger(g,"beforeSolve",x),f.preSolveAll(M),A=0;A<g.constraintIterations;A++)f.solveAll(C,m);f.postSolveAll(M);var D=c.collisions(b);d.update(w,D,T),g.enableSleeping&&s.afterCollisions(w.list),w.collisionStart.length>0&&l.trigger(g,"collisionStart",{pairs:w.collisionStart,timestamp:p.timestamp,delta:m});var _=i.clamp(20/g.positionIterations,0,1);for(u.preSolvePosition(w.list),A=0;A<g.positionIterations;A++)u.solvePosition(w.list,m,_);for(u.postSolvePosition(M),f.preSolveAll(M),A=0;A<g.constraintIterations;A++)f.solveAll(C,m);for(f.postSolveAll(M),u.preSolveVelocity(w.list),A=0;A<g.velocityIterations;A++)u.solveVelocity(w.list,m);return n._bodiesUpdateVelocities(M),w.collisionActive.length>0&&l.trigger(g,"collisionActive",{pairs:w.collisionActive,timestamp:p.timestamp,delta:m}),w.collisionEnd.length>0&&l.trigger(g,"collisionEnd",{pairs:w.collisionEnd,timestamp:p.timestamp,delta:m}),n._bodiesClearForces(M),l.trigger(g,"afterUpdate",x),g.timing.lastElapsed=i.now()-y,g},n.merge=function(g,m){if(i.extend(g,m),m.world){g.world=m.world,n.clear(g);for(var y=v.allBodies(g.world),E=0;E<y.length;E++){var b=y[E];s.set(b,!1),b.id=i.nextId()}}},n.clear=function(g){d.clear(g.pairs),c.clear(g.detector)},n._bodiesClearForces=function(g){for(var m=g.length,y=0;y<m;y++){var E=g[y];E.force.x=0,E.force.y=0,E.torque=0}},n._bodiesApplyGravity=function(g,m){var y=typeof m.scale<"u"?m.scale:.001,E=g.length;if(!(m.x===0&&m.y===0||y===0))for(var b=0;b<E;b++){var w=g[b];w.isStatic||w.isSleeping||(w.force.y+=w.mass*m.y*y,w.force.x+=w.mass*m.x*y)}},n._bodiesUpdate=function(g,m){for(var y=g.length,E=0;E<y;E++){var b=g[E];b.isStatic||b.isSleeping||h.update(b,m)}},n._bodiesUpdateVelocities=function(g){for(var m=g.length,y=0;y<m;y++)h.updateVelocities(g[y])}})()},function(r,o,a){var n={};r.exports=n;var s=a(3),u=a(0),c=a(1);(function(){n._restingThresh=2,n._restingThreshTangent=Math.sqrt(6),n._positionDampen=.9,n._positionWarming=.8,n._frictionNormalMultiplier=5,n._frictionMaxStatic=Number.MAX_VALUE,n.preSolvePosition=function(d){var l,v,f,i=d.length;for(l=0;l<i;l++)v=d[l],v.isActive&&(f=v.contactCount,v.collision.parentA.totalContacts+=f,v.collision.parentB.totalContacts+=f)},n.solvePosition=function(d,l,v){var f,i,h,g,m,y,E,b,w=n._positionDampen*(v||1),p=u.clamp(l/u._baseDelta,0,1),T=d.length;for(f=0;f<T;f++)i=d[f],!(!i.isActive||i.isSensor)&&(h=i.collision,g=h.parentA,m=h.parentB,y=h.normal,i.separation=h.depth+y.x*(m.positionImpulse.x-g.positionImpulse.x)+y.y*(m.positionImpulse.y-g.positionImpulse.y));for(f=0;f<T;f++)i=d[f],!(!i.isActive||i.isSensor)&&(h=i.collision,g=h.parentA,m=h.parentB,y=h.normal,b=i.separation-i.slop*p,(g.isStatic||m.isStatic)&&(b*=2),g.isStatic||g.isSleeping||(E=w/g.totalContacts,g.positionImpulse.x+=y.x*b*E,g.positionImpulse.y+=y.y*b*E),m.isStatic||m.isSleeping||(E=w/m.totalContacts,m.positionImpulse.x-=y.x*b*E,m.positionImpulse.y-=y.y*b*E))},n.postSolvePosition=function(d){for(var l=n._positionWarming,v=d.length,f=s.translate,i=c.update,h=0;h<v;h++){var g=d[h],m=g.positionImpulse,y=m.x,E=m.y,b=g.velocity;if(g.totalContacts=0,y!==0||E!==0){for(var w=0;w<g.parts.length;w++){var p=g.parts[w];f(p.vertices,m),i(p.bounds,p.vertices,b),p.position.x+=y,p.position.y+=E}g.positionPrev.x+=y,g.positionPrev.y+=E,y*b.x+E*b.y<0?(m.x=0,m.y=0):(m.x*=l,m.y*=l)}}},n.preSolveVelocity=function(d){var l=d.length,v,f;for(v=0;v<l;v++){var i=d[v];if(!(!i.isActive||i.isSensor)){var h=i.contacts,g=i.contactCount,m=i.collision,y=m.parentA,E=m.parentB,b=m.normal,w=m.tangent;for(f=0;f<g;f++){var p=h[f],T=p.vertex,A=p.normalImpulse,x=p.tangentImpulse;if(A!==0||x!==0){var M=b.x*A+w.x*x,C=b.y*A+w.y*x;y.isStatic||y.isSleeping||(y.positionPrev.x+=M*y.inverseMass,y.positionPrev.y+=C*y.inverseMass,y.anglePrev+=y.inverseInertia*((T.x-y.position.x)*C-(T.y-y.position.y)*M)),E.isStatic||E.isSleeping||(E.positionPrev.x-=M*E.inverseMass,E.positionPrev.y-=C*E.inverseMass,E.anglePrev-=E.inverseInertia*((T.x-E.position.x)*C-(T.y-E.position.y)*M))}}}}},n.solveVelocity=function(d,l){var v=l/u._baseDelta,f=v*v,i=f*v,h=-n._restingThresh*v,g=n._restingThreshTangent,m=n._frictionNormalMultiplier*v,y=n._frictionMaxStatic,E=d.length,b,w,p,T;for(p=0;p<E;p++){var A=d[p];if(!(!A.isActive||A.isSensor)){var x=A.collision,M=x.parentA,C=x.parentB,D=x.normal.x,_=x.normal.y,I=x.tangent.x,N=x.tangent.y,P=A.inverseMass,R=A.friction*A.frictionStatic*m,O=A.contacts,L=A.contactCount,B=1/L,W=M.position.x-M.positionPrev.x,Q=M.position.y-M.positionPrev.y,G=M.angle-M.anglePrev,F=C.position.x-C.positionPrev.x,H=C.position.y-C.positionPrev.y,z=C.angle-C.anglePrev;for(T=0;T<L;T++){var Y=O[T],ee=Y.vertex,oe=ee.x-M.position.x,ce=ee.y-M.position.y,le=ee.x-C.position.x,V=ee.y-C.position.y,j=W-ce*G,U=Q+oe*G,te=F-V*z,J=H+le*z,se=j-te,ue=U-J,fe=D*se+_*ue,ge=I*se+N*ue,K=A.separation+fe,ie=Math.min(K,1);ie=K<0?0:ie;var xe=ie*R;ge<-xe||ge>xe?(w=ge>0?ge:-ge,b=A.friction*(ge>0?1:-1)*i,b<-w?b=-w:b>w&&(b=w)):(b=ge,w=y);var Re=oe*_-ce*D,De=le*_-V*D,Ve=B/(P+M.inverseInertia*Re*Re+C.inverseInertia*De*De),be=(1+A.restitution)*fe*Ve;if(b*=Ve,fe<h)Y.normalImpulse=0;else{var Se=Y.normalImpulse;Y.normalImpulse+=be,Y.normalImpulse>0&&(Y.normalImpulse=0),be=Y.normalImpulse-Se}if(ge<-g||ge>g)Y.tangentImpulse=0;else{var we=Y.tangentImpulse;Y.tangentImpulse+=b,Y.tangentImpulse<-w&&(Y.tangentImpulse=-w),Y.tangentImpulse>w&&(Y.tangentImpulse=w),b=Y.tangentImpulse-we}var Me=D*be+I*b,He=_*be+N*b;M.isStatic||M.isSleeping||(M.positionPrev.x+=Me*M.inverseMass,M.positionPrev.y+=He*M.inverseMass,M.anglePrev+=(oe*He-ce*Me)*M.inverseInertia),C.isStatic||C.isSleeping||(C.positionPrev.x-=Me*C.inverseMass,C.positionPrev.y-=He*C.inverseMass,C.anglePrev-=(le*He-V*Me)*C.inverseInertia)}}}}})()},function(r,o,a){var n={};r.exports=n;var s=a(9),u=a(0);(function(){n.create=function(c){return u.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},c)},n.update=function(c,d,l){var v=s.update,f=s.create,i=s.setActive,h=c.table,g=c.list,m=g.length,y=m,E=c.collisionStart,b=c.collisionEnd,w=c.collisionActive,p=d.length,T=0,A=0,x=0,M,C,D;for(D=0;D<p;D++)M=d[D],C=M.pair,C?(C.isActive&&(w[x++]=C),v(C,M,l)):(C=f(M,l),h[C.id]=C,E[T++]=C,g[y++]=C);for(y=0,m=g.length,D=0;D<m;D++)C=g[D],C.timeUpdated>=l?g[y++]=C:(i(C,!1,l),C.collision.bodyA.sleepCounter>0&&C.collision.bodyB.sleepCounter>0?g[y++]=C:(b[A++]=C,delete h[C.id]));g.length!==y&&(g.length=y),E.length!==T&&(E.length=T),b.length!==A&&(b.length=A),w.length!==x&&(w.length=x)},n.clear=function(c){return c.table={},c.list.length=0,c.collisionStart.length=0,c.collisionActive.length=0,c.collisionEnd.length=0,c}})()},function(r,o,a){var n=r.exports=a(21);n.Axes=a(11),n.Bodies=a(12),n.Body=a(4),n.Bounds=a(1),n.Collision=a(8),n.Common=a(0),n.Composite=a(6),n.Composites=a(22),n.Constraint=a(10),n.Contact=a(16),n.Detector=a(13),n.Engine=a(17),n.Events=a(5),n.Grid=a(23),n.Mouse=a(14),n.MouseConstraint=a(24),n.Pair=a(9),n.Pairs=a(19),n.Plugin=a(15),n.Query=a(25),n.Render=a(26),n.Resolver=a(18),n.Runner=a(27),n.SAT=a(28),n.Sleeping=a(7),n.Svg=a(29),n.Vector=a(2),n.Vertices=a(3),n.World=a(30),n.Engine.run=n.Runner.run,n.Common.deprecated(n.Engine,"run","Engine.run â¤ use Matter.Runner.run(engine) instead")},function(r,o,a){var n={};r.exports=n;var s=a(15),u=a(0);(function(){n.name="matter-js",n.version="0.20.0",n.uses=[],n.used=[],n.use=function(){s.use(n,Array.prototype.slice.call(arguments))},n.before=function(c,d){return c=c.replace(/^Matter./,""),u.chainPathBefore(n,c,d)},n.after=function(c,d){return c=c.replace(/^Matter./,""),u.chainPathAfter(n,c,d)}})()},function(r,o,a){var n={};r.exports=n;var s=a(6),u=a(10),c=a(0),d=a(4),l=a(12),v=c.deprecated;(function(){n.stack=function(f,i,h,g,m,y,E){for(var b=s.create({label:"Stack"}),w=f,p=i,T,A=0,x=0;x<g;x++){for(var M=0,C=0;C<h;C++){var D=E(w,p,C,x,T,A);if(D){var _=D.bounds.max.y-D.bounds.min.y,I=D.bounds.max.x-D.bounds.min.x;_>M&&(M=_),d.translate(D,{x:I*.5,y:_*.5}),w=D.bounds.max.x+m,s.addBody(b,D),T=D,A+=1}else w+=m}p+=M+y,w=f}return b},n.chain=function(f,i,h,g,m,y){for(var E=f.bodies,b=1;b<E.length;b++){var w=E[b-1],p=E[b],T=w.bounds.max.y-w.bounds.min.y,A=w.bounds.max.x-w.bounds.min.x,x=p.bounds.max.y-p.bounds.min.y,M=p.bounds.max.x-p.bounds.min.x,C={bodyA:w,pointA:{x:A*i,y:T*h},bodyB:p,pointB:{x:M*g,y:x*m}},D=c.extend(C,y);s.addConstraint(f,u.create(D))}return f.label+=" Chain",f},n.mesh=function(f,i,h,g,m){var y=f.bodies,E,b,w,p,T;for(E=0;E<h;E++){for(b=1;b<i;b++)w=y[b-1+E*i],p=y[b+E*i],s.addConstraint(f,u.create(c.extend({bodyA:w,bodyB:p},m)));if(E>0)for(b=0;b<i;b++)w=y[b+(E-1)*i],p=y[b+E*i],s.addConstraint(f,u.create(c.extend({bodyA:w,bodyB:p},m))),g&&b>0&&(T=y[b-1+(E-1)*i],s.addConstraint(f,u.create(c.extend({bodyA:T,bodyB:p},m)))),g&&b<i-1&&(T=y[b+1+(E-1)*i],s.addConstraint(f,u.create(c.extend({bodyA:T,bodyB:p},m))))}return f.label+=" Mesh",f},n.pyramid=function(f,i,h,g,m,y,E){return n.stack(f,i,h,g,m,y,function(b,w,p,T,A,x){var M=Math.min(g,Math.ceil(h/2)),C=A?A.bounds.max.x-A.bounds.min.x:0;if(!(T>M)){T=M-T;var D=T,_=h-1-T;if(!(p<D||p>_)){x===1&&d.translate(A,{x:(p+(h%2===1?1:-1))*C,y:0});var I=A?p*C:0;return E(f+I+p*m,w,p,T,A,x)}}})},n.newtonsCradle=function(f,i,h,g,m){for(var y=s.create({label:"Newtons Cradle"}),E=0;E<h;E++){var b=1.9,w=l.circle(f+E*(g*b),i+m,g,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),p=u.create({pointA:{x:f+E*(g*b),y:i},bodyB:w});s.addBody(y,w),s.addConstraint(y,p)}return y},v(n,"newtonsCradle","Composites.newtonsCradle â¤ moved to newtonsCradle example"),n.car=function(f,i,h,g,m){var y=d.nextGroup(!0),E=20,b=-h*.5+E,w=h*.5-E,p=0,T=s.create({label:"Car"}),A=l.rectangle(f,i,h,g,{collisionFilter:{group:y},chamfer:{radius:g*.5},density:2e-4}),x=l.circle(f+b,i+p,m,{collisionFilter:{group:y},friction:.8}),M=l.circle(f+w,i+p,m,{collisionFilter:{group:y},friction:.8}),C=u.create({bodyB:A,pointB:{x:b,y:p},bodyA:x,stiffness:1,length:0}),D=u.create({bodyB:A,pointB:{x:w,y:p},bodyA:M,stiffness:1,length:0});return s.addBody(T,A),s.addBody(T,x),s.addBody(T,M),s.addConstraint(T,C),s.addConstraint(T,D),T},v(n,"car","Composites.car â¤ moved to car example"),n.softBody=function(f,i,h,g,m,y,E,b,w,p){w=c.extend({inertia:1/0},w),p=c.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var T=n.stack(f,i,h,g,m,y,function(A,x){return l.circle(A,x,b,w)});return n.mesh(T,h,g,E,p),T.label="Soft Body",T},v(n,"softBody","Composites.softBody â¤ moved to softBody and cloth examples")})()},function(r,o,a){var n={};r.exports=n;var s=a(9),u=a(0),c=u.deprecated;(function(){n.create=function(d){var l={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return u.extend(l,d)},n.update=function(d,l,v,f){var i,h,g,m=v.world,y=d.buckets,E,b,w=!1;for(i=0;i<l.length;i++){var p=l[i];if(!(p.isSleeping&&!f)&&!(m.bounds&&(p.bounds.max.x<m.bounds.min.x||p.bounds.min.x>m.bounds.max.x||p.bounds.max.y<m.bounds.min.y||p.bounds.min.y>m.bounds.max.y))){var T=n._getRegion(d,p);if(!p.region||T.id!==p.region.id||f){(!p.region||f)&&(p.region=T);var A=n._regionUnion(T,p.region);for(h=A.startCol;h<=A.endCol;h++)for(g=A.startRow;g<=A.endRow;g++){b=n._getBucketId(h,g),E=y[b];var x=h>=T.startCol&&h<=T.endCol&&g>=T.startRow&&g<=T.endRow,M=h>=p.region.startCol&&h<=p.region.endCol&&g>=p.region.startRow&&g<=p.region.endRow;!x&&M&&M&&E&&n._bucketRemoveBody(d,E,p),(p.region===T||x&&!M||f)&&(E||(E=n._createBucket(y,b)),n._bucketAddBody(d,E,p))}p.region=T,w=!0}}}w&&(d.pairsList=n._createActivePairsList(d))},c(n,"update","Grid.update â¤ replaced by Matter.Detector"),n.clear=function(d){d.buckets={},d.pairs={},d.pairsList=[]},c(n,"clear","Grid.clear â¤ replaced by Matter.Detector"),n._regionUnion=function(d,l){var v=Math.min(d.startCol,l.startCol),f=Math.max(d.endCol,l.endCol),i=Math.min(d.startRow,l.startRow),h=Math.max(d.endRow,l.endRow);return n._createRegion(v,f,i,h)},n._getRegion=function(d,l){var v=l.bounds,f=Math.floor(v.min.x/d.bucketWidth),i=Math.floor(v.max.x/d.bucketWidth),h=Math.floor(v.min.y/d.bucketHeight),g=Math.floor(v.max.y/d.bucketHeight);return n._createRegion(f,i,h,g)},n._createRegion=function(d,l,v,f){return{id:d+","+l+","+v+","+f,startCol:d,endCol:l,startRow:v,endRow:f}},n._getBucketId=function(d,l){return"C"+d+"R"+l},n._createBucket=function(d,l){var v=d[l]=[];return v},n._bucketAddBody=function(d,l,v){var f=d.pairs,i=s.id,h=l.length,g;for(g=0;g<h;g++){var m=l[g];if(!(v.id===m.id||v.isStatic&&m.isStatic)){var y=i(v,m),E=f[y];E?E[2]+=1:f[y]=[v,m,1]}}l.push(v)},n._bucketRemoveBody=function(d,l,v){var f=d.pairs,i=s.id,h;l.splice(u.indexOf(l,v),1);var g=l.length;for(h=0;h<g;h++){var m=f[i(v,l[h])];m&&(m[2]-=1)}},n._createActivePairsList=function(d){var l,v=d.pairs,f=u.keys(v),i=f.length,h=[],g;for(g=0;g<i;g++)l=v[f[g]],l[2]>0?h.push(l):delete v[f[g]];return h}})()},function(r,o,a){var n={};r.exports=n;var s=a(3),u=a(7),c=a(14),d=a(5),l=a(13),v=a(10),f=a(6),i=a(0),h=a(1);(function(){n.create=function(g,m){var y=(g?g.mouse:null)||(m?m.mouse:null);y||(g&&g.render&&g.render.canvas?y=c.create(g.render.canvas):m&&m.element?y=c.create(m.element):(y=c.create(),i.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var E=v.create({label:"Mouse Constraint",pointA:y.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),b={type:"mouseConstraint",mouse:y,element:null,body:null,constraint:E,collisionFilter:{category:1,mask:4294967295,group:0}},w=i.extend(b,m);return d.on(g,"beforeUpdate",function(){var p=f.allBodies(g.world);n.update(w,p),n._triggerEvents(w)}),w},n.update=function(g,m){var y=g.mouse,E=g.constraint,b=g.body;if(y.button===0){if(E.bodyB)u.set(E.bodyB,!1),E.pointA=y.position;else for(var w=0;w<m.length;w++)if(b=m[w],h.contains(b.bounds,y.position)&&l.canCollide(b.collisionFilter,g.collisionFilter))for(var p=b.parts.length>1?1:0;p<b.parts.length;p++){var T=b.parts[p];if(s.contains(T.vertices,y.position)){E.pointA=y.position,E.bodyB=g.body=b,E.pointB={x:y.position.x-b.position.x,y:y.position.y-b.position.y},E.angleB=b.angle,u.set(b,!1),d.trigger(g,"startdrag",{mouse:y,body:b});break}}}else E.bodyB=g.body=null,E.pointB=null,b&&d.trigger(g,"enddrag",{mouse:y,body:b})},n._triggerEvents=function(g){var m=g.mouse,y=m.sourceEvents;y.mousemove&&d.trigger(g,"mousemove",{mouse:m}),y.mousedown&&d.trigger(g,"mousedown",{mouse:m}),y.mouseup&&d.trigger(g,"mouseup",{mouse:m}),c.clearSourceEvents(m)}})()},function(r,o,a){var n={};r.exports=n;var s=a(2),u=a(8),c=a(1),d=a(12),l=a(3);(function(){n.collides=function(v,f){for(var i=[],h=f.length,g=v.bounds,m=u.collides,y=c.overlaps,E=0;E<h;E++){var b=f[E],w=b.parts.length,p=w===1?0:1;if(y(b.bounds,g))for(var T=p;T<w;T++){var A=b.parts[T];if(y(A.bounds,g)){var x=m(A,v);if(x){i.push(x);break}}}}return i},n.ray=function(v,f,i,h){h=h||1e-100;for(var g=s.angle(f,i),m=s.magnitude(s.sub(f,i)),y=(i.x+f.x)*.5,E=(i.y+f.y)*.5,b=d.rectangle(y,E,m,h,{angle:g}),w=n.collides(b,v),p=0;p<w.length;p+=1){var T=w[p];T.body=T.bodyB=T.bodyA}return w},n.region=function(v,f,i){for(var h=[],g=0;g<v.length;g++){var m=v[g],y=c.overlaps(m.bounds,f);(y&&!i||!y&&i)&&h.push(m)}return h},n.point=function(v,f){for(var i=[],h=0;h<v.length;h++){var g=v[h];if(c.contains(g.bounds,f))for(var m=g.parts.length===1?0:1;m<g.parts.length;m++){var y=g.parts[m];if(c.contains(y.bounds,f)&&l.contains(y.vertices,f)){i.push(g);break}}}return i}})()},function(r,o,a){var n={};r.exports=n;var s=a(4),u=a(0),c=a(6),d=a(1),l=a(5),v=a(2),f=a(14);(function(){var i,h;typeof window<"u"&&(i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(p){window.setTimeout(function(){p(u.now())},1e3/60)},h=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),n._goodFps=30,n._goodDelta=1e3/60,n.create=function(p){var T={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!p.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},A=u.extend(T,p);return A.canvas&&(A.canvas.width=A.options.width||A.canvas.width,A.canvas.height=A.options.height||A.canvas.height),A.mouse=p.mouse,A.engine=p.engine,A.canvas=A.canvas||y(A.options.width,A.options.height),A.context=A.canvas.getContext("2d"),A.textures={},A.bounds=A.bounds||{min:{x:0,y:0},max:{x:A.canvas.width,y:A.canvas.height}},A.controller=n,A.options.showBroadphase=!1,A.options.pixelRatio!==1&&n.setPixelRatio(A,A.options.pixelRatio),u.isElement(A.element)&&A.element.appendChild(A.canvas),A},n.run=function(p){(function T(A){p.frameRequestId=i(T),g(p,A),n.world(p,A),p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0),(p.options.showStats||p.options.showDebug)&&n.stats(p,p.context,A),(p.options.showPerformance||p.options.showDebug)&&n.performance(p,p.context,A),p.context.setTransform(1,0,0,1,0,0)})()},n.stop=function(p){h(p.frameRequestId)},n.setPixelRatio=function(p,T){var A=p.options,x=p.canvas;T==="auto"&&(T=E(x)),A.pixelRatio=T,x.setAttribute("data-pixel-ratio",T),x.width=A.width*T,x.height=A.height*T,x.style.width=A.width+"px",x.style.height=A.height+"px"},n.setSize=function(p,T,A){p.options.width=T,p.options.height=A,p.bounds.max.x=p.bounds.min.x+T,p.bounds.max.y=p.bounds.min.y+A,p.options.pixelRatio!==1?n.setPixelRatio(p,p.options.pixelRatio):(p.canvas.width=T,p.canvas.height=A)},n.lookAt=function(p,T,A,x){x=typeof x<"u"?x:!0,T=u.isArray(T)?T:[T],A=A||{x:0,y:0};for(var M={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},C=0;C<T.length;C+=1){var D=T[C],_=D.bounds?D.bounds.min:D.min||D.position||D,I=D.bounds?D.bounds.max:D.max||D.position||D;_&&I&&(_.x<M.min.x&&(M.min.x=_.x),I.x>M.max.x&&(M.max.x=I.x),_.y<M.min.y&&(M.min.y=_.y),I.y>M.max.y&&(M.max.y=I.y))}var N=M.max.x-M.min.x+2*A.x,P=M.max.y-M.min.y+2*A.y,R=p.canvas.height,O=p.canvas.width,L=O/R,B=N/P,W=1,Q=1;B>L?Q=B/L:W=L/B,p.options.hasBounds=!0,p.bounds.min.x=M.min.x,p.bounds.max.x=M.min.x+N*W,p.bounds.min.y=M.min.y,p.bounds.max.y=M.min.y+P*Q,x&&(p.bounds.min.x+=N*.5-N*W*.5,p.bounds.max.x+=N*.5-N*W*.5,p.bounds.min.y+=P*.5-P*Q*.5,p.bounds.max.y+=P*.5-P*Q*.5),p.bounds.min.x-=A.x,p.bounds.max.x-=A.x,p.bounds.min.y-=A.y,p.bounds.max.y-=A.y,p.mouse&&(f.setScale(p.mouse,{x:(p.bounds.max.x-p.bounds.min.x)/p.canvas.width,y:(p.bounds.max.y-p.bounds.min.y)/p.canvas.height}),f.setOffset(p.mouse,p.bounds.min))},n.startViewTransform=function(p){var T=p.bounds.max.x-p.bounds.min.x,A=p.bounds.max.y-p.bounds.min.y,x=T/p.options.width,M=A/p.options.height;p.context.setTransform(p.options.pixelRatio/x,0,0,p.options.pixelRatio/M,0,0),p.context.translate(-p.bounds.min.x,-p.bounds.min.y)},n.endViewTransform=function(p){p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0)},n.world=function(p,T){var A=u.now(),x=p.engine,M=x.world,C=p.canvas,D=p.context,_=p.options,I=p.timing,N=c.allBodies(M),P=c.allConstraints(M),R=_.wireframes?_.wireframeBackground:_.background,O=[],L=[],B,W={timestamp:x.timing.timestamp};if(l.trigger(p,"beforeRender",W),p.currentBackground!==R&&w(p,R),D.globalCompositeOperation="source-in",D.fillStyle="transparent",D.fillRect(0,0,C.width,C.height),D.globalCompositeOperation="source-over",_.hasBounds){for(B=0;B<N.length;B++){var Q=N[B];d.overlaps(Q.bounds,p.bounds)&&O.push(Q)}for(B=0;B<P.length;B++){var G=P[B],F=G.bodyA,H=G.bodyB,z=G.pointA,Y=G.pointB;F&&(z=v.add(F.position,G.pointA)),H&&(Y=v.add(H.position,G.pointB)),!(!z||!Y)&&(d.contains(p.bounds,z)||d.contains(p.bounds,Y))&&L.push(G)}n.startViewTransform(p),p.mouse&&(f.setScale(p.mouse,{x:(p.bounds.max.x-p.bounds.min.x)/p.options.width,y:(p.bounds.max.y-p.bounds.min.y)/p.options.height}),f.setOffset(p.mouse,p.bounds.min))}else L=P,O=N,p.options.pixelRatio!==1&&p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0);!_.wireframes||x.enableSleeping&&_.showSleeping?n.bodies(p,O,D):(_.showConvexHulls&&n.bodyConvexHulls(p,O,D),n.bodyWireframes(p,O,D)),_.showBounds&&n.bodyBounds(p,O,D),(_.showAxes||_.showAngleIndicator)&&n.bodyAxes(p,O,D),_.showPositions&&n.bodyPositions(p,O,D),_.showVelocity&&n.bodyVelocity(p,O,D),_.showIds&&n.bodyIds(p,O,D),_.showSeparations&&n.separations(p,x.pairs.list,D),_.showCollisions&&n.collisions(p,x.pairs.list,D),_.showVertexNumbers&&n.vertexNumbers(p,O,D),_.showMousePosition&&n.mousePosition(p,p.mouse,D),n.constraints(L,D),_.hasBounds&&n.endViewTransform(p),l.trigger(p,"afterRender",W),I.lastElapsed=u.now()-A},n.stats=function(p,T,A){for(var x=p.engine,M=x.world,C=c.allBodies(M),D=0,_=55,I=44,N=0,P=0,R=0;R<C.length;R+=1)D+=C[R].parts.length;var O={Part:D,Body:C.length,Cons:c.allConstraints(M).length,Comp:c.allComposites(M).length,Pair:x.pairs.list.length};T.fillStyle="#0e0f19",T.fillRect(N,P,_*5.5,I),T.font="12px Arial",T.textBaseline="top",T.textAlign="right";for(var L in O){var B=O[L];T.fillStyle="#aaa",T.fillText(L,N+_,P+8),T.fillStyle="#eee",T.fillText(B,N+_,P+26),N+=_}},n.performance=function(p,T){var A=p.engine,x=p.timing,M=x.deltaHistory,C=x.elapsedHistory,D=x.timestampElapsedHistory,_=x.engineDeltaHistory,I=x.engineUpdatesHistory,N=x.engineElapsedHistory,P=A.timing.lastUpdatesPerFrame,R=A.timing.lastDelta,O=m(M),L=m(C),B=m(_),W=m(I),Q=m(N),G=m(D),F=G/O||0,H=Math.round(O/R),z=1e3/O||0,Y=4,ee=12,oe=60,ce=34,le=10,V=69;T.fillStyle="#0e0f19",T.fillRect(0,50,ee*5+oe*6+22,ce),n.status(T,le,V,oe,Y,M.length,Math.round(z)+" fps",z/n._goodFps,function(j){return M[j]/O-1}),n.status(T,le+ee+oe,V,oe,Y,_.length,R.toFixed(2)+" dt",n._goodDelta/R,function(j){return _[j]/B-1}),n.status(T,le+(ee+oe)*2,V,oe,Y,I.length,P+" upf",Math.pow(u.clamp(W/H||1,0,1),4),function(j){return I[j]/W-1}),n.status(T,le+(ee+oe)*3,V,oe,Y,N.length,Q.toFixed(2)+" ut",1-P*Q/n._goodFps,function(j){return N[j]/Q-1}),n.status(T,le+(ee+oe)*4,V,oe,Y,C.length,L.toFixed(2)+" rt",1-L/n._goodFps,function(j){return C[j]/L-1}),n.status(T,le+(ee+oe)*5,V,oe,Y,D.length,F.toFixed(2)+" x",F*F*F,function(j){return(D[j]/M[j]/F||0)-1})},n.status=function(p,T,A,x,M,C,D,_,I){p.strokeStyle="#888",p.fillStyle="#444",p.lineWidth=1,p.fillRect(T,A+7,x,1),p.beginPath(),p.moveTo(T,A+7-M*u.clamp(.4*I(0),-2,2));for(var N=0;N<x;N+=1)p.lineTo(T+N,A+7-(N<C?M*u.clamp(.4*I(N),-2,2):0));p.stroke(),p.fillStyle="hsl("+u.clamp(25+95*_,0,120)+",100%,60%)",p.fillRect(T,A-7,4,4),p.font="12px Arial",p.textBaseline="middle",p.textAlign="right",p.fillStyle="#eee",p.fillText(D,T+x,A-5)},n.constraints=function(p,T){for(var A=T,x=0;x<p.length;x++){var M=p[x];if(!(!M.render.visible||!M.pointA||!M.pointB)){var C=M.bodyA,D=M.bodyB,_,I;if(C?_=v.add(C.position,M.pointA):_=M.pointA,M.render.type==="pin")A.beginPath(),A.arc(_.x,_.y,3,0,2*Math.PI),A.closePath();else{if(D?I=v.add(D.position,M.pointB):I=M.pointB,A.beginPath(),A.moveTo(_.x,_.y),M.render.type==="spring")for(var N=v.sub(I,_),P=v.perp(v.normalise(N)),R=Math.ceil(u.clamp(M.length/5,12,20)),O,L=1;L<R;L+=1)O=L%2===0?1:-1,A.lineTo(_.x+N.x*(L/R)+P.x*O*4,_.y+N.y*(L/R)+P.y*O*4);A.lineTo(I.x,I.y)}M.render.lineWidth&&(A.lineWidth=M.render.lineWidth,A.strokeStyle=M.render.strokeStyle,A.stroke()),M.render.anchors&&(A.fillStyle=M.render.strokeStyle,A.beginPath(),A.arc(_.x,_.y,3,0,2*Math.PI),A.arc(I.x,I.y,3,0,2*Math.PI),A.closePath(),A.fill())}}},n.bodies=function(p,T,A){var x=A;p.engine;var M=p.options,C=M.showInternalEdges||!M.wireframes,D,_,I,N;for(I=0;I<T.length;I++)if(D=T[I],!!D.render.visible){for(N=D.parts.length>1?1:0;N<D.parts.length;N++)if(_=D.parts[N],!!_.render.visible){if(M.showSleeping&&D.isSleeping?x.globalAlpha=.5*_.render.opacity:_.render.opacity!==1&&(x.globalAlpha=_.render.opacity),_.render.sprite&&_.render.sprite.texture&&!M.wireframes){var P=_.render.sprite,R=b(p,P.texture);x.translate(_.position.x,_.position.y),x.rotate(_.angle),x.drawImage(R,R.width*-P.xOffset*P.xScale,R.height*-P.yOffset*P.yScale,R.width*P.xScale,R.height*P.yScale),x.rotate(-_.angle),x.translate(-_.position.x,-_.position.y)}else{if(_.circleRadius)x.beginPath(),x.arc(_.position.x,_.position.y,_.circleRadius,0,2*Math.PI);else{x.beginPath(),x.moveTo(_.vertices[0].x,_.vertices[0].y);for(var O=1;O<_.vertices.length;O++)!_.vertices[O-1].isInternal||C?x.lineTo(_.vertices[O].x,_.vertices[O].y):x.moveTo(_.vertices[O].x,_.vertices[O].y),_.vertices[O].isInternal&&!C&&x.moveTo(_.vertices[(O+1)%_.vertices.length].x,_.vertices[(O+1)%_.vertices.length].y);x.lineTo(_.vertices[0].x,_.vertices[0].y),x.closePath()}M.wireframes?(x.lineWidth=1,x.strokeStyle=p.options.wireframeStrokeStyle,x.stroke()):(x.fillStyle=_.render.fillStyle,_.render.lineWidth&&(x.lineWidth=_.render.lineWidth,x.strokeStyle=_.render.strokeStyle,x.stroke()),x.fill())}x.globalAlpha=1}}},n.bodyWireframes=function(p,T,A){var x=A,M=p.options.showInternalEdges,C,D,_,I,N;for(x.beginPath(),_=0;_<T.length;_++)if(C=T[_],!!C.render.visible)for(N=C.parts.length>1?1:0;N<C.parts.length;N++){for(D=C.parts[N],x.moveTo(D.vertices[0].x,D.vertices[0].y),I=1;I<D.vertices.length;I++)!D.vertices[I-1].isInternal||M?x.lineTo(D.vertices[I].x,D.vertices[I].y):x.moveTo(D.vertices[I].x,D.vertices[I].y),D.vertices[I].isInternal&&!M&&x.moveTo(D.vertices[(I+1)%D.vertices.length].x,D.vertices[(I+1)%D.vertices.length].y);x.lineTo(D.vertices[0].x,D.vertices[0].y)}x.lineWidth=1,x.strokeStyle=p.options.wireframeStrokeStyle,x.stroke()},n.bodyConvexHulls=function(p,T,A){var x=A,M,C,D;for(x.beginPath(),C=0;C<T.length;C++)if(M=T[C],!(!M.render.visible||M.parts.length===1)){for(x.moveTo(M.vertices[0].x,M.vertices[0].y),D=1;D<M.vertices.length;D++)x.lineTo(M.vertices[D].x,M.vertices[D].y);x.lineTo(M.vertices[0].x,M.vertices[0].y)}x.lineWidth=1,x.strokeStyle="rgba(255,255,255,0.2)",x.stroke()},n.vertexNumbers=function(p,T,A){var x=A,M,C,D;for(M=0;M<T.length;M++){var _=T[M].parts;for(D=_.length>1?1:0;D<_.length;D++){var I=_[D];for(C=0;C<I.vertices.length;C++)x.fillStyle="rgba(255,255,255,0.2)",x.fillText(M+"_"+C,I.position.x+(I.vertices[C].x-I.position.x)*.8,I.position.y+(I.vertices[C].y-I.position.y)*.8)}}},n.mousePosition=function(p,T,A){var x=A;x.fillStyle="rgba(255,255,255,0.8)",x.fillText(T.position.x+"  "+T.position.y,T.position.x+5,T.position.y-5)},n.bodyBounds=function(p,T,A){var x=A;p.engine;var M=p.options;x.beginPath();for(var C=0;C<T.length;C++){var D=T[C];if(D.render.visible)for(var _=T[C].parts,I=_.length>1?1:0;I<_.length;I++){var N=_[I];x.rect(N.bounds.min.x,N.bounds.min.y,N.bounds.max.x-N.bounds.min.x,N.bounds.max.y-N.bounds.min.y)}}M.wireframes?x.strokeStyle="rgba(255,255,255,0.08)":x.strokeStyle="rgba(0,0,0,0.1)",x.lineWidth=1,x.stroke()},n.bodyAxes=function(p,T,A){var x=A;p.engine;var M=p.options,C,D,_,I;for(x.beginPath(),D=0;D<T.length;D++){var N=T[D],P=N.parts;if(N.render.visible)if(M.showAxes)for(_=P.length>1?1:0;_<P.length;_++)for(C=P[_],I=0;I<C.axes.length;I++){var R=C.axes[I];x.moveTo(C.position.x,C.position.y),x.lineTo(C.position.x+R.x*20,C.position.y+R.y*20)}else for(_=P.length>1?1:0;_<P.length;_++)for(C=P[_],I=0;I<C.axes.length;I++)x.moveTo(C.position.x,C.position.y),x.lineTo((C.vertices[0].x+C.vertices[C.vertices.length-1].x)/2,(C.vertices[0].y+C.vertices[C.vertices.length-1].y)/2)}M.wireframes?(x.strokeStyle="indianred",x.lineWidth=1):(x.strokeStyle="rgba(255, 255, 255, 0.4)",x.globalCompositeOperation="overlay",x.lineWidth=2),x.stroke(),x.globalCompositeOperation="source-over"},n.bodyPositions=function(p,T,A){var x=A;p.engine;var M=p.options,C,D,_,I;for(x.beginPath(),_=0;_<T.length;_++)if(C=T[_],!!C.render.visible)for(I=0;I<C.parts.length;I++)D=C.parts[I],x.arc(D.position.x,D.position.y,3,0,2*Math.PI,!1),x.closePath();for(M.wireframes?x.fillStyle="indianred":x.fillStyle="rgba(0,0,0,0.5)",x.fill(),x.beginPath(),_=0;_<T.length;_++)C=T[_],C.render.visible&&(x.arc(C.positionPrev.x,C.positionPrev.y,2,0,2*Math.PI,!1),x.closePath());x.fillStyle="rgba(255,165,0,0.8)",x.fill()},n.bodyVelocity=function(p,T,A){var x=A;x.beginPath();for(var M=0;M<T.length;M++){var C=T[M];if(C.render.visible){var D=s.getVelocity(C);x.moveTo(C.position.x,C.position.y),x.lineTo(C.position.x+D.x,C.position.y+D.y)}}x.lineWidth=3,x.strokeStyle="cornflowerblue",x.stroke()},n.bodyIds=function(p,T,A){var x=A,M,C;for(M=0;M<T.length;M++)if(T[M].render.visible){var D=T[M].parts;for(C=D.length>1?1:0;C<D.length;C++){var _=D[C];x.font="12px Arial",x.fillStyle="rgba(255,255,255,0.5)",x.fillText(_.id,_.position.x+10,_.position.y-10)}}},n.collisions=function(p,T,A){var x=A,M=p.options,C,D,_,I;for(x.beginPath(),_=0;_<T.length;_++)if(C=T[_],!!C.isActive)for(D=C.collision,I=0;I<C.contactCount;I++){var N=C.contacts[I],P=N.vertex;x.rect(P.x-1.5,P.y-1.5,3.5,3.5)}for(M.wireframes?x.fillStyle="rgba(255,255,255,0.7)":x.fillStyle="orange",x.fill(),x.beginPath(),_=0;_<T.length;_++)if(C=T[_],!!C.isActive&&(D=C.collision,C.contactCount>0)){var R=C.contacts[0].vertex.x,O=C.contacts[0].vertex.y;C.contactCount===2&&(R=(C.contacts[0].vertex.x+C.contacts[1].vertex.x)/2,O=(C.contacts[0].vertex.y+C.contacts[1].vertex.y)/2),D.bodyB===D.supports[0].body||D.bodyA.isStatic===!0?x.moveTo(R-D.normal.x*8,O-D.normal.y*8):x.moveTo(R+D.normal.x*8,O+D.normal.y*8),x.lineTo(R,O)}M.wireframes?x.strokeStyle="rgba(255,165,0,0.7)":x.strokeStyle="orange",x.lineWidth=1,x.stroke()},n.separations=function(p,T,A){var x=A,M=p.options,C,D,_,I,N;for(x.beginPath(),N=0;N<T.length;N++)if(C=T[N],!!C.isActive){D=C.collision,_=D.bodyA,I=D.bodyB;var P=1;!I.isStatic&&!_.isStatic&&(P=.5),I.isStatic&&(P=0),x.moveTo(I.position.x,I.position.y),x.lineTo(I.position.x-D.penetration.x*P,I.position.y-D.penetration.y*P),P=1,!I.isStatic&&!_.isStatic&&(P=.5),_.isStatic&&(P=0),x.moveTo(_.position.x,_.position.y),x.lineTo(_.position.x+D.penetration.x*P,_.position.y+D.penetration.y*P)}M.wireframes?x.strokeStyle="rgba(255,165,0,0.5)":x.strokeStyle="orange",x.stroke()},n.inspector=function(p,T){p.engine;var A=p.selected,x=p.render,M=x.options,C;if(M.hasBounds){var D=x.bounds.max.x-x.bounds.min.x,_=x.bounds.max.y-x.bounds.min.y,I=D/x.options.width,N=_/x.options.height;T.scale(1/I,1/N),T.translate(-x.bounds.min.x,-x.bounds.min.y)}for(var P=0;P<A.length;P++){var R=A[P].data;switch(T.translate(.5,.5),T.lineWidth=1,T.strokeStyle="rgba(255,165,0,0.9)",T.setLineDash([1,2]),R.type){case"body":C=R.bounds,T.beginPath(),T.rect(Math.floor(C.min.x-3),Math.floor(C.min.y-3),Math.floor(C.max.x-C.min.x+6),Math.floor(C.max.y-C.min.y+6)),T.closePath(),T.stroke();break;case"constraint":var O=R.pointA;R.bodyA&&(O=R.pointB),T.beginPath(),T.arc(O.x,O.y,10,0,2*Math.PI),T.closePath(),T.stroke();break}T.setLineDash([]),T.translate(-.5,-.5)}p.selectStart!==null&&(T.translate(.5,.5),T.lineWidth=1,T.strokeStyle="rgba(255,165,0,0.6)",T.fillStyle="rgba(255,165,0,0.1)",C=p.selectBounds,T.beginPath(),T.rect(Math.floor(C.min.x),Math.floor(C.min.y),Math.floor(C.max.x-C.min.x),Math.floor(C.max.y-C.min.y)),T.closePath(),T.stroke(),T.fill(),T.translate(-.5,-.5)),M.hasBounds&&T.setTransform(1,0,0,1,0,0)};var g=function(p,T){var A=p.engine,x=p.timing,M=x.historySize,C=A.timing.timestamp;x.delta=T-x.lastTime||n._goodDelta,x.lastTime=T,x.timestampElapsed=C-x.lastTimestamp||0,x.lastTimestamp=C,x.deltaHistory.unshift(x.delta),x.deltaHistory.length=Math.min(x.deltaHistory.length,M),x.engineDeltaHistory.unshift(A.timing.lastDelta),x.engineDeltaHistory.length=Math.min(x.engineDeltaHistory.length,M),x.timestampElapsedHistory.unshift(x.timestampElapsed),x.timestampElapsedHistory.length=Math.min(x.timestampElapsedHistory.length,M),x.engineUpdatesHistory.unshift(A.timing.lastUpdatesPerFrame),x.engineUpdatesHistory.length=Math.min(x.engineUpdatesHistory.length,M),x.engineElapsedHistory.unshift(A.timing.lastElapsed),x.engineElapsedHistory.length=Math.min(x.engineElapsedHistory.length,M),x.elapsedHistory.unshift(x.lastElapsed),x.elapsedHistory.length=Math.min(x.elapsedHistory.length,M)},m=function(p){for(var T=0,A=0;A<p.length;A+=1)T+=p[A];return T/p.length||0},y=function(p,T){var A=document.createElement("canvas");return A.width=p,A.height=T,A.oncontextmenu=function(){return!1},A.onselectstart=function(){return!1},A},E=function(p){var T=p.getContext("2d"),A=window.devicePixelRatio||1,x=T.webkitBackingStorePixelRatio||T.mozBackingStorePixelRatio||T.msBackingStorePixelRatio||T.oBackingStorePixelRatio||T.backingStorePixelRatio||1;return A/x},b=function(p,T){var A=p.textures[T];return A||(A=p.textures[T]=new Image,A.src=T,A)},w=function(p,T){var A=T;/(jpg|gif|png)$/.test(T)&&(A="url("+T+")"),p.canvas.style.background=A,p.canvas.style.backgroundSize="contain",p.currentBackground=T}})()},function(r,o,a){var n={};r.exports=n;var s=a(5),u=a(17),c=a(0);(function(){n._maxFrameDelta=1e3/15,n._frameDeltaFallback=1e3/60,n._timeBufferMargin=1.5,n._elapsedNextEstimate=1,n._smoothingLowerBound=.1,n._smoothingUpperBound=.9,n.create=function(l){var v={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},f=c.extend(v,l);return f.fps=0,f},n.run=function(l,v){return l.timeBuffer=n._frameDeltaFallback,function f(i){l.frameRequestId=n._onNextFrame(l,f),i&&l.enabled&&n.tick(l,v,i)}(),l},n.tick=function(l,v,f){var i=c.now(),h=l.delta,g=0,m=f-l.timeLastTick;if((!m||!l.timeLastTick||m>Math.max(n._maxFrameDelta,l.maxFrameTime))&&(m=l.frameDelta||n._frameDeltaFallback),l.frameDeltaSmoothing){l.frameDeltaHistory.push(m),l.frameDeltaHistory=l.frameDeltaHistory.slice(-l.frameDeltaHistorySize);var y=l.frameDeltaHistory.slice(0).sort(),E=l.frameDeltaHistory.slice(y.length*n._smoothingLowerBound,y.length*n._smoothingUpperBound),b=d(E);m=b||m}l.frameDeltaSnapping&&(m=1e3/Math.round(1e3/m)),l.frameDelta=m,l.timeLastTick=f,l.timeBuffer+=l.frameDelta,l.timeBuffer=c.clamp(l.timeBuffer,0,l.frameDelta+h*n._timeBufferMargin),l.lastUpdatesDeferred=0;var w=l.maxUpdates||Math.ceil(l.maxFrameTime/h),p={timestamp:v.timing.timestamp};s.trigger(l,"beforeTick",p),s.trigger(l,"tick",p);for(var T=c.now();h>0&&l.timeBuffer>=h*n._timeBufferMargin;){s.trigger(l,"beforeUpdate",p),u.update(v,h),s.trigger(l,"afterUpdate",p),l.timeBuffer-=h,g+=1;var A=c.now()-i,x=c.now()-T,M=A+n._elapsedNextEstimate*x/g;if(g>=w||M>l.maxFrameTime){l.lastUpdatesDeferred=Math.round(Math.max(0,l.timeBuffer/h-n._timeBufferMargin));break}}v.timing.lastUpdatesPerFrame=g,s.trigger(l,"afterTick",p),l.frameDeltaHistory.length>=100&&(l.lastUpdatesDeferred&&Math.round(l.frameDelta/h)>w?c.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):l.lastUpdatesDeferred&&c.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof l.isFixed<"u"&&c.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(l.deltaMin||l.deltaMax)&&c.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),l.fps!==0&&c.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},n.stop=function(l){n._cancelNextFrame(l)},n._onNextFrame=function(l,v){if(typeof window<"u"&&window.requestAnimationFrame)l.frameRequestId=window.requestAnimationFrame(v);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return l.frameRequestId},n._cancelNextFrame=function(l){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(l.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var d=function(l){for(var v=0,f=l.length,i=0;i<f;i+=1)v+=l[i];return v/f||0}})()},function(r,o,a){var n={};r.exports=n;var s=a(8),u=a(0),c=u.deprecated;(function(){n.collides=function(d,l){return s.collides(d,l)},c(n,"collides","SAT.collides â¤ replaced by Collision.collides")})()},function(r,o,a){var n={};r.exports=n,a(1);var s=a(0);(function(){n.pathToVertices=function(u,c){typeof window<"u"&&!("SVGPathSeg"in window)&&s.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var d,l,v,f,i,h,g,m,y,E,b=[],w,p,T=0,A=0,x=0;c=c||15;var M=function(D,_,I){var N=I%2===1&&I>1;if(!y||D!=y.x||_!=y.y){y&&N?(w=y.x,p=y.y):(w=0,p=0);var P={x:w+D,y:p+_};(N||!y)&&(y=P),b.push(P),A=w+D,x=p+_}},C=function(D){var _=D.pathSegTypeAsLetter.toUpperCase();if(_!=="Z"){switch(_){case"M":case"L":case"T":case"C":case"S":case"Q":A=D.x,x=D.y;break;case"H":A=D.x;break;case"V":x=D.y;break}M(A,x,D.pathSegType)}};for(n._svgPathToAbsolute(u),v=u.getTotalLength(),h=[],d=0;d<u.pathSegList.numberOfItems;d+=1)h.push(u.pathSegList.getItem(d));for(g=h.concat();T<v;){if(E=u.getPathSegAtLength(T),i=h[E],i!=m){for(;g.length&&g[0]!=i;)C(g.shift());m=i}switch(i.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":f=u.getPointAtLength(T),M(f.x,f.y,0);break}T+=c}for(d=0,l=g.length;d<l;++d)C(g[d]);return b},n._svgPathToAbsolute=function(u){for(var c,d,l,v,f,i,h=u.pathSegList,g=0,m=0,y=h.numberOfItems,E=0;E<y;++E){var b=h.getItem(E),w=b.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(w))"x"in b&&(g=b.x),"y"in b&&(m=b.y);else switch("x1"in b&&(l=g+b.x1),"x2"in b&&(f=g+b.x2),"y1"in b&&(v=m+b.y1),"y2"in b&&(i=m+b.y2),"x"in b&&(g+=b.x),"y"in b&&(m+=b.y),w){case"m":h.replaceItem(u.createSVGPathSegMovetoAbs(g,m),E);break;case"l":h.replaceItem(u.createSVGPathSegLinetoAbs(g,m),E);break;case"h":h.replaceItem(u.createSVGPathSegLinetoHorizontalAbs(g),E);break;case"v":h.replaceItem(u.createSVGPathSegLinetoVerticalAbs(m),E);break;case"c":h.replaceItem(u.createSVGPathSegCurvetoCubicAbs(g,m,l,v,f,i),E);break;case"s":h.replaceItem(u.createSVGPathSegCurvetoCubicSmoothAbs(g,m,f,i),E);break;case"q":h.replaceItem(u.createSVGPathSegCurvetoQuadraticAbs(g,m,l,v),E);break;case"t":h.replaceItem(u.createSVGPathSegCurvetoQuadraticSmoothAbs(g,m),E);break;case"a":h.replaceItem(u.createSVGPathSegArcAbs(g,m,b.r1,b.r2,b.angle,b.largeArcFlag,b.sweepFlag),E);break;case"z":case"Z":g=c,m=d;break}(w=="M"||w=="m")&&(c=g,d=m)}}})()},function(r,o,a){var n={};r.exports=n;var s=a(6);a(0),function(){n.create=s.create,n.add=s.add,n.remove=s.remove,n.clear=s.clear,n.addComposite=s.addComposite,n.addBody=s.addBody,n.addConstraint=s.addConstraint}()}])})}(lr)),lr.exports}var pv=mv();const Ie=vv(pv);var yv=Ae('<div class="modal svelte-z4itge"><div class="loader svelte-z4itge"></div> <div id="instructions" class="svelte-z4itge">HANG ON...</div></div>'),xv=Ae('<div class="page-container svelte-z4itge"><div class="scene svelte-z4itge"></div> <!></div>');function wv(e,t){Tt(t,!1);let r="#2F2F2F",o="#9A9A9A",a="#e6e6e6",n=he(t,"gameCounter",8),s=he(t,"transitionHeight",8),u=he(t,"transitionWidth",8),c=0;const d=$(new Te(0,{duration:1e3,easing:We})),l=$(new Te(s(),{duration:500,easing:We})),v=$(new Te(u(),{delay:500,duration:500,easing:We}));function f(R){console.log(R),b>=1200?(q(l,S(l).target=500),q(v,S(v).target=600)):R>=900?(q(l,S(l).target=400),q(v,S(v).target=600)):R>=480?(q(l,S(l).target=400),q(v,S(v).target=480)):(q(l,S(l).target=400),q(v,S(v).target=350))}function i(){c=window.innerWidth,f(c)}let h=$(),g,m,y,E=$(!0),b=0,w=0;const p=50,T=50;let A=[],x=[];function M(R,O,L=100){let B=document.getElementById(R);return new Promise(W=>{let Q=B.innerHTML,G=Q.length,F=0;function H(){G>0?(B.innerHTML=Q.substring(0,G-1),G--,setTimeout(H,L)):z()}function z(){F<O.length?(B.innerHTML+=O.charAt(F),F++,setTimeout(z,L)):W()}H()})}_t(()=>{typeof window<"u"&&(i(),window.addEventListener("resize",i)),n()==4&&setTimeout(()=>{M("instructions","HANG ON...")},1e3),b=window.innerWidth,w=window.innerHeight,g=Ie.Engine.create(),g.gravity.y=1,m=Ie.Render.create({element:S(h),engine:g,options:{width:b,height:w,wireframes:!1,background:r,pixelRatio:window.devicePixelRatio||1}});const R=200,O=[Ie.Bodies.rectangle(b/2,w+R/2,b,R,{isStatic:!0}),Ie.Bodies.rectangle(b/2,-200/2,b,R,{isStatic:!0}),Ie.Bodies.rectangle(-200/2,w/2,R,w,{isStatic:!0}),Ie.Bodies.rectangle(b+R/2,w/2,R,w,{isStatic:!0})];Ie.World.add(g.world,O);const L=Ie.Mouse.create(m.canvas),B=Ie.MouseConstraint.create(g,{mouse:L,constraint:{stiffness:.2,render:{visible:!1}}});Ie.World.add(g.world,B),m.mouse=L,Ie.Events.on(m,"afterRender",()=>{const W=m.context;W.font="10px sans-serif",W.textAlign="center",W.textBaseline="middle",A.forEach(Q=>{W.save(),W.translate(Q.position.x,Q.position.y),W.rotate(Q.angle);const G=17,F=Q.boxWidth||T,H=Q.boxHeight||p;W.beginPath(),W.moveTo(-F/2+G,-H/2),W.lineTo(F/2-G,-H/2),W.quadraticCurveTo(F/2,-H/2,F/2,-H/2+G),W.lineTo(F/2,H/2-G),W.quadraticCurveTo(F/2,H/2,F/2-G,H/2),W.lineTo(-F/2+G,H/2),W.quadraticCurveTo(-F/2,H/2,-F/2,H/2-G),W.lineTo(-F/2,-H/2+G),W.quadraticCurveTo(-F/2,-H/2,-F/2+G,-H/2),W.closePath(),W.shadowColor="#ffffff",W.shadowBlur=15,W.fillStyle=a,W.fill(),W.shadowColor=o,W.shadowBlur=5,W.fillStyle=r,W.fillText(Q.label,0,0),W.restore()})}),y=Ie.Runner.create(),Ie.Runner.run(y,g),Ie.Render.run(m),Li("./allwords.csv").then(function(W){x=W.map(Q=>Q.WORD),console.log(W)})});function C(){const R=b/2,O=w/4,L=m.context;L.font="10px sans-serif";let B=0,W=1e3;const Q=150,G=.95;function F(){if(B>=x.length)return;const H=x[B],ee=L.measureText(H).width+40,oe=30,ce=R+(Math.random()-.5)*10,le=O+(Math.random()-.5)*10,V=Ie.Bodies.rectangle(ce,le,ee,oe,{restitution:.2,friction:.5,render:{fillStyle:"transparent",strokeStyle:"transparent"}});V.label=H,V.boxWidth=ee,V.boxHeight=oe,A.push(V),Ie.World.add(g.world,V),B++,W=Math.max(Q,W*G),setTimeout(F,W)}F()}function D(){k(E,!1),C()}Ai(()=>{var R;(m==null?void 0:m.frameRequestId)!==void 0&&Ie.Render.stop(m),y&&Ie.Runner.stop(y),g&&(Ie.World.clear(g.world),Ie.Engine.clear(g)),(R=m==null?void 0:m.canvas)==null||R.remove(),m!=null&&m.textures&&(m.textures={})}),yt(()=>fr(n()),()=>{n()==6&&q(d,S(d).target=1)}),Hn(),wt();var _=xv();de(_," --dark-gray: #2F2F2F; --mid-gray: #9A9A9A; --light-gray: #e6e6e6;");var I=Z(_);Vt(I,R=>k(h,R),()=>S(h));var N=re(I,2);{var P=R=>{var O=yv();Pe(()=>de(O,`  opacity:${S(d).current??""}; width: ${S(v).current??""}px; height: ${S(l).current??""}px`)),ye("click",O,D),oo(3,O,()=>ts),pe(R,O)};Ne(N,R=>{S(E)&&R(P)})}X(_),pe(e,_),St()}var Tv=Ae("<div><!></div>");function Sv(e){let t=$(0),r=$(0),o=$(0);var a=Tv();de(a,"--dark-gray: #2F2F2F; --mid-gray: #9A9A9A; --light-gray: #e6e6e6; --correct-green: #E8FFB7; ");var n=Z(a);{var s=c=>{Kh(c,{get gameCounter(){return S(t)},set gameCounter(d){k(t,d)},get transitionHeight(){return S(r)},set transitionHeight(d){k(r,d)},get transitionWidth(){return S(o)},set transitionWidth(d){k(o,d)},$$legacy:!0})},u=(c,d)=>{{var l=f=>{Qh(f,{get gameCounter(){return S(t)},set gameCounter(i){k(t,i)},get transitionHeight(){return S(r)},set transitionHeight(i){k(r,i)},get transitionWidth(){return S(o)},set transitionWidth(i){k(o,i)},$$legacy:!0})},v=(f,i)=>{{var h=m=>{hv(m,{get gameCounter(){return S(t)},set gameCounter(y){k(t,y)},get transitionHeight(){return S(r)},set transitionHeight(y){k(r,y)},get transitionWidth(){return S(o)},set transitionWidth(y){k(o,y)},$$legacy:!0})},g=(m,y)=>{{var E=w=>{cv(w,{get gameCounter(){return S(t)},set gameCounter(p){k(t,p)},get transitionHeight(){return S(r)},set transitionHeight(p){k(r,p)},get transitionWidth(){return S(o)},set transitionWidth(p){k(o,p)},$$legacy:!0})},b=(w,p)=>{{var T=x=>{iv(x,{get gameCounter(){return S(t)},set gameCounter(M){k(t,M)},get transitionHeight(){return S(r)},set transitionHeight(M){k(r,M)},get transitionWidth(){return S(o)},set transitionWidth(M){k(o,M)},$$legacy:!0})},A=(x,M)=>{{var C=_=>{Ad(_,{get gameCounter(){return S(t)},set gameCounter(I){k(t,I)},get transitionHeight(){return S(r)},set transitionHeight(I){k(r,I)},get transitionWidth(){return S(o)},set transitionWidth(I){k(o,I)},$$legacy:!0})},D=(_,I)=>{{var N=P=>{wv(P,{get gameCounter(){return S(t)},set gameCounter(R){k(t,R)},get transitionHeight(){return S(r)},set transitionHeight(R){k(r,R)},get transitionWidth(){return S(o)},set transitionWidth(R){k(o,R)},$$legacy:!0})};Ne(_,P=>{S(t)===6&&P(N)},I)}};Ne(x,_=>{S(t)===5?_(C):_(D,!1)},M)}};Ne(w,x=>{S(t)===4?x(T):x(A,!1)},p)}};Ne(m,w=>{S(t)===3?w(E):w(b,!1)},y)}};Ne(f,m=>{S(t)===2?m(h):m(g,!1)},i)}};Ne(c,f=>{S(t)===1?f(l):f(v,!1)},d)}};Ne(n,c=>{S(t)===0?c(s):c(u,!1)})}X(a),pe(e,a)}var Ev=Ae("<!> <!>",1);function Ov(e){const t=[];var r=Ev(),o=Ze(r);js(o,{preloadFont:t});var a=re(o,2);Sv(a),pe(e,r)}export{Ov as component};
