import{i as z,l as h,x as V,E as j,H as J,y as K,z as Q,A as W,B as q,C as y,j as B,D as M,U as X,m as p,F as k,G as x,b as D,I as ee,S as F,n as L,J as G,g as d,K as re,L as se,M as H,N as ae,O as ne,P as ie,f as C,Q as ue,R as fe,T as te,V as le,W as ce,X as _e,Y as ve,Z as be,_ as de,$ as oe,a0 as Ie}from"./CB0XSnHg.js";import{s as Se,g as Ee}from"./Bs-cm-Ka.js";function ge(e,s,[a,r]=[0,0]){h&&a===0&&V();var u=e,n=null,f=null,o=X,E=a>0?j:0,c=!1;const g=(t,_=!0)=>{c=!0,b(_,t)},b=(t,_)=>{if(o===(o=t))return;let I=!1;if(h&&r!==-1){if(a===0){const l=u.data;l===J?r=0:l===K?r=1/0:(r=parseInt(l.substring(1)),r!==r&&(r=o?1/0:-1))}const P=r>a;!!o===P&&(u=Q(),W(u),q(!1),I=!0,r=-1)}o?(n?y(n):_&&(n=B(()=>_(u))),f&&M(f,()=>{f=null})):(f?y(f):_&&(f=B(()=>_(u,[a+1,r]))),n&&M(n,()=>{n=null})),I&&q(!0)};z(()=>{c=!1,s(g),c||b(null,null)},E),h&&(u=p)}function $(e,s){return e===s||(e==null?void 0:e[F])===s}function Ne(e={},s,a,r){return k(()=>{var u,n;return x(()=>{u=n,n=(r==null?void 0:r())||[],D(()=>{e!==a(...n)&&(s(e,...n),u&&$(a(...u),e)&&s(null,...u))})}),()=>{ee(()=>{n&&$(a(...n),e)&&s(null,...n)})}}),e}let R=!1,U=Symbol();function Oe(e,s,a){const r=a[s]??(a[s]={store:null,source:G(void 0),unsubscribe:L});if(r.store!==e&&!(U in a))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=L;else{var u=!0;r.unsubscribe=Se(e,n=>{u?r.source.v=n:H(r.source,n)}),u=!1}return e&&U in a?Ee(e):d(r.source)}function he(e,s,a){let r=a[s];return r&&r.store!==e&&(r.unsubscribe(),r.unsubscribe=L),e}function Pe(e,s){return e.set(s),s}function De(e,s){var a=e[s];a.store!==null&&Pe(a.store,a.source.v)}function Le(){const e={};function s(){re(()=>{for(var a in e)e[a].unsubscribe();se(e,U,{enumerable:!1,value:!0})})}return[e,s]}function Te(e){var s=R;try{return R=!1,[e(),R]}finally{R=s}}function w(e){var s;return((s=e.ctx)==null?void 0:s.d)??!1}function Ue(e,s,a,r){var m;var u=(a&de)!==0,n=!ve||(a&be)!==0,f=(a&ce)!==0,o=(a&oe)!==0,E=!1,c;f?[c,E]=Te(()=>e[s]):c=e[s];var g=F in e||_e in e,b=f&&(((m=ae(e,s))==null?void 0:m.set)??(g&&s in e&&(i=>e[s]=i)))||void 0,t=r,_=!0,I=!1,P=()=>(I=!0,_&&(_=!1,o?t=D(r):t=r),t);c===void 0&&r!==void 0&&(b&&n&&ne(),c=P(),b&&b(c));var l;if(n)l=()=>{var i=e[s];return i===void 0?P():(_=!0,I=!1,i)};else{var Y=(u?C:ue)(()=>e[s]);Y.f|=ie,l=()=>{var i=d(Y);return i!==void 0&&(t=void 0),i===void 0?t:i}}if((a&fe)===0)return l;if(b){var Z=e.$$legacy;return function(i,S){return arguments.length>0?((!n||!S||Z||E)&&b(S?l():i),i):l()}}var T=!1,N=!1,A=G(c),v=C(()=>{var i=l(),S=d(A);return T?(T=!1,N=!0,S):(N=!1,A.v=i)});return f&&d(v),u||(v.equals=te),function(i,S){if(Ie!==null&&(T=N,l(),d(A)),arguments.length>0){const O=S?d(v):n&&f?le(i):i;if(!v.equals(O)){if(T=!0,H(A,O),I&&t!==void 0&&(t=O),w(v))return i;D(()=>d(v))}return i}return w(v)?v.v:d(v)}}export{Oe as a,Ne as b,Le as c,De as d,ge as i,Ue as p,he as s};
